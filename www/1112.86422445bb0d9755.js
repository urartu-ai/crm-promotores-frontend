"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1112],{1112:(T,v,r)=>{r.r(v),r.d(v,{CalendarScreenPageModule:()=>F});var f=r(177),h=r(9417),u=r(9465),m=r(5188),b=r(467),s=r(9703);const a=void 0,p=["es",[["a.\xa0m.","p.\xa0m."],a,a],a,[["D","L","M","X","J","V","S"],["dom","lun","mar","mi\xe9","jue","vie","s\xe1b"],["domingo","lunes","martes","mi\xe9rcoles","jueves","viernes","s\xe1bado"],["DO","LU","MA","MI","JU","VI","SA"]],a,[["E","F","M","A","M","J","J","A","S","O","N","D"],["ene","feb","mar","abr","may","jun","jul","ago","sept","oct","nov","dic"],["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]],a,[["a. C.","d. C."],a,["antes de Cristo","despu\xe9s de Cristo"]],1,[6,0],["d/M/yy","d MMM y","d 'de' MMMM 'de' y","EEEE, d 'de' MMMM 'de' y"],["H:mm","H:mm:ss","H:mm:ss z","H:mm:ss (zzzz)"],["{1}, {0}",a,a,a],[",",".",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0\xa0%","#,##0.00\xa0\xa4","#E0"],"EUR","\u20ac","euro",{AUD:[a,"$"],BRL:[a,"R$"],BYN:[a,"\u0440."],CAD:[a,"$"],CNY:[a,"\xa5"],EGP:[],ESP:["\u20a7"],GBP:[a,"\xa3"],HKD:[a,"$"],ILS:[a,"\u20aa"],INR:[a,"\u20b9"],JPY:[a,"\xa5"],KRW:[a,"\u20a9"],MXN:[a,"$"],NZD:[a,"$"],PHP:[a,"\u20b1"],RON:[a,"L"],THB:["\u0e3f"],TWD:[a,"NT$"],USD:["US$","$"],XAF:[],XCD:[a,"$"],XOF:[]},"ltr",function C(n){const i=n,l=Math.floor(Math.abs(n)),t=n.toString().replace(/^[^.]*\.?/,"").length,o=parseInt(n.toString().replace(/^[^e]*(e([-+]?\d+))?/,"$2"))||0;return 1===i?1:0===o&&0!==l&&l%1e6==0&&0===t||!(o>=0&&o<=5)?4:5}];var e=r(3953),w=r(4501),M=r(6039);const P=(n,i)=>[n,i];function _(n,i){1&n&&e.EFF(0," Mes anterior ")}function y(n,i){1&n&&e.EFF(0," Semana anterior ")}function O(n,i){if(1&n){const l=e.RV6();e.j41(0,"ion-button",11),e.bIt("click",function(){const o=e.eBV(l).$implicit,d=e.XpG();return e.Njj(d.setView(o))}),e.EFF(1),e.k0s()}if(2&n){const l=i.$implicit,t=e.XpG();e.Y8G("fill",t.view===l?"solid":"outline"),e.R7$(),e.SpI(" ",l===t.CalendarView.Month?"Mes":"Semana"," ")}}function E(n,i){1&n&&e.EFF(0," Mes siguiente ")}function k(n,i){1&n&&e.EFF(0," Semana siguiente ")}function S(n,i){if(1&n&&e.nrm(0,"mwl-calendar-month-view",12),2&n){const l=e.XpG();e.Y8G("viewDate",l.viewDate)("locale",l.locale)("events",l.events)}}function x(n,i){if(1&n&&e.nrm(0,"mwl-calendar-week-view",12),2&n){const l=e.XpG();e.Y8G("viewDate",l.viewDate)("locale",l.locale)("events",l.events)}}(0,f.EO)(p);const D=[{path:"",component:(()=>{var n;class i{constructor(t,o){this.headerService=t,this.api=o,this.view=s.St.Month,this.CalendarView=s.St,this.viewDate=new Date,this.locale="es",this.rawEvents=[],this.events=[]}ngOnInit(){var t=this;return(0,b.A)(function*(){var o,d;t.headerService.setConfig({title:"calendar"});const g=yield t.api.getVisit({},{field:"date",order:"asc"},{page:1,itemsPerPage:100});t.rawEvents=null==g||null===(o=g.success)||void 0===o?void 0:o.data,console.log("events",null==g||null===(d=g.success)||void 0===d?void 0:d.data),t.events=t.rawEvents.map(c=>({start:c.date,end:c.notes&&c.notes.includes("D\xeda")?void 0:new Date(c.date.getTime()+36e5),title:c.notes,allDay:c.notes.includes("D\xeda"),color:{primary:"#3A50E4",secondary:"#EBEBEB"},meta:{id:c.id,notes:c.notes}}))})()}setView(t){this.view=t}prev(){this.changeDate(-1)}next(){this.changeDate(1)}changeDate(t){this.viewDate=this.view===s.St.Month?new Date(this.viewDate.getFullYear(),this.viewDate.getMonth()+t,1):new Date(this.viewDate.setDate(this.viewDate.getDate()+7*t))}}return(n=i).\u0275fac=function(t){return new(t||n)(e.rXU(w.d),e.rXU(M.i))},n.\u0275cmp=e.VBU({type:n,selectors:[["app-calendar-screen"]],decls:17,vars:10,consts:[[3,"fullscreen","scrollY"],[1,"crm-block-content"],[1,"crm-block-body-blue-content"],[1,"toolbar"],["ion-button","",1,"nav-btn",3,"click"],[1,"fas","fa-chevron-left"],[1,"view-toggle"],[3,"fill","click",4,"ngFor","ngForOf"],[1,"fas","fa-chevron-right"],[1,"calendar-container"],[3,"viewDate","locale","events",4,"ngIf"],[3,"click","fill"],[3,"viewDate","locale","events"]],template:function(t,o){1&t&&(e.j41(0,"ion-content",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"button",4),e.bIt("click",function(){return o.prev()}),e.nrm(5,"i",5),e.DNE(6,_,1,0)(7,y,1,0),e.k0s(),e.j41(8,"div",6),e.DNE(9,O,2,2,"ion-button",7),e.k0s(),e.j41(10,"button",4),e.bIt("click",function(){return o.next()}),e.DNE(11,E,1,0)(12,k,1,0),e.nrm(13,"i",8),e.k0s()(),e.j41(14,"div",9),e.DNE(15,S,1,3,"mwl-calendar-month-view",10)(16,x,1,3,"mwl-calendar-week-view",10),e.k0s()()()()),2&t&&(e.Y8G("fullscreen",!0)("scrollY",!0),e.R7$(6),e.vxM(o.view===o.CalendarView.Month?6:7),e.R7$(3),e.Y8G("ngForOf",e.l_i(7,P,o.CalendarView.Month,o.CalendarView.Week)),e.R7$(2),e.vxM(o.view===o.CalendarView.Month?11:12),e.R7$(4),e.Y8G("ngIf",o.view===o.CalendarView.Month),e.R7$(),e.Y8G("ngIf",o.view===o.CalendarView.Week))},dependencies:[f.Sq,f.bT,u.Jm,u.W9,s.jD,s.tG],styles:['@charset "UTF-8";[_nghost-%COMP%]     .cal-month-view{padding:0}[_nghost-%COMP%]     .cal-month-view .cal-header .cal-cell{font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:14px;color:#333;border:1px solid #EBEBEB;padding:8px;background:#fff;text-align:left;font-weight:400;text-transform:uppercase}[_nghost-%COMP%]     .cal-month-view .cal-header .cal-cell:hover{background:#fff}[_nghost-%COMP%]     .cal-month-view .cal-day-number{float:left;margin:12px 0 0 12px;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;color:#333;font-size:18px;opacity:1}[_nghost-%COMP%]     .cal-month-view .cal-day-badge{display:none}[_nghost-%COMP%]     .cal-month-view .cal-day-cell.cal-weekend .cal-day-number{color:#bbb}[_nghost-%COMP%]     .cal-month-view .cal-day-cell.cal-today{background-color:#fff;border-radius:6px;box-shadow:0 0 0 2px #3a50e4;border:none}[_nghost-%COMP%]     .cal-month-view .cal-day-cell.cal-today .cal-day-number{color:#3a50e4;font-size:18px;font-weight:700}[_nghost-%COMP%]     .cal-month-view .cal-day-cell.cal-today .ds-calendar-cell-title{color:#3a50e4;font-weight:700}[_nghost-%COMP%]     .cal-month-view .cal-cell-top{min-height:auto;max-height:auto}[_nghost-%COMP%]     .cal-week-view{padding:0}[_nghost-%COMP%]     .cal-week-view .cal-header .cal-cell{font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:14px;color:#333;border-bottom:1px solid #EBEBEB;border-right:1px solid #EBEBEB;padding:8px;background:#fff;text-transform:uppercase;font-weight:400;text-align:left}[_nghost-%COMP%]     .cal-week-view .cal-header .cal-cell:hover{background:#fff}[_nghost-%COMP%]     .cal-week-view .cal-header .cal-cell:last-child{border-right:none}[_nghost-%COMP%]     .cal-week-view .cal-time-label{font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:12px;color:#333;padding:4px 8px;border-right:1px solid #EBEBEB;background:#fff}[_nghost-%COMP%]     .cal-week-view .cal-time-segment{border-top:1px solid #EBEBEB}[_nghost-%COMP%]     .cal-week-view .cal-body .cal-day-column{border-right:1px solid #EBEBEB}[_nghost-%COMP%]     .cal-week-view .cal-body .cal-day-column:last-child{border-right:none}[_nghost-%COMP%]     .cal-week-view .cal-day-column.cal-today{background-color:#fff;box-shadow:inset 0 0 0 2px #3a50e4}.crm-block-body-blue-content[_ngcontent-%COMP%]{height:100%}.crm-block-body-blue-content[_ngcontent-%COMP%]   .toolbar[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:.5rem 1rem;background-color:#3a50e4;border-radius:8px;box-shadow:0 2px 4px #0000001a}.crm-block-body-blue-content[_ngcontent-%COMP%]   .toolbar[_ngcontent-%COMP%]   .nav-btn[_ngcontent-%COMP%]{--box-shadow: none;--border: none;font-size:14px;color:#fff;padding:.25rem .5rem;background:transparent;display:flex;align-items:center;justify-content:center;gap:16px;font-weight:700}.crm-block-body-blue-content[_ngcontent-%COMP%]   .toolbar[_ngcontent-%COMP%]   .nav-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16px;color:#fff}.crm-block-body-blue-content[_ngcontent-%COMP%]   .toolbar[_ngcontent-%COMP%]   .view-toggle[_ngcontent-%COMP%]{display:flex}.crm-block-body-blue-content[_ngcontent-%COMP%]   .toolbar[_ngcontent-%COMP%]   .view-toggle[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin:0 .25rem;--background-focused: rgba(255, 255, 255, .2);font-size:.9rem;text-transform:uppercase;font-weight:600}.crm-block-body-blue-content[_ngcontent-%COMP%]   .toolbar[_ngcontent-%COMP%]   .view-toggle[_ngcontent-%COMP%]   ion-button[fill=outline][_ngcontent-%COMP%]{--border-color: #ffffff;--color: #ffffff}.crm-block-body-blue-content[_ngcontent-%COMP%]   .toolbar[_ngcontent-%COMP%]   .view-toggle[_ngcontent-%COMP%]   ion-button[fill=solid][_ngcontent-%COMP%]{--background: #ffffff;--color: #3A50E4}']}),i})()}];let B=(()=>{var n;class i{}return(n=i).\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.$C({type:n}),n.\u0275inj=e.G2t({imports:[m.iI.forChild(D),m.iI]}),i})();var $=r(1163);let F=(()=>{var n;class i{}return(n=i).\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.$C({type:n}),n.\u0275inj=e.G2t({imports:[f.MD,h.YN,u.bv,B,s.rO.forRoot({provide:s.MJ,useFactory:$.a})]}),i})()}}]);