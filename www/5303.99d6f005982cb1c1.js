"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5303],{5303:($t,h,c)=>{c.r(h),c.d(h,{ContactDetailsPageModule:()=>bt});var p=c(177),T=c(9417),$=c(9465),v=c(517),d=c(467),y=c(7376),t=c(3953),E=c(4501),F=c(9333),f=c(8397),k=c(6552),I=c(2606),R=c(8433),D=c(6039),P=c(3837),C=c(4842);const O=["contactForm"];function S(o,a){if(1&o){const e=t.RV6();t.j41(0,"button",7),t.bIt("click",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.onSaveContact())}),t.nrm(1,"i",8),t.EFF(2),t.nI1(3,"translate"),t.k0s()}2&o&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"CONTACT_DETAILS_INFO.SAVE_CONTACT")," "))}function G(o,a){if(1&o){const e=t.RV6();t.j41(0,"button",9),t.bIt("click",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.onEditContact())}),t.nrm(1,"i",10),t.EFF(2),t.nI1(3,"translate"),t.k0s()}2&o&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"CONTACT_DETAILS_INFO.EDIT_CONTACT")," "))}let M=(()=>{var o;class a{constructor(i,n,l){this.api=i,this.toastService=n,this.contactsService=l,this.contact=null,this.saveContact=new t.bkB,this.editing=!1}ngOnInit(){}onEditContact(){this.editing=!0,this.contactForm.fileUploaderManager.setEditingMode(!0)}onSaveContact(){var i=this;return(0,d.A)(function*(){var n;(yield i.contactsService.createOrUpdateContactFromForm(i.contactForm,null===(n=i.contact)||void 0===n?void 0:n.id))&&(i.editing=!1,i.contactForm.fileUploaderManager.setEditingMode(!1),i.saveContact.emit())})()}}return(o=a).\u0275fac=function(i){return new(i||o)(t.rXU(D.i),t.rXU(f.f),t.rXU(F.F))},o.\u0275cmp=t.VBU({type:o,selectors:[["app-contact-details-info"]],viewQuery:function(i,n){if(1&i&&t.GBs(O,5),2&i){let l;t.mGM(l=t.lsd())&&(n.contactForm=l.first)}},inputs:{contact:"contact"},outputs:{saveContact:"saveContact"},decls:8,vars:3,consts:[["contactForm",""],[1,"crm-header-modal","crm-header-modal-empty","details"],[1,"crm-buttons-group"],[1,"crm-button-secondary","crm-button-secondary-primary"],[1,"crm-button-secondary"],[1,"crm-boxes-user-create"],[2,"width","100%",3,"contact","disabled"],[1,"crm-button-secondary","crm-button-secondary-primary",3,"click"],[1,"fa","fa-check"],[1,"crm-button-secondary",3,"click"],[1,"fa","fa-edit"]],template:function(i,n){1&i&&(t.j41(0,"div",1),t.nrm(1,"div"),t.j41(2,"div",2),t.DNE(3,S,4,3,"button",3)(4,G,4,3,"button",4),t.k0s()(),t.j41(5,"div",5),t.nrm(6,"app-contact-form",6,0),t.k0s()),2&i&&(t.R7$(3),t.vxM(n.editing?3:4),t.R7$(3),t.Y8G("contact",n.contact)("disabled",!n.editing))},dependencies:[P.q,C.D9]}),a})();var A=c(8374),X=c(1213),N=c(7380),U=c(363),B=c(1852);const Y=o=>({item:o}),x=(o,a)=>({"background-color":o,color:a}),V=o=>({mode:"contact",contactId:o,itemsPerPage:5});function J(o,a){if(1&o&&(t.j41(0,"div",33),t.EFF(1),t.k0s()),2&o){const e=t.XpG().$implicit;t.R7$(),t.SpI(" Propiedad ",null==e||null==e.mainProperty?null:e.mainProperty.reference," ")}}function z(o,a){if(1&o&&(t.j41(0,"div",42),t.EFF(1),t.k0s()),2&o){const e=t.XpG().$implicit,i=t.XpG();t.Y8G("ngStyle",t.l_i(2,x,i.utils.hexToRgba(null==e||null==e.currentPipelineStep?null:e.currentPipelineStep.color,.1),null==e||null==e.currentPipelineStep?null:e.currentPipelineStep.color)),t.R7$(),t.SpI(" ",null==e||null==e.currentPipelineStep?null:e.currentPipelineStep.text," ")}}function H(o,a){1&o&&(t.j41(0,"div",43),t.EFF(1," fill "),t.k0s())}function L(o,a){if(1&o){const e=t.RV6();t.j41(0,"div",27),t.bIt("click",function(){const n=t.eBV(e).$implicit,l=t.XpG();return t.Njj(l.onOpenOperation(n))}),t.j41(1,"div",28)(2,"div",29),t.nrm(3,"img",30),t.k0s(),t.j41(4,"div",31)(5,"div",32),t.EFF(6),t.k0s(),t.DNE(7,J,2,1,"div",33),t.k0s()(),t.j41(8,"div",34)(9,"div",35)(10,"div",36)(11,"div",37),t.EFF(12,"Fecha de creaci\xf3n"),t.k0s(),t.j41(13,"div",38)(14,"div"),t.EFF(15),t.nI1(16,"date"),t.k0s()()(),t.j41(17,"div",36)(18,"div",37),t.EFF(19,"Responsable"),t.k0s(),t.j41(20,"div",38)(21,"div",39)(22,"div",40),t.EFF(23),t.k0s()()()()()(),t.j41(24,"div",41),t.DNE(25,z,2,5,"div",42)(26,H,2,0,"div",43),t.k0s()()}if(2&o){const e=a.$implicit,i=a.$index;t.R7$(3),t.Y8G("src","assets/images/building.png",t.B4B),t.R7$(3),t.SpI(" Operaci\xf3n ",i+1," "),t.R7$(),t.vxM(null!=e&&e.mainProperty?7:-1),t.R7$(8),t.SpI(" ",t.i5U(16,6,e.createdAt,"dd/MM/yyyy")," "),t.R7$(8),t.SpI(" ",(null==e||null==e.responsible?null:e.responsible.name)||(null==e||null==e.createdBy?null:e.createdBy.name)," "),t.R7$(2),t.vxM(null!=e&&null!=e.currentPipelineStep&&e.currentPipelineStep.text?25:26)}}function Q(o,a){if(1&o&&(t.j41(0,"div"),t.nrm(1,"app-autolead-email-list-viewer",44),t.k0s()),2&o){const e=t.XpG();t.R7$(),t.Y8G("options",t.eq3(1,V,null==e.contact?null:e.contact.id))}}function Z(o,a){1&o&&t.nrm(0,"i",19)}function K(o,a){1&o&&t.nrm(0,"i",20)}function W(o,a){if(1&o){const e=t.RV6();t.j41(0,"div",21)(1,"div",45)(2,"button",46),t.nrm(3,"i",47),t.EFF(4),t.nI1(5,"translate"),t.k0s(),t.j41(6,"button",48),t.nrm(7,"i",49),t.EFF(8),t.nI1(9,"translate"),t.k0s(),t.j41(10,"button",48),t.nrm(11,"i",50),t.EFF(12),t.nI1(13,"translate"),t.k0s(),t.j41(14,"button",48),t.nrm(15,"i",51),t.EFF(16),t.nI1(17,"translate"),t.k0s()(),t.j41(18,"app-activity-creation-block",52),t.bIt("onNoteCreated",function(n){t.eBV(e);const l=t.XpG();return t.Njj(l.onNoteCreated(n))}),t.k0s()()}if(2&o){const e=t.XpG();t.R7$(4),t.SpI(" ",t.bMT(5,5,"text.note")," "),t.R7$(4),t.SpI(" ",t.bMT(9,7,"text.visit")," "),t.R7$(4),t.SpI(" ",t.bMT(13,9,"text.mail")," "),t.R7$(4),t.SpI(" ",t.bMT(17,11,"text.task")," "),t.R7$(2),t.Y8G("options",e.creationBlockActivityCreationOptions)}}let w=(()=>{var o;class a{constructor(i,n,l,s,r,u){this.modalService=i,this.api=n,this.router=l,this.toast=s,this.byvaroState=r,this.utils=u,this.operationActivityData={notes:[],operationHistorics:[],operation:null},this.operations=[],this.collapsedActivityAdder=!1,this.creationBlockActivityCreationOptions={type:"note",activityType:"contact",contactId:null,operationId:null}}ngOnChanges(){this.contact&&(this.getUserInfo(),this.getOperations(),this.getUserNotes(),this.creationBlockActivityCreationOptions.contactId=this.contact.id)}onOpenOperation(i){var n=this;return(0,d.A)(function*(){yield(yield n.modalService.showOperationModal(null==i?void 0:i.id)).onDidDismiss(),n.getOperations()})()}onNoteCreated(i){console.log("note created",i),this.getUserNotes()}onAddOperation(){var i=this;return(0,d.A)(function*(){var n;const s=yield(yield i.modalService.showOperationPropertiesSearchModal()).onDidDismiss();null!=s&&null!==(n=s.data)&&void 0!==n&&n.checkedProperties&&i.createOperation(s.data.checkedProperties)})()}getUserInfo(){this.byvaroState.getState().subscribe(i=>{this.currentUser=i.user,this.userAgency=i.agency,this.userPromoter=i.promoter})}getUserNotes(){var i=this;return(0,d.A)(function*(){var n;const l=yield i.api.getNote({contactId:{equals:i.contact.id}},{field:"createdAt",order:"desc"},null,{createdBy:{apply:!0,filter:null,onlyCount:!1}});i.operationActivityData.notes=(null===(n=l.success)||void 0===n?void 0:n.data)||[]})()}getPipelines(){var i=this;return(0,d.A)(function*(){var n;return(null===(n=(yield i.api.getPipelines({},null,null,{steps:{apply:!0,filter:null,onlyCount:!1}})).success)||void 0===n?void 0:n.data)||[]})()}getOperations(){var i=this;return(0,d.A)(function*(){var n;const l=yield i.api.getOperation({contactId:{equals:i.contact.id}},null,null,{contact:{apply:!0,filter:null,onlyCount:!1},createdBy:{apply:!0,filter:null,onlyCount:!1},responsible:{apply:!0,filter:null,onlyCount:!1},mainProperty:{apply:!0,filter:null,onlyCount:!1},currentPipeline:{apply:!0,filter:null,onlyCount:!1},currentPipelineStep:{apply:!0,filter:null,onlyCount:!1},promotions:{apply:!0,filter:null,onlyCount:!1},selectedProperties:{apply:!0,filter:null,onlyCount:!1},notes:{apply:!0,filter:null,onlyCount:!1},operations:{apply:!0,filter:null,onlyCount:!1}});i.operations=(null===(n=l.success)||void 0===n?void 0:n.data)||[]})()}createOperation(i){var n=this;return(0,d.A)(function*(){var l,s,r,u;let m=null,b=yield n.getPipelines();b.length>0&&(m=b.find(g=>"operaciones"===g.title),m.steps=(0,y.sortBy)(m.steps,"order"));const jt={operationType:n.currentUser.accountType,contactId:n.contact.id,promoterId:null===(l=n.userPromoter)||void 0===l?void 0:l.id,agencyId:null===(s=n.userAgency)||void 0===s?void 0:s.id,createdById:n.currentUser.id,responsibleId:n.currentUser.id,currentPipelineId:null===(r=m)||void 0===r?void 0:r.id,currentPipelineStepId:m?m.steps[0].id:null},_=yield n.api.createOperation(jt),j=null===(u=_.success)||void 0===u?void 0:u.data,Tt=i.map(g=>g.id);yield n.api.linkPropertiesToOperation(j.id,Tt),yield n.setMainProperty(i[0].id,j.id),n.toast.showToast(_.success?{text:"Operaci\xf3n creada correctamente",theme:"success",time:2e3}:{text:"Error al crear la operaci\xf3n. "+_.error.errorMessage,theme:"red",time:2e3}),n.getOperations()})()}setMainProperty(i,n){var l=this;return(0,d.A)(function*(){yield l.api.updateOperationById(n,{mainPropertyId:i})})()}}return(o=a).\u0275fac=function(i){return new(i||o)(t.rXU(A.M),t.rXU(D.i),t.rXU(v.Ix),t.rXU(f.f),t.rXU(X.c),t.rXU(k.T))},o.\u0275cmp=t.VBU({type:o,selectors:[["app-contact-details-operations"]],inputs:{contact:"contact"},features:[t.OA$],decls:45,vars:15,consts:[[1,"crm-opp-contact-screen"],[1,"crm-opp-contact-screen-left"],[1,"crm-section","crm-section-padding","big-padding"],[1,"crm-header-icon","no-padding","no-line","no-background"],[1,"crm-header-icon-left"],[1,"crm-square-icon"],[1,"fa-solid","fa-bullseye"],[1,"crm-header-icon-title"],[1,"crm-header-icon-right"],[1,"crm-button",3,"click"],[1,"fas","fa-plus"],[1,"crm-section-operations"],[1,"crm-item-operation"],[1,"crm-opp-contact-screen-right"],[1,"crm-section","crm-section-padding"],[1,"crm-section"],[1,"crm-header-icon","crm-header-icon-less-padding","no-line","no-padding"],[1,"fa-solid","fa-add"],[1,"crm-button-icon-solo",3,"click"],[1,"fas","fa-chevron-up"],[1,"fas","fa-chevron-down"],[1,"crm-activity"],[1,"crm-horizontal-separator"],[1,"fa-solid","fa-clock-rotate-left"],[1,"crm-button-icon-solo"],[1,"fas","fa-filter"],[3,"data"],[1,"crm-item-operation",3,"click"],[1,"crm-item-operation-left"],[1,"crm-item-operation-left-image"],["alt","",3,"src"],[1,"crm-item-operation-left-info"],[1,"crm-item-operation-left-info-promotion"],[1,"crm-item-operation-left-info-property"],[1,"crm-item-operation-center"],[1,"crm-block-info-horizontal"],[1,"crm-info"],[1,"crm-info-title"],[1,"crm-info-content"],[1,"crm-item-reference"],[1,"crm-item-reference-text"],[1,"crm-item-operation-right"],[1,"crm-item-chip","crm-item-chip-warn",3,"ngStyle"],[1,"crm-item-chip","crm-item-chip-warn",2,"visibility","hidden"],[3,"options"],[1,"crm-activity-selector"],[1,"crm-button","crm-button-center"],[1,"fas","fa-note-sticky"],[1,"crm-button-secondary","crm-button-secondary-primary","crm-button-center"],[1,"fas","fa-calendar-alt"],[1,"fas","fa-envelope"],[1,"fas","fa-check"],[3,"onNoteCreated","options"]],template:function(i,n){1&i&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),t.nrm(6,"i",6),t.k0s(),t.j41(7,"div",7),t.EFF(8),t.nI1(9,"translate"),t.k0s()(),t.j41(10,"div",8)(11,"button",9),t.bIt("click",function(){return n.onAddOperation()}),t.nrm(12,"i",10),t.EFF(13),t.nI1(14,"translate"),t.nI1(15,"translate"),t.k0s()()(),t.j41(16,"div",11),t.Z7z(17,L,27,9,"div",12,t.fX1),t.k0s(),t.DNE(19,Q,2,3,"div"),t.k0s()(),t.j41(20,"div",13)(21,"div",14)(22,"div",15)(23,"div",16)(24,"div",4)(25,"div",5),t.nrm(26,"i",17),t.k0s(),t.j41(27,"div",7),t.EFF(28," A\xf1adir actividad "),t.k0s()(),t.j41(29,"div",8)(30,"button",18),t.bIt("click",function(){return n.collapsedActivityAdder=!n.collapsedActivityAdder}),t.DNE(31,Z,1,0,"i",19)(32,K,1,0,"i",20),t.k0s()()(),t.DNE(33,W,19,13,"div",21),t.nrm(34,"div",22),t.j41(35,"div",16)(36,"div",4)(37,"div",5),t.nrm(38,"i",23),t.k0s(),t.j41(39,"div",7),t.EFF(40," Historial "),t.k0s()(),t.j41(41,"div",8)(42,"button",24),t.nrm(43,"i",25),t.k0s()()(),t.nrm(44,"app-operation-activity-block",26),t.k0s()()()()),2&i&&(t.R7$(8),t.SpI(" ",t.bMT(9,6,"text.operations")," "),t.R7$(5),t.SpI(" ",t.i5U(15,10,"text.add_item",t.eq3(13,Y,t.bMT(14,8,"text.operation")))," "),t.R7$(4),t.Dyx(n.operations),t.R7$(2),t.vxM(n.contact?19:-1),t.R7$(12),t.vxM(n.collapsedActivityAdder?31:32),t.R7$(2),t.vxM(n.collapsedActivityAdder?-1:33),t.R7$(11),t.Y8G("data",n.operationActivityData))},dependencies:[p.B3,N.$,U.T,B.n,p.vh,C.D9]}),a})();const q=o=>({"no-padding":o}),tt=o=>({father:"contact",operationId:o});function nt(o,a){if(1&o&&(t.j41(0,"div",20)(1,"div",21)(2,"div",22),t.nrm(3,"span",23),t.k0s()()()),2&o){let e,i;const n=t.XpG().$implicit,l=t.XpG(2);t.R7$(3),t.HbH(null==(e=l.utils.getLanguageInfo(n))?null:e.flagClass),t.Y8G("title",null==(i=l.utils.getLanguageInfo(n))?null:i.name)}}function ot(o,a){1&o&&t.DNE(0,nt,4,3,"div",20),2&o&&t.vxM(a.$index<4?0:-1)}function et(o,a){if(1&o&&(t.j41(0,"div",16),t.EFF(1),t.k0s()),2&o){const e=t.XpG(2);t.R7$(),t.SpI(" +",(null==e.contact?null:e.contact.languages.length)-4," ")}}function it(o,a){if(1&o&&(t.j41(0,"div",19),t.Z7z(1,ot,1,1,null,null,t.fX1),t.k0s(),t.DNE(3,et,2,1,"div",16)),2&o){const e=t.XpG();t.R7$(),t.Dyx(null==e.contact?null:e.contact.languages),t.R7$(2),t.vxM((null==e.contact?null:e.contact.languages.length)>4?3:-1)}}function at(o,a){1&o&&t.nrm(0,"div",16)}function lt(o,a){1&o&&(t.j41(0,"span"),t.EFF(1,"s"),t.k0s())}function ct(o,a){if(1&o&&(t.j41(0,"div"),t.EFF(1),t.k0s()),2&o){const e=t.XpG();t.R7$(),t.JRh(null==e.contact||null==e.contact.phones?null:e.contact.phones[0])}}function st(o,a){if(1&o&&(t.j41(0,"div"),t.EFF(1),t.k0s()),2&o){const e=t.XpG();t.R7$(),t.JRh(null==e.contact||null==e.contact.phones?null:e.contact.phones[1])}}function rt(o,a){if(1&o&&(t.j41(0,"div"),t.EFF(1),t.k0s()),2&o){const e=t.XpG();t.R7$(),t.SpI("+",(null==e.contact||null==e.contact.phones?null:e.contact.phones.length)-2,"")}}function dt(o,a){1&o&&(t.j41(0,"span"),t.EFF(1,"s"),t.k0s())}function ut(o,a){if(1&o&&(t.j41(0,"div"),t.EFF(1),t.k0s()),2&o){const e=t.XpG();t.R7$(),t.JRh(null==e.contact||null==e.contact.emails?null:e.contact.emails[0])}}function pt(o,a){if(1&o&&(t.j41(0,"div"),t.EFF(1),t.k0s()),2&o){const e=t.XpG();t.R7$(),t.JRh(null==e.contact||null==e.contact.emails?null:e.contact.emails[1])}}function mt(o,a){if(1&o&&(t.j41(0,"div"),t.EFF(1),t.k0s()),2&o){const e=t.XpG();t.R7$(),t.SpI("+",(null==e.contact||null==e.contact.emails?null:e.contact.emails.length)-2,"")}}function vt(o,a){if(1&o&&(t.j41(0,"div",13)(1,"div",14),t.EFF(2,"Relacionado con"),t.k0s(),t.j41(3,"div",18)(4,"div",34)(5,"div",35),t.EFF(6),t.k0s()()()()),2&o){const e=t.XpG();t.R7$(6),t.SpI(" ",(null==e.contact||null==e.contact.contactsRelation||null==e.contact.contactsRelation[0]||null==e.contact.contactsRelation[0].contact?null:e.contact.contactsRelation[0].contact.name)||(null==e.contact||null==e.contact.contactsRelated||null==e.contact.contactsRelated[0]||null==e.contact.contactsRelated[0].contact?null:e.contact.contactsRelated[0].contact.name)," ")}}function ft(o,a){1&o&&(t.j41(0,"div",39),t.EFF(1," Este lead ha sido creado autom\xe1ticamente desde un correo, verifica que no hayan errores "),t.k0s())}function Ct(o,a){if(1&o){const e=t.RV6();t.DNE(0,ft,2,0,"div",39),t.j41(1,"app-contact-details-info",40),t.bIt("saveContact",function(){t.eBV(e);const n=t.XpG(2);return t.Njj(n.ngOnInit())}),t.k0s()}if(2&o){const e=t.XpG(2);t.vxM(null!=e.contact&&e.contact.isAutoCreatedFromAutoLead?0:-1),t.R7$(),t.Y8G("contact",e.contactCopy)}}function _t(o,a){if(1&o&&t.nrm(0,"app-contact-details-operations",37),2&o){const e=t.XpG(2);t.Y8G("contact",e.contact)}}function gt(o,a){if(1&o&&t.nrm(0,"app-operation-documents",38),2&o){const e=t.XpG(2);t.Y8G("options",t.eq3(1,tt,e.contact.id))}}function ht(o,a){if(1&o&&t.DNE(0,Ct,2,2,"app-contact-details-info",36)(1,_t,1,1,"app-contact-details-operations",37)(2,gt,1,3,"app-operation-documents",38),2&o){const e=t.XpG();t.vxM("info"===e.activeTab?0:-1),t.R7$(),t.vxM("operations"===e.activeTab?1:-1),t.R7$(),t.vxM("documents"===e.activeTab?2:-1)}}const yt=[{path:"",component:(()=>{var o;class a{constructor(i,n,l,s,r,u){this.headerService=i,this.activatedRoute=n,this.contactsService=l,this.toastService=s,this.router=r,this.utils=u,this.contactParameterId=null,this.contact=null,this.contactCopy=null,this.activeTab="info",this.tabs=[{id:"1",title:"info",active:!0},{id:"2",title:"operations",active:!1},{id:"3",title:"documents",active:!1}]}ngOnInit(){this.contactParameterId=this.activatedRoute.snapshot.paramMap.get("id"),this.getData()}ionViewWillEnter(){this.headerService.setConfig({title:"contact_details"})}onTabClicked(i){this.activeTab=i}getData(){var i=this;return(0,d.A)(function*(){if(i.contact=yield i.getContactById(),i.contactCopy=y.cloneDeep(i.contact),!i.contact)return i.toastService.showToast({text:"No existe ning\xfan contacto con ese ID",icon:"fas fa-exclamation-triangle",theme:"red",time:3e3}),void i.router.navigate(["/contacts"]);console.log(i.contact)})()}getContactById(){var i=this;return(0,d.A)(function*(){return i.contactParameterId?i.contactsService.getContactById(i.contactParameterId):null})()}}return(o=a).\u0275fac=function(i){return new(i||o)(t.rXU(E.d),t.rXU(v.nX),t.rXU(F.F),t.rXU(f.f),t.rXU(v.Ix),t.rXU(k.T))},o.\u0275cmp=t.VBU({type:o,selectors:[["app-contact-details"]],decls:91,vars:35,consts:[[1,"crm-block-body"],[1,"crm-block-body-fixed"],[1,"crm-block-details-header"],[1,"crm-block-details-header-top"],[1,"crm-block-details-header-left"],[1,"crm-block-photo-and-info"],[1,"crm-block-photo-and-info-img"],["alt","",3,"src"],[1,"crm-block-photo-and-info-info"],[1,"crm-block-photo-and-info-info-title"],[1,"crm-block-photo-and-info-info-footer"],[1,"crm-vertical-separator"],[1,"crm-block-info-horizontal"],[1,"crm-info","crm-info-size-medium"],[1,"crm-info-title"],[1,"crm-info-content-langs"],[1,"crm-info-content-langs-plus"],[1,"crm-info","crm-info-size-small"],[1,"crm-info-content"],[1,"crm-info-content-langs-langs"],[1,"crm-item-option","crm-item-option-lang"],[1,"crm-item-option-left"],[1,"crm-item-option-flag"],[3,"title"],[1,"crm-item-option-label"],[4,"ngIf"],[1,"crm-info"],[1,"crm-info-content","crm-info-content-with-icon"],[1,"fas","fa-bullseye"],[1,"crm-block-details-header-right"],[1,"crm-buttons-group"],[1,"crm-block-details-bottom"],[3,"tabClicked","tabs"],[1,"crm-block-body-blue-content",3,"ngClass"],[1,"crm-item-reference"],[1,"crm-item-reference-text"],[3,"contact"],[2,"flex","1",3,"contact"],[3,"options"],[1,"crm-item-chip","crm-item-chip-warn"],[3,"saveContact","contact"]],template:function(i,n){if(1&i&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),t.nrm(7,"img",7),t.k0s(),t.j41(8,"div",8)(9,"div")(10,"div",9),t.EFF(11),t.k0s(),t.j41(12,"div",10),t.EFF(13),t.k0s()(),t.j41(14,"div")(15,"div",10),t.EFF(16),t.nI1(17,"date"),t.k0s()()()(),t.nrm(18,"div",11),t.j41(19,"div",12)(20,"div",13)(21,"div",14),t.EFF(22,"Idiomas"),t.k0s(),t.j41(23,"div",15),t.DNE(24,it,4,1)(25,at,1,0,"div",16),t.k0s()(),t.j41(26,"div",17)(27,"div",14),t.EFF(28,"Nacionalidad"),t.k0s(),t.j41(29,"div",18)(30,"div",19)(31,"div",20)(32,"div",21)(33,"div",22),t.nrm(34,"span",23),t.k0s(),t.j41(35,"div",24),t.EFF(36),t.k0s()()()()()(),t.j41(37,"div",17)(38,"div",14),t.EFF(39,"Alias"),t.k0s(),t.j41(40,"div",18)(41,"div"),t.EFF(42),t.k0s()()(),t.j41(43,"div",17)(44,"div",14),t.EFF(45,"Referencia"),t.k0s(),t.j41(46,"div",18)(47,"div"),t.EFF(48),t.k0s()()(),t.j41(49,"div",13)(50,"div",14),t.EFF(51," Tel\xe9fono"),t.DNE(52,lt,2,0,"span",25),t.k0s(),t.j41(53,"div",18),t.DNE(54,ct,2,1,"div",25)(55,st,2,1,"div",25)(56,rt,2,1,"div",25),t.k0s()(),t.j41(57,"div",13)(58,"div",14),t.EFF(59," E-mail"),t.DNE(60,dt,2,0,"span",25),t.k0s(),t.j41(61,"div",18),t.DNE(62,ut,2,1,"div",25)(63,pt,2,1,"div",25)(64,mt,2,1,"div",25),t.k0s()(),t.j41(65,"div",17)(66,"div",14),t.EFF(67,"Origen"),t.k0s(),t.j41(68,"div",18)(69,"div"),t.EFF(70),t.k0s()()(),t.j41(71,"div",17)(72,"div",14),t.EFF(73,"Creado el"),t.k0s(),t.j41(74,"div",18)(75,"div"),t.EFF(76),t.nI1(77,"date"),t.k0s()()(),t.j41(78,"div",26)(79,"div",14),t.EFF(80,"Operaciones"),t.k0s(),t.j41(81,"div",27),t.nrm(82,"i",28),t.EFF(83),t.k0s()(),t.DNE(84,vt,7,1,"div",13),t.k0s()(),t.j41(85,"div",29),t.nrm(86,"div",30),t.k0s()(),t.j41(87,"div",31)(88,"app-tabs",32),t.bIt("tabClicked",function(s){return n.onTabClicked(s)}),t.k0s()()()(),t.j41(89,"div",33),t.DNE(90,ht,3,3),t.k0s()()),2&i){let l,s,r;t.R7$(7),t.Y8G("src",(null==n.contact?null:n.contact.photoUrl)||"assets/images/avatar.png",t.B4B),t.R7$(4),t.SpI(" ",null==n.contact?null:n.contact.name," "),t.R7$(2),t.SpI(" #",null==n.contact?null:n.contact.byvaroId," "),t.R7$(3),t.SpI(" Creado el ",t.i5U(17,27,null==n.contact?null:n.contact.createdAt,"dd/MM/yyyy")," "),t.R7$(8),t.vxM(null!=n.contact&&n.contact.languages&&(null==n.contact?null:n.contact.languages.length)>0?24:25),t.R7$(10),t.HbH(null==(l=n.utils.getCountryInfo(null==n.contact?null:n.contact.nationality))?null:l.flagClass),t.Y8G("title",null==(s=n.utils.getCountryInfo(null==n.contact?null:n.contact.nationality))?null:s.name),t.R7$(2),t.SpI(" ",null==(r=n.utils.getCountryInfo(null==n.contact?null:n.contact.nationality))?null:r.name," "),t.R7$(6),t.JRh(null==n.contact?null:n.contact.alias),t.R7$(6),t.JRh(null==n.contact?null:n.contact.reference),t.R7$(4),t.Y8G("ngIf",(null==n.contact||null==n.contact.emails?null:n.contact.emails.length)>1),t.R7$(2),t.Y8G("ngIf",null==n.contact||null==n.contact.phones?null:n.contact.phones[0]),t.R7$(),t.Y8G("ngIf",null==n.contact||null==n.contact.phones?null:n.contact.phones[0]),t.R7$(),t.Y8G("ngIf",(null==n.contact||null==n.contact.phones?null:n.contact.phones.length)>2),t.R7$(4),t.Y8G("ngIf",(null==n.contact||null==n.contact.emails?null:n.contact.emails.length)>1),t.R7$(2),t.Y8G("ngIf",null==n.contact||null==n.contact.emails?null:n.contact.emails[0]),t.R7$(),t.Y8G("ngIf",null==n.contact||null==n.contact.emails?null:n.contact.emails[0]),t.R7$(),t.Y8G("ngIf",(null==n.contact||null==n.contact.emails?null:n.contact.emails.length)>2),t.R7$(6),t.JRh(null==n.contact?null:n.contact.origin),t.R7$(6),t.JRh(t.i5U(77,30,null==n.contact?null:n.contact.createdAt,"dd/MM/yyyy")),t.R7$(7),t.Lme(" ",null==n.contact||null==n.contact.operations?null:n.contact.operations.length," / ",null==n.contact||null==n.contact.operations?null:n.contact.operations.length," "),t.R7$(),t.vxM((null==n.contact||null==n.contact.contactsRelation?null:n.contact.contactsRelation.length)>0||(null==n.contact||null==n.contact.contactsRelated?null:n.contact.contactsRelated.length)>0?84:-1),t.R7$(4),t.Y8G("tabs",n.tabs),t.R7$(),t.Y8G("ngClass",t.eq3(33,q,"operations"===n.activeTab)),t.R7$(),t.vxM(null!=n.contact&&n.contact.id?90:-1)}},dependencies:[p.YU,p.bT,I.O,R.x,M,w,p.vh]}),a})()}];let Ft=(()=>{var o;class a{}return(o=a).\u0275fac=function(i){return new(i||o)},o.\u0275mod=t.$C({type:o}),o.\u0275inj=t.G2t({imports:[v.iI.forChild(yt),v.iI]}),a})();var kt=c(7294),It=c(179),Rt=c(3675),Dt=c(3274);let bt=(()=>{var o;class a{}return(o=a).\u0275fac=function(i){return new(i||o)},o.\u0275mod=t.$C({type:o}),o.\u0275inj=t.G2t({imports:[p.MD,T.YN,$.bv,Ft,I.O,kt.J,C.h,It.Y,Dt.K,Rt.S,R.x]}),a})()}}]);