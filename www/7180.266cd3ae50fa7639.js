"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7180],{2606:($,F,s)=>{s.d(F,{O:()=>x});var n=s(3953),u=s(3955);const f=["tabElement"];function C(e,b){if(1&e){const _=n.RV6();n.j41(0,"div",3,0),n.bIt("click",function(){const m=n.eBV(_).$index,y=n.XpG();return n.Njj(y.onClickTab(m))}),n.EFF(2),n.nI1(3,"translate"),n.k0s()}if(2&e){const _=b.$implicit;n.AVh("active",_.active),n.R7$(2),n.SpI(" ",n.bMT(3,3,"text."+(null==_?null:_.title))||(null==_?null:_.title)," ")}}let x=(()=>{var e;class b{constructor(){this.tabs=[{id:"1",title:"Visi\xf3n general",active:!0},{id:"2",title:"Nuestro equipo",active:!1},{id:"3",title:"Agencias",active:!1}],this.tabClicked=new n.bkB}ngOnChanges(d){if(d.activeTab&&this.activeTab&&this.tabs.length>0){const m=this.tabs.findIndex(y=>y.title===this.activeTab);-1!==m&&this.onClickTab(m)}}ngAfterViewInit(){const d=this.tabs.findIndex(m=>m.active)||0;-1!==d&&this.onClickTab(d)}onClickTab(d){console.log("HEY",d),this.tabs.forEach((m,y)=>{m.active=y===d}),this.tabClicked.emit(this.tabs[d].title),this.updateActiveTab(d)}updateActiveTab(d){setTimeout(()=>{var m;const y=null===(m=this.tabElements.get(d))||void 0===m?void 0:m.nativeElement;if(y){const N=y.offsetLeft;document.documentElement.style.setProperty("--indicator-width",y.offsetWidth-12+"px"),document.documentElement.style.setProperty("--indicator-left",`${N}px`)}},0)}}return(e=b).\u0275fac=function(d){return new(d||e)},e.\u0275cmp=n.VBU({type:e,selectors:[["app-tabs"]],viewQuery:function(d,m){if(1&d&&n.GBs(f,5),2&d){let y;n.mGM(y=n.lsd())&&(m.tabElements=y)}},inputs:{tabs:"tabs",activeTab:"activeTab"},outputs:{tabClicked:"tabClicked"},standalone:!0,features:[n.OA$,n.aNF],decls:3,vars:0,consts:[["tabElement",""],[1,"crm-tabs"],[1,"crm-tabs-tab",3,"active"],[1,"crm-tabs-tab",3,"click"]],template:function(d,m){1&d&&(n.j41(0,"div",1),n.Z7z(1,C,4,5,"div",2,n.fX1),n.k0s()),2&d&&(n.R7$(),n.Dyx(m.tabs))},dependencies:[u.h,u.D9]}),b})()},1129:($,F,s)=>{s.d(F,{Z:()=>x});var n=s(3953),u=s(6069),f=s(1982);function C(e,b){if(1&e){const _=n.RV6();n.j41(0,"app-country-selector-popover",4),n.bIt("countrySelected",function(m){n.eBV(_);const y=n.XpG();return n.Njj(y.selectCountry(m))})("closePopover",function(){n.eBV(_);const m=n.XpG();return n.Njj(m.dropdownOpen=!1)}),n.k0s()}2&e&&n.Y8G("showCountryCode",!0)}let x=(()=>{var e;class b{constructor(){this.emitCountrySelected=new n.bkB,this.countries=u.X,this.selectedCountry=u.X[0],this.dropdownOpen=!1}ngOnChanges(){const d=this.extractCountryPhoneCodeFromPhoneNumber(this.selectedPhoneNumber);d!==this.extractCountryPhoneCodeFromPhoneNumber(this.selectedCountry.phoneCode)&&this.selectCountryByPhoneCode(d)}toggleDropdown(d){d.stopPropagation(),this.dropdownOpen=!this.dropdownOpen}selectCountry(d){d.event.stopPropagation(),this.selectedCountry=d.country,this.emitCountrySelected.emit(d.country),this.dropdownOpen=!1}selectCountryByPhoneCode(d){const m=this.countries.find(y=>y.phoneCode===d);m&&(this.selectedCountry=m,this.emitCountrySelected.emit(m))}extractCountryPhoneCodeFromPhoneNumber(d){return null==d?void 0:d.split(" ")[0]}}return(e=b).\u0275fac=function(d){return new(d||e)},e.\u0275cmp=n.VBU({type:e,selectors:[["app-flag-country-selector"]],inputs:{selectedPhoneNumber:"selectedPhoneNumber"},outputs:{emitCountrySelected:"emitCountrySelected"},features:[n.OA$],decls:5,vars:3,consts:[["tabindex","0",1,"flag-country-selector-container",3,"click"],[1,"selected-country"],[1,"fas","fa-caret-down","dropdown-arrow"],[3,"showCountryCode"],[3,"countrySelected","closePopover","showCountryCode"]],template:function(d,m){1&d&&(n.j41(0,"div",0),n.bIt("click",function(O){return m.toggleDropdown(O)}),n.j41(1,"div",1),n.nrm(2,"span")(3,"i",2),n.k0s(),n.DNE(4,C,1,1,"app-country-selector-popover",3),n.k0s()),2&d&&(n.R7$(2),n.HbH(null==m.selectedCountry?null:m.selectedCountry.flagClass),n.R7$(2),n.vxM(m.dropdownOpen?4:-1))},dependencies:[f.u],styles:[".flag-country-selector-container[_ngcontent-%COMP%]{position:relative;width:50px;cursor:pointer;color:#000}.selected-country[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:40px;width:50px}.dropdown-arrow[_ngcontent-%COMP%]{margin-left:8px}.dropdown-options[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;width:200px;z-index:9999;background-color:#fff;border:1px solid #ccc;padding:8px 0;border-radius:12px;border:1px solid var(--crm-border-light-color);color:#000;max-height:150px;overflow-y:auto}.option[_ngcontent-%COMP%]{padding:8px;display:flex;align-items:center;cursor:pointer;font-size:14px}.option[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px;display:inline-block;margin-right:8px}.option[_ngcontent-%COMP%]:hover{background-color:#f0f0f0}.flag-country-selector-container[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]{color:#000}.selected-country[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:24px;width:18px;height:18px}"]}),b})()},6812:($,F,s)=>{s.d(F,{u:()=>x});var n=s(177),u=s(9417),f=s(7754),C=s(3953);let x=(()=>{var e;class b{}return(e=b).\u0275fac=function(d){return new(d||e)},e.\u0275mod=C.$C({type:e}),e.\u0275inj=C.G2t({imports:[n.MD,u.YN,f.X]}),b})()},7754:($,F,s)=>{s.d(F,{X:()=>x});var n=s(177),u=s(9417),f=s(9465),C=s(3953);let x=(()=>{var e;class b{}return(e=b).\u0275fac=function(d){return new(d||e)},e.\u0275mod=C.$C({type:e}),e.\u0275inj=C.G2t({imports:[n.MD,u.YN,f.bv]}),b})()},4821:($,F,s)=>{s.d(F,{e:()=>u});var n=s(3953);let u=(()=>{var f;class C{constructor(e){this.renderer=e,this.text="",this.maxLength=20,this.tooltipClass="",this.tooltipElement=null}ngOnInit(){}get trimmedText(){return this.text?this.text.length>this.maxLength?this.text.slice(0,this.maxLength)+"...":this.text:""}showTooltip(e){this.text.length<=this.maxLength||(this.tooltipElement=this.renderer.createElement("div"),this.tooltipElement.innerText=this.text,this.renderer.addClass(this.tooltipElement,"custom-tooltip"),this.tooltipClass&&this.tooltipClass.split(" ").forEach(_=>{_.trim()&&this.renderer.addClass(this.tooltipElement,_.trim())}),this.renderer.setStyle(this.tooltipElement,"position","fixed"),this.renderer.setStyle(this.tooltipElement,"top",e.clientY-30+"px"),this.renderer.setStyle(this.tooltipElement,"left",`${e.clientX}px`),this.renderer.setStyle(this.tooltipElement,"z-index","9999"),this.renderer.appendChild(document.body,this.tooltipElement))}hideTooltip(){this.tooltipElement&&(this.renderer.removeChild(document.body,this.tooltipElement),this.tooltipElement=null)}}return(f=C).\u0275fac=function(e){return new(e||f)(n.rXU(n.sFG))},f.\u0275cmp=n.VBU({type:f,selectors:[["app-tooltip-text"]],inputs:{text:"text",maxLength:"maxLength",tooltipClass:"tooltipClass"},standalone:!0,features:[n.aNF],decls:2,vars:1,consts:[[1,"text",3,"mouseenter","mouseleave"]],template:function(e,b){1&e&&(n.j41(0,"span",0),n.bIt("mouseenter",function(d){return b.showTooltip(d)})("mouseleave",function(){return b.hideTooltip()}),n.EFF(1),n.k0s()),2&e&&(n.R7$(),n.SpI(" ",b.trimmedText,"\n"))}}),C})()},7141:($,F,s)=>{s.d(F,{S:()=>u});var n=s(3953);let u=(()=>{var f;class C{constructor(e,b){this.el=e,this.renderer=b,this.disabled=!1}ngAfterViewInit(){this.updateVisibility()}ngOnChanges(e){this.updateVisibility()}updateVisibility(){if(!this.disabled)return this.renderer.setStyle(this.el.nativeElement,"display","block"),void this.renderer.removeStyle(this.el.nativeElement,"height");this.disabled&&this.isEmpty(this.value)?(this.renderer.setStyle(this.el.nativeElement,"display","none"),this.renderer.setStyle(this.el.nativeElement,"height","0")):(this.renderer.setStyle(this.el.nativeElement,"display","block"),this.renderer.removeStyle(this.el.nativeElement,"height"))}isEmpty(e){return null==e||""===e||Array.isArray(e)&&0===e.length||"object"==typeof e&&0===Object.keys(e).length}}return(f=C).\u0275fac=function(e){return new(e||f)(n.rXU(n.aKT),n.rXU(n.sFG))},f.\u0275dir=n.FsC({type:f,selectors:[["","appHideIfNoData",""]],inputs:{value:[0,"appHideIfNoData","value"],disabled:"disabled"},standalone:!0,features:[n.OA$]}),C})()},240:($,F,s)=>{s.r(F),s.d(F,{PromoterDetailsPageModule:()=>st});var n=s(177),u=s(9417),f=s(9465),C=s(5188),x=s(467),e=s(3953),b=s(8397),_=s(4501),d=s(6039),m=s(3955),y=s(2606),O=s(1213),N=s(6552),V=s(9520),B=s(904),g=s(4558);const E=["scrollContainer"];function P(r,a){if(1&r&&(e.j41(0,"div",12)(1,"div",51)(2,"div",52),e.nrm(3,"span"),e.k0s()()()),2&r){let i;const o=a.$implicit,t=e.XpG();e.R7$(3),e.HbH(null==(i=t.utils.getLanguageInfo(o))?null:i.flagClass)}}function p(r,a){if(1&r){const i=e.RV6();e.j41(0,"div",53),e.bIt("click",function(){e.eBV(i);const t=e.XpG();return e.Njj(t.goToUrl(t.promoter.instagramUrl))}),e.nrm(1,"i",54),e.k0s()}}function j(r,a){if(1&r){const i=e.RV6();e.j41(0,"div",53),e.bIt("click",function(){e.eBV(i);const t=e.XpG();return e.Njj(t.goToUrl(t.promoter.facebookUrl))}),e.nrm(1,"i",55),e.k0s()}}function Y(r,a){if(1&r){const i=e.RV6();e.j41(0,"div",53),e.bIt("click",function(){e.eBV(i);const t=e.XpG();return e.Njj(t.goToUrl(t.promoter.linkedinUrl))}),e.nrm(1,"i",56),e.k0s()}}function le(r,a){if(1&r){const i=e.RV6();e.j41(0,"div",53),e.bIt("click",function(){e.eBV(i);const t=e.XpG();return e.Njj(t.goToUrl(t.promoter.twitterUrl))}),e.nrm(1,"i",57),e.k0s()}}function ae(r,a){if(1&r){const i=e.RV6();e.j41(0,"div",58)(1,"div",14),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"div",59),e.nrm(5,"img",60),e.k0s(),e.j41(6,"div",61),e.bIt("click",function(){e.eBV(i);const t=e.XpG();return e.Njj(t.onDownloadCatalogue())}),e.EFF(7),e.nI1(8,"translate"),e.k0s()()}2&r&&(e.R7$(2),e.SpI(" ",e.bMT(3,2,"text.discover_catalog")," "),e.R7$(5),e.SpI(" ",e.bMT(8,4,"text.download")," "))}function se(r,a){if(1&r&&e.nrm(0,"app-card-promotion",37),2&r){const i=a.$implicit;e.Y8G("hideCheckbox",!0)("promotion",i)}}function de(r,a){if(1&r&&e.nrm(0,"app-card-system-user",38),2&r){const i=a.$implicit;e.Y8G("showCheckbox",!1)("user",i)}}function pe(r,a){if(1&r&&(e.j41(0,"div",62)(1,"div",63)(2,"div",64),e.EFF(3),e.k0s(),e.j41(4,"div",65),e.EFF(5),e.k0s()(),e.nrm(6,"div",66),e.j41(7,"div",67)(8,"div",68),e.nrm(9,"i",69),e.j41(10,"span"),e.EFF(11),e.k0s()(),e.j41(12,"div",68),e.nrm(13,"i",70),e.j41(14,"span"),e.EFF(15),e.k0s()(),e.j41(16,"div",68),e.nrm(17,"i",71),e.j41(18,"span"),e.EFF(19),e.k0s()()()()),2&r){const i=a.$implicit;e.R7$(3),e.SpI(" ",(null==i?null:i.city)||"Valencia"," "),e.R7$(2),e.Lme(" ",null==i?null:i.address,", ",null==i?null:i.postalCode," "),e.R7$(6),e.JRh((null==i?null:i.phoneNumber)||"+48 608 188 424"),e.R7$(4),e.JRh((null==i?null:i.email)||"office.poland@luxinmo.pl"),e.R7$(4),e.JRh((null==i?null:i.web)||"www.luxinmo.com")}}let ce=(()=>{var r;class a{constructor(o,t,l){this.byvaroState=o,this.utils=t,this.api=l,this.promoter=null,this.user=null,this.users=[],this.canEdit=!1,this.sort=null,this.pagination={page:0,itemsPerPage:50},this.promoterCountry=null}ngOnInit(){var o=this;this.byvaroState.getState().subscribe(function(){var t=(0,x.A)(function*(l){var c,v;o.user=l.user,(null==l||null===(c=l.user)||void 0===c?void 0:c.promoterId)===(null===(v=o.promoter)||void 0===v?void 0:v.id)&&(o.canEdit=!0)});return function(l){return t.apply(this,arguments)}}()),this.getData()}getData(){var o=this;return(0,x.A)(function*(){try{var t,l;let c={};o.promoterCountry=o.utils.getCountryInfo(null===(t=o.promoter)||void 0===t?void 0:t.country);const v=yield o.api.getUser(c,o.sort,o.pagination);null!=v&&null!==(l=v.success)&&void 0!==l&&l.data&&(o.users=v.success.data)}catch(c){console.error(c)}})()}goToUrl(o){window.open(o,"_blank")}scrollLeft(){this.scrollContainer.nativeElement.scrollBy({left:-550,behavior:"smooth"})}scrollRight(){this.scrollContainer.nativeElement.scrollBy({left:550,behavior:"smooth"})}onDownloadCatalogue(){var o;const t=null===(o=this.promoter)||void 0===o||null===(o=o.promoterFiles)||void 0===o?void 0:o.find(l=>"catalog"===l.category);t&&window.open(t.url,"_blank")}}return(r=a).\u0275fac=function(o){return new(o||r)(e.rXU(O.c),e.rXU(N.T),e.rXU(d.i))},r.\u0275cmp=e.VBU({type:r,selectors:[["app-promoter-details-presentation"]],viewQuery:function(o,t){if(1&o&&e.GBs(E,5),2&o){let l;e.mGM(l=e.lsd())&&(t.scrollContainer=l.first)}},inputs:{promoter:"promoter"},decls:136,vars:68,consts:[[1,"crm-section",2,"gap","16px","padding","20px"],[1,"promoter-banner"],[1,"promoter-banner-img"],["alt","",3,"src"],[1,"promoter-banner-bottom"],[1,"promoter-banner-bottom-image"],[1,"promoter-banner-bottom-info"],[2,"display","flex","flex-direction","column","gap","4px"],[1,"crm-block-photo-and-info-info-title"],[1,"crm-block-photo-and-info-info-footer"],[1,"fa-solid","fa-calendar"],[1,"crm-info-content-langs-langs",2,"overflow","hidden"],[1,"crm-item-option","crm-item-option-lang"],[1,"promoter-block"],[1,"promoter-block-title"],[1,"promoter-block-rowdata"],[1,"promoter-block-rowdata-text"],[2,"display","flex","align-items","center","gap","8px"],[1,"fa-solid","fa-location-dot"],[1,"fa-solid","fa-phone"],[1,"fa-solid","fa-envelope"],[1,"promoter-block-rowdata-text",2,"width","fit-content"],["style","cursor: pointer;",3,"click",4,"ngIf"],[1,"promoter-block","promoter-block-empty"],[1,"promoter-number-quantities"],[1,"promoter-number-quantities-block"],[1,"promoter-number-quantities-block-title"],[1,"promoter-number-quantities-block-number"],[1,"promoter-block-helper-text"],[1,"promoter-block","promoter-about-us"],[2,"display","flex","flex-direction","column","gap","16px","flex","1"],[1,"promoter-about-us-block"],[1,"promoter-block-text"],["class","promoter-about-us-catalogue",4,"ngIf"],[1,"promoter-block","promoter-block-empty",2,"gap","16px"],[1,"crm-section-inline-cards-wrapper"],[1,"crm-section-inline-cards"],[2,"border","none !important",3,"hideCheckbox","promotion"],[3,"showCheckbox","user"],[1,"promoter-block-double"],[1,"promoter-offices-list"],["class","promoter-office-card",4,"ngFor","ngForOf"],[1,"promoter-portals-grid"],["src","https://logo.clearbit.com/habitaclia.com","alt","habitaclia"],["src","https://logo.clearbit.com/tucasa.com","alt","tucasa"],["src","https://logo.clearbit.com/wallapop.com","alt","wallapop"],["src","https://logo.clearbit.com/idealista.com","alt","idealista"],["src","https://logo.clearbit.com/fotocasa.es","alt","fotocasa"],["src","https://logo.clearbit.com/enalquiler.com","alt","enalquiler"],["src","https://logo.clearbit.com/yaencontre.com","alt","yaencontre"],["src","https://logo.clearbit.com/pisos.com","alt","pisos"],[1,"crm-item-option-left"],[1,"crm-item-option-flag"],[2,"cursor","pointer",3,"click"],[1,"fa-brands","fa-instagram",2,"font-family","'Font Awesome 6 Brands' !important","font-size","18px"],[1,"fa-brands","fa-facebook",2,"font-family","'Font Awesome 6 Brands' !important","font-size","18px"],[1,"fa-brands","fa-linkedin",2,"font-family","'Font Awesome 6 Brands' !important","font-size","18px"],[1,"fa-brands","fa-twitter",2,"font-family","'Font Awesome 6 Brands' !important","font-size","18px"],[1,"promoter-about-us-catalogue"],[1,"catalogue-image"],["src","assets/images/catalogue.png","alt",""],[1,"crm-button-secondary",3,"click"],[1,"promoter-office-card"],[1,"promoter-office-header"],[1,"promoter-office-title"],[1,"promoter-office-address"],[1,"promoter-office-separator"],[1,"promoter-office-contact"],[1,"promoter-office-contact-item"],[1,"fas","fa-phone"],[1,"fas","fa-envelope"],[1,"fas","fa-globe"]],template:function(o,t){1&o&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2),e.nrm(3,"img",3),e.k0s(),e.j41(4,"div",4)(5,"div",5),e.nrm(6,"img",3),e.k0s(),e.j41(7,"div",6)(8,"div",7)(9,"div",8),e.EFF(10),e.k0s(),e.j41(11,"div",9),e.nrm(12,"i",10),e.EFF(13),e.nI1(14,"translate"),e.k0s()(),e.j41(15,"div")(16,"div",11),e.Z7z(17,P,4,2,"div",12,e.fX1),e.k0s()()()()(),e.j41(19,"div",13)(20,"div",14),e.EFF(21),e.k0s(),e.j41(22,"div",15)(23,"div",16)(24,"div",17),e.nrm(25,"i",18),e.EFF(26),e.k0s(),e.j41(27,"div"),e.EFF(28),e.k0s()(),e.j41(29,"div",16)(30,"div"),e.EFF(31),e.k0s(),e.j41(32,"div"),e.EFF(33),e.nI1(34,"translate"),e.k0s()(),e.j41(35,"div",16)(36,"div",17),e.nrm(37,"i",19),e.EFF(38),e.k0s(),e.j41(39,"div",17),e.nrm(40,"i",20),e.EFF(41),e.k0s()(),e.j41(42,"div",21)(43,"div",17),e.DNE(44,p,2,0,"div",22)(45,j,2,0,"div",22)(46,Y,2,0,"div",22)(47,le,2,0,"div",22),e.k0s(),e.j41(48,"div"),e.EFF(49),e.k0s()()()(),e.j41(50,"div",23)(51,"div",24)(52,"div",25)(53,"div",26),e.EFF(54),e.nI1(55,"translate"),e.k0s(),e.j41(56,"div",27),e.EFF(57),e.nI1(58,"thousandSeparator"),e.k0s()(),e.j41(59,"div",25)(60,"div",26),e.EFF(61),e.nI1(62,"translate"),e.k0s(),e.j41(63,"div",27),e.EFF(64),e.nI1(65,"thousandSeparator"),e.k0s()(),e.j41(66,"div",25)(67,"div",26),e.EFF(68),e.nI1(69,"translate"),e.k0s(),e.j41(70,"div",27),e.EFF(71),e.k0s()(),e.j41(72,"div",25)(73,"div",26),e.EFF(74),e.nI1(75,"translate"),e.k0s(),e.j41(76,"div",27),e.EFF(77),e.k0s()(),e.j41(78,"div",25)(79,"div",26),e.EFF(80),e.nI1(81,"translate"),e.k0s(),e.j41(82,"div",27),e.EFF(83),e.k0s()()(),e.j41(84,"div",28),e.EFF(85),e.nI1(86,"translate"),e.k0s()(),e.j41(87,"div",29)(88,"div",30)(89,"div",31)(90,"div",14),e.EFF(91),e.nI1(92,"translate"),e.k0s(),e.j41(93,"div",32),e.EFF(94),e.k0s()(),e.j41(95,"div",31)(96,"div",14),e.EFF(97),e.nI1(98,"translate"),e.k0s(),e.j41(99,"div",32),e.EFF(100),e.k0s()()(),e.DNE(101,ae,9,6,"div",33),e.k0s(),e.j41(102,"div",34)(103,"div",14),e.EFF(104),e.nI1(105,"translate"),e.k0s(),e.j41(106,"div",35)(107,"div",36),e.Z7z(108,se,1,2,"app-card-promotion",37,e.fX1),e.k0s()()(),e.j41(110,"div",13)(111,"div",14),e.EFF(112),e.nI1(113,"translate"),e.k0s(),e.j41(114,"div",35)(115,"div",36),e.Z7z(116,de,1,2,"app-card-system-user",38,e.fX1),e.k0s()()(),e.j41(118,"div",39)(119,"div",34)(120,"div",14),e.EFF(121,"Offices"),e.k0s(),e.j41(122,"div",40),e.DNE(123,pe,20,6,"div",41),e.k0s()(),e.j41(124,"div",34)(125,"div",14),e.EFF(126,"Following real estate portals"),e.k0s(),e.j41(127,"div",42),e.nrm(128,"img",43)(129,"img",44)(130,"img",45)(131,"img",46)(132,"img",47)(133,"img",48)(134,"img",49)(135,"img",50),e.k0s()()()()),2&o&&(e.R7$(3),e.Y8G("src",(null==t.promoter?null:t.promoter.bannerUrl)||"assets/images/banner-agency-model.png",e.B4B),e.R7$(3),e.Y8G("src",(null==t.promoter?null:t.promoter.photoUrl)||"assets/images/agency-photo-model.png",e.B4B),e.R7$(4),e.SpI(" ",null==t.promoter?null:t.promoter.name," "),e.R7$(3),e.LHq(" ",e.bMT(14,40,"text.founded_in")," ",null==t.promoter?null:t.promoter.foundationYear," / ",null==t.promoter?null:t.promoter.city," / ",null==t.promoterCountry?null:t.promoterCountry.name," "),e.R7$(4),e.Dyx(null==t.promoter?null:t.promoter.languages),e.R7$(4),e.SpI(" ",(null==t.promoter?null:t.promoter.legalName)||"Luxinmo Real State SLU"," "),e.R7$(5),e.Lme(" ",(null==t.promoterCountry?null:t.promoterCountry.name)||""," / ",(null==t.promoter?null:t.promoter.city)||""," "),e.R7$(2),e.SpI(" ",(null==t.promoter?null:t.promoter.address)||""," "),e.R7$(3),e.SpI(" NIF/CIF: ",(null==t.promoter?null:t.promoter.nifCif)||""," "),e.R7$(2),e.Lme(" ",e.bMT(34,42,"text.postal_code"),": ",(null==t.promoter?null:t.promoter.postalCode)||""," "),e.R7$(5),e.SpI(" ",(null==t.promoter||null==t.promoter.phones?null:t.promoter.phones[0])||""," "),e.R7$(3),e.SpI(" ",(null==t.promoter||null==t.promoter.emails?null:t.promoter.emails[0])||""," "),e.R7$(3),e.Y8G("ngIf",null==t.promoter?null:t.promoter.instagramUrl),e.R7$(),e.Y8G("ngIf",null==t.promoter?null:t.promoter.facebookUrl),e.R7$(),e.Y8G("ngIf",null==t.promoter?null:t.promoter.linkedinUrl),e.R7$(),e.Y8G("ngIf",null==t.promoter?null:t.promoter.twitterUrl),e.R7$(2),e.SpI(" ",null==t.promoter?null:t.promoter.webUrl," "),e.R7$(5),e.SpI(" ",e.bMT(55,44,"text.annual_sales")," "),e.R7$(3),e.SpI(" +",e.bMT(58,46,null==t.promoter?null:t.promoter.annualSales)||"-"," "),e.R7$(4),e.SpI(" ",e.bMT(62,48,"text.annual_revenue")," "),e.R7$(3),e.SpI(" +",e.bMT(65,50,null==t.promoter?null:t.promoter.annualRevenue)||"-"," "),e.R7$(4),e.SpI(" ",e.bMT(69,52,"text.portfolio_size")," "),e.R7$(3),e.SpI(" ",(null==t.promoter?null:t.promoter.portfolioSize)||"-"," "),e.R7$(3),e.SpI(" ",e.bMT(75,54,"text.agents")," "),e.R7$(3),e.SpI(" ",(null==t.users?null:t.users.length)||"-"," "),e.R7$(3),e.SpI(" ",e.bMT(81,56,"text.offices")," "),e.R7$(3),e.SpI(" ",(null==t.promoter||null==t.promoter.promoterOffices?null:t.promoter.promoterOffices.length)||"-"," "),e.R7$(2),e.SpI(" ",e.bMT(86,58,"text.info_provided_by_promoter")," "),e.R7$(6),e.SpI(" ",e.bMT(92,60,"text.about_us")," "),e.R7$(3),e.SpI(" ",null==t.promoter?null:t.promoter.aboutUs," "),e.R7$(3),e.SpI(" ",e.bMT(98,62,"text.our_history")," "),e.R7$(3),e.SpI(" ",null==t.promoter?null:t.promoter.storyAboutUs," "),e.R7$(),e.Y8G("ngIf",(null==t.promoter||null==t.promoter.promoterFiles?null:t.promoter.promoterFiles.length)>0),e.R7$(3),e.SpI(" ",e.bMT(105,64,"text.featured_promotions")," "),e.R7$(4),e.Dyx(null==t.promoter?null:t.promoter.promotions),e.R7$(4),e.SpI(" ",e.bMT(113,66,"text.team")," "),e.R7$(4),e.Dyx(null==t.promoter?null:t.promoter.users),e.R7$(7),e.Y8G("ngForOf",null==t.promoter?null:t.promoter.promoterOffices))},dependencies:[n.Sq,n.bT,V.k,B.X,g.w,m.D9],styles:[".promoter-block[_ngcontent-%COMP%]{padding:20px;border-radius:12px;background:#fff;max-width:1000px;border:none;gap:16px;display:flex;flex-direction:column}.promoter-block-empty[_ngcontent-%COMP%]{background:transparent;border:1px solid var(--crm-border-light-color);gap:0}.promoter-block[_ngcontent-%COMP%]   .crm-section-inline-cards[_ngcontent-%COMP%]{display:flex;gap:16px;overflow-x:auto;scroll-behavior:smooth;-ms-overflow-style:none;scrollbar-width:none;white-space:nowrap;max-width:100%;padding:8px 0;flex-wrap:nowrap}.promoter-block[_ngcontent-%COMP%]   .crm-section-inline-cards[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.promoter-block-helper-text[_ngcontent-%COMP%]{font-size:12px;font-weight:400;color:var(--crm-font-color-light);width:100%;text-align:right}.promoter-block-title[_ngcontent-%COMP%]{font-size:var(--crm-font-size);font-weight:600}.promoter-block-text[_ngcontent-%COMP%]{font-size:var(--crm-font-size);font-weight:400;color:var(--crm-font-color-light);line-height:1.5}.promoter-number-quantities[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;width:60%}.promoter-number-quantities-block[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.promoter-number-quantities-block-title[_ngcontent-%COMP%]{font-size:12px}.promoter-number-quantities-block-number[_ngcontent-%COMP%]{font-size:22px;font-weight:500}.promoter-block-rowdata[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.promoter-block-rowdata-text[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;width:25%;font-size:var(--crm-font-size);font-weight:400;color:var(--crm-font-color-light)}.promoter-block-rowdata-text[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px}.promoter-banner[_ngcontent-%COMP%]{max-width:1000px}.promoter-banner-img[_ngcontent-%COMP%]{max-width:1000px;border-top-right-radius:12px;border-top-left-radius:12px;height:220px}.promoter-banner-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-top-right-radius:12px;border-top-left-radius:12px}.promoter-banner-bottom[_ngcontent-%COMP%]{display:flex;align-items:center;background:#fff;border-bottom-right-radius:12px;border-bottom-left-radius:12px;padding-bottom:12px}.promoter-banner-bottom-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;flex:1;padding:16px}.promoter-banner-bottom-info[_ngcontent-%COMP%]   .crm-info-content-langs-langs[_ngcontent-%COMP%]{background:#ebebeb;border-radius:100px;padding:5px 8px}.promoter-banner-bottom-info[_ngcontent-%COMP%]   .crm-info-content-langs-langs[_ngcontent-%COMP%]   .crm-item-option-flag[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:1.333333em;height:auto;font-size:13px}.promoter-banner-bottom-image[_ngcontent-%COMP%]{width:110px;height:110px;border-radius:50%;border:2px solid #fff;margin-top:-50px;margin-left:24px;background:#fff}.promoter-banner-bottom-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:50%}.promoter-about-us[_ngcontent-%COMP%]{display:flex;align-items:flex-start;flex-wrap:nowrap;flex-direction:row}.promoter-about-us-block[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.promoter-about-us-catalogue[_ngcontent-%COMP%]{border:1px solid var(--crm-border-light-color);padding:12px;border-radius:8px;max-width:230px;min-width:230px;flex:1;display:flex;flex-direction:column;gap:12px}.promoter-about-us-catalogue[_ngcontent-%COMP%]   .crm-button-secondary[_ngcontent-%COMP%]{margin:auto}.catalogue-image[_ngcontent-%COMP%]{flex:1;display:flex;justify-content:center;align-items:center;border-radius:8px;overflow:hidden;position:relative}.catalogue-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:60%;object-fit:cover;max-width:180px}.promotion-card__content[_ngcontent-%COMP%]{border:none!important}.promoter-block-double[_ngcontent-%COMP%]{display:flex;gap:16px;flex-wrap:nowrap;max-width:1000px}.promoter-block-double[_ngcontent-%COMP%]   .promoter-block[_ngcontent-%COMP%]{width:50%}.promoter-offices-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.promoter-office-card[_ngcontent-%COMP%]{max-width:280px;width:100%;background:#fff;border-radius:12px;padding:16px;display:flex;flex-direction:column;gap:12px}.promoter-office-card[_ngcontent-%COMP%]   .promoter-office-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px}.promoter-office-card[_ngcontent-%COMP%]   .promoter-office-title[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:var(--crm-font-color)}.promoter-office-card[_ngcontent-%COMP%]   .promoter-office-address[_ngcontent-%COMP%]{font-size:13px;font-weight:400;color:var(--crm-font-color-light);line-height:1.4}.promoter-office-card[_ngcontent-%COMP%]   .promoter-office-separator[_ngcontent-%COMP%]{border-top:1px solid #eaeaea;margin:4px 0}.promoter-office-card[_ngcontent-%COMP%]   .promoter-office-contact[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.promoter-office-card[_ngcontent-%COMP%]   .promoter-office-contact-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:14px;color:var(--crm-font-color)}.promoter-office-card[_ngcontent-%COMP%]   .promoter-office-contact-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px;color:var(--crm-font-color-light)}.promoter-portals-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(90px,1fr));gap:12px}.promoter-portals-grid[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;max-width:90px;height:auto;object-fit:contain;border-radius:8px;background:#f9f9f9;padding:6px;box-shadow:0 0 0 1px #eee}"]}),a})();var S=s(7376);let me=(()=>{var r;class a{constructor(o){this.fb=o,this.initForm()}initForm(){this.promoterForm=this.fb.group({name:["",u.k0.required],facebookUrl:[""],instagramUrl:[""],linkedinUrl:[""],twitterUrl:[""],webUrl:[""],aboutUs:[""],storyAboutUs:[""],legalName:[""],foundationYear:[null],nifCif:[""],annualSales:[null],annualRevenue:[null],portfolioSize:[null],country:[""],city:[""],address:[""],postalCode:[""],province:[""],extraHtmlWeb:[""],phones:this.fb.array([this.createPhoneGroup()]),emails:this.fb.array([this.createEmailGroup()])})}populateForm(o){var t,l,c,v,M,k,I,D,T,U,h,R,G,L,H,W,J,K,Z,Q,q,ee;this.promoterForm.patchValue({name:null!==(t=o.name)&&void 0!==t?t:"",facebookUrl:null!==(l=o.facebookUrl)&&void 0!==l?l:"",instagramUrl:null!==(c=o.instagramUrl)&&void 0!==c?c:"",linkedinUrl:null!==(v=o.linkedinUrl)&&void 0!==v?v:"",twitterUrl:null!==(M=o.twitterUrl)&&void 0!==M?M:"",webUrl:null!==(k=o.webUrl)&&void 0!==k?k:"",aboutUs:null!==(I=o.aboutUs)&&void 0!==I?I:"",storyAboutUs:null!==(D=o.storyAboutUs)&&void 0!==D?D:"",legalName:null!==(T=o.legalName)&&void 0!==T?T:"",foundationYear:null!==(U=o.foundationYear)&&void 0!==U?U:null,nifCif:null!==(h=o.nifCif)&&void 0!==h?h:"",annualSales:null!==(R=o.annualSales)&&void 0!==R?R:null,annualRevenue:null!==(G=o.annualRevenue)&&void 0!==G?G:null,portfolioSize:null!==(L=o.portfolioSize)&&void 0!==L?L:null,country:null!==(H=o.country)&&void 0!==H?H:"",city:null!==(W=o.city)&&void 0!==W?W:"",address:null!==(J=o.address)&&void 0!==J?J:"",postalCode:null!==(K=o.postalCode)&&void 0!==K?K:"",province:null!==(Z=o.province)&&void 0!==Z?Z:"",extraHtmlWeb:null!==(Q=o.extraHtmlWeb)&&void 0!==Q?Q:""}),this.phones.clear(),null===(q=o.phones)||void 0===q||q.forEach(te=>{this.phones.push(this.fb.group({phoneNumber:[te,[u.k0.pattern(/^\d+$/)]]}))}),this.emails.clear(),null===(ee=o.emails)||void 0===ee||ee.forEach(te=>{this.emails.push(this.fb.group({emailAddress:[te,[u.k0.email]]}))})}createPhoneGroup(){return this.fb.group({phoneNumber:["",[u.k0.pattern(/^\d+$/)]]})}createEmailGroup(){return this.fb.group({emailAddress:["",[u.k0.email]]})}get phones(){return this.promoterForm.get("phones")}get emails(){return this.promoterForm.get("emails")}addPhone(){this.phones.push(this.createPhoneGroup())}removePhone(o){this.phones.removeAt(o)}addEmail(){this.emails.push(this.createEmailGroup())}removeEmail(o){this.emails.removeAt(o)}onSelectCountry(o,t){var l;null===(l=this.phones.at(t).get("country"))||void 0===l||l.setValue(o)}}return(r=a).\u0275fac=function(o){return new(o||r)(e.KVO(u.ok))},r.\u0275prov=e.jDH({token:r,factory:r.\u0275fac,providedIn:"root"}),a})();var ue=s(5970),_e=s(1792),fe=s(1129),oe=s(6279),ge=s(7141);const ve=["fileUploaderManagerComponent"],he=["bannerFileUploaderManagerComponent"],be=["catalogFileUploaderManagerComponent"],X=r=>({"crm-section-disabled-inputs":r}),A=r=>({"crm-input-input-error":r}),z=r=>({field:r}),Ce=r=>({edit:r}),ne=r=>({number:r}),re=r=>({item:r}),w=()=>({standalone:!0});function xe(r,a){if(1&r){const i=e.RV6();e.j41(0,"button",45),e.bIt("click",function(){e.eBV(i);const t=e.XpG(2);return e.Njj(t.onSaveUser())}),e.nrm(1,"i",46),e.EFF(2),e.nI1(3,"translate"),e.k0s()}2&r&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"text.save")," "))}function Ie(r,a){if(1&r){const i=e.RV6();e.j41(0,"button",47),e.bIt("click",function(){e.eBV(i);const t=e.XpG(2);return e.Njj(t.onEditUser())}),e.nrm(1,"i",48),e.EFF(2),e.nI1(3,"translate"),e.k0s()}2&r&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"text.edit")," "))}function ye(r,a){if(1&r&&e.DNE(0,xe,4,3,"button",43)(1,Ie,4,3,"button",44),2&r){const i=e.XpG();e.vxM(i.editing?0:1)}}function Pe(r,a){1&r&&(e.j41(0,"div",8),e.EFF(1," Banner "),e.k0s())}function Me(r,a){1&r&&(e.j41(0,"div",8),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"text.catalog")," "))}function Fe(r,a){1&r&&(e.j41(0,"div",49),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"errors.required")," "))}function ke(r,a){if(1&r){const i=e.RV6();e.j41(0,"div",54),e.bIt("click",function(){e.eBV(i);const t=e.XpG().$implicit,l=e.XpG();return e.Njj(l.onRemoveLanguage(t))}),e.nrm(1,"i",55),e.k0s()}}function Re(r,a){if(1&r&&(e.j41(0,"div",19)(1,"div",50)(2,"div",51),e.nrm(3,"span"),e.k0s(),e.j41(4,"div",52),e.EFF(5),e.k0s()(),e.DNE(6,ke,2,0,"div",53),e.k0s()),2&r){let i,o;const t=a.$implicit,l=e.XpG();e.Y8G("ngClass",e.eq3(5,Ce,!l.disabled)),e.R7$(3),e.HbH(null==(i=l.getLanguageInfo(t))?null:i.flagClass),e.R7$(2),e.SpI(" ",null==(o=l.getLanguageInfo(t))?null:o.name," "),e.R7$(),e.vxM(l.disabled?-1:6)}}function Ee(r,a){if(1&r){const i=e.RV6();e.j41(0,"button",56),e.bIt("click",function(t){e.eBV(i);const l=e.XpG();return e.Njj(l.onAddLanguage(t))}),e.nrm(1,"i",57),e.EFF(2),e.nI1(3,"translate"),e.k0s()}2&r&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"text.add_language")," "))}function Te(r,a){if(1&r&&(e.j41(0,"div",22),e.EFF(1),e.k0s()),2&r){const i=e.XpG();e.R7$(),e.SpI(" ",i.promoterForm.controls.aboutUs.value," ")}}function je(r,a){if(1&r&&(e.j41(0,"div",23),e.nrm(1,"textarea",58),e.nI1(2,"translate"),e.k0s()),2&r){const i=e.XpG();e.Y8G("appInputViewMode",i.disabled),e.R7$(),e.FS9("placeholder",e.bMT(2,2,"text.input_placeholder_about_us"))}}function De(r,a){if(1&r&&(e.j41(0,"div",22),e.EFF(1),e.k0s()),2&r){const i=e.XpG();e.R7$(),e.SpI(" ",i.promoterForm.controls.storyAboutUs.value," ")}}function $e(r,a){if(1&r&&(e.j41(0,"div",23),e.nrm(1,"textarea",59),e.nI1(2,"translate"),e.k0s()),2&r){const i=e.XpG();e.Y8G("appInputViewMode",i.disabled),e.R7$(),e.FS9("placeholder",e.bMT(2,2,"text.input_placeholder_our_story"))}}function Oe(r,a){if(1&r){const i=e.RV6();e.j41(0,"div",60)(1,"div",50)(2,"div",51),e.nrm(3,"span"),e.k0s(),e.j41(4,"div",52),e.EFF(5),e.k0s()(),e.j41(6,"div",54),e.bIt("click",function(){e.eBV(i);const t=e.XpG(2);return e.Njj(t.onRemoveNationality())}),e.nrm(7,"i",55),e.k0s()()}if(2&r){let i,o;const t=e.XpG(2);e.R7$(3),e.HbH(null==(i=t.getCountryInfo(null==(i=t.promoterForm.get("country"))?null:i.value))?null:i.flagClass),e.R7$(2),e.SpI(" ",null==(o=t.getCountryInfo(null==(o=t.promoterForm.get("country"))?null:o.value))?null:o.name," ")}}function Se(r,a){if(1&r){const i=e.RV6();e.j41(0,"button",56),e.bIt("click",function(t){e.eBV(i);const l=e.XpG(2);return e.Njj(l.onAddNationality(t))}),e.nrm(1,"i",57),e.EFF(2),e.nI1(3,"translate"),e.k0s()}2&r&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"text.select_country")," "))}function we(r,a){if(1&r&&e.DNE(0,Oe,8,3,"div",60)(1,Se,4,3,"button",20),2&r){let i;const o=e.XpG();e.vxM(null!=(i=o.promoterForm.get("country"))&&i.value?0:1)}}function Ue(r,a){if(1&r&&(e.j41(0,"div",61)(1,"div",50)(2,"div",51),e.nrm(3,"span"),e.k0s(),e.j41(4,"div",52),e.EFF(5),e.k0s()()()),2&r){let i,o;const t=e.XpG(2);e.R7$(3),e.HbH(null==(i=t.getCountryInfo(null==(i=t.promoterForm.get("country"))?null:i.value))?null:i.flagClass),e.R7$(2),e.SpI(" ",null==(o=t.getCountryInfo(null==(o=t.promoterForm.get("country"))?null:o.value))?null:o.name," ")}}function Ge(r,a){if(1&r&&e.DNE(0,Ue,6,3,"div",61),2&r){let i;const o=e.XpG();e.vxM(null!=(i=o.promoterForm.get("country"))&&i.value?0:-1)}}function Ne(r,a){if(1&r){const i=e.RV6();e.j41(0,"div",68),e.bIt("click",function(){e.eBV(i);const t=e.XpG().$index,l=e.XpG();return e.Njj(l.onRemovePhone(t))}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}2&r&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"text.delete")," "))}function Ve(r,a){1&r&&(e.j41(0,"div",49),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"errors.required")," "))}function Be(r,a){if(1&r){const i=e.RV6();e.j41(0,"div",38)(1,"div",12)(2,"div",13),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"div",62)(6,"div",63)(7,"app-flag-country-selector",64),e.bIt("emitCountrySelected",function(t){const l=e.eBV(i).$index,c=e.XpG();return e.Njj(c.onSelectCountry(t,l))}),e.k0s(),e.nrm(8,"input",65),e.nI1(9,"translate"),e.nI1(10,"translate"),e.k0s(),e.j41(11,"div",66),e.DNE(12,Ne,3,3,"div",67),e.k0s()(),e.DNE(13,Ve,3,3,"div",16),e.k0s()()}if(2&r){const i=a.$implicit,o=a.$index,t=e.XpG();e.Y8G("formGroup",i),e.R7$(3),e.SpI(" ",e.i5U(4,7,"text.phone_loop_label",e.eq3(15,ne,o+1))," "),e.R7$(3),e.Y8G("appInputViewMode",t.disabled)("ngClass",e.eq3(17,A,t.isPhoneControlInvalid(o))),e.R7$(2),e.Y8G("placeholder",e.i5U(10,12,"text.input_placeholder",e.eq3(19,z,e.bMT(9,10,"text.phone")))),e.R7$(4),e.vxM(o>0?12:-1),e.R7$(),e.Y8G("ngIf",t.isPhoneControlInvalid(o))}}function Ye(r,a){if(1&r){const i=e.RV6();e.j41(0,"div",39)(1,"div",69)(2,"button",56),e.bIt("click",function(){e.eBV(i);const t=e.XpG();return e.Njj(t.onAddPhone())}),e.nrm(3,"i",57),e.EFF(4),e.nI1(5,"translate"),e.nI1(6,"translate"),e.k0s()()()}2&r&&(e.R7$(4),e.SpI(" ",e.i5U(6,3,"text.add_item",e.eq3(6,re,e.bMT(5,1,"text.phone")))," "))}function Xe(r,a){if(1&r){const i=e.RV6();e.j41(0,"div",68),e.bIt("click",function(){e.eBV(i);const t=e.XpG().$index,l=e.XpG();return e.Njj(l.onRemoveEmail(t))}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}2&r&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"text.delete")," "))}function Ae(r,a){1&r&&(e.j41(0,"div",49),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"errors.required")," "))}function ze(r,a){if(1&r&&(e.j41(0,"div",38)(1,"div",12)(2,"div",13),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"div",70)(6,"div",71),e.nrm(7,"input",72),e.nI1(8,"translate"),e.nI1(9,"translate"),e.k0s(),e.j41(10,"div",66),e.DNE(11,Xe,3,3,"div",67),e.k0s()(),e.DNE(12,Ae,3,3,"div",16),e.k0s()()),2&r){const i=a.$implicit,o=a.$index,t=e.XpG();e.Y8G("formGroup",i),e.R7$(3),e.SpI(" ",e.i5U(4,7,"text.email_loop_label",e.eq3(15,ne,o+1))," "),e.R7$(2),e.Y8G("appInputViewMode",t.disabled),e.R7$(),e.Y8G("ngClass",e.eq3(17,A,t.isEmailControlInvalid(o))),e.R7$(),e.Y8G("placeholder",e.i5U(9,12,"text.input_placeholder",e.eq3(19,z,e.bMT(8,10,"text.email")))),e.R7$(4),e.vxM(o>0?11:-1),e.R7$(),e.Y8G("ngIf",t.isEmailControlInvalid(o))}}function Le(r,a){if(1&r){const i=e.RV6();e.j41(0,"div",39)(1,"div",69)(2,"button",56),e.bIt("click",function(){e.eBV(i);const t=e.XpG();return e.Njj(t.onAddEmail())}),e.nrm(3,"i",57),e.EFF(4),e.nI1(5,"translate"),e.nI1(6,"translate"),e.k0s()()()}2&r&&(e.R7$(4),e.SpI(" ",e.i5U(6,3,"text.add_item",e.eq3(6,re,e.bMT(5,1,"text.email")))," "))}function He(r,a){if(1&r){const i=e.RV6();e.j41(0,"button",81),e.bIt("click",function(){e.eBV(i);const t=e.XpG().$index,l=e.XpG();return e.Njj(l.onRemoveOffice(t))}),e.nrm(1,"i",55),e.k0s()}}function We(r,a){if(1&r){const i=e.RV6();e.j41(0,"app-flag-country-selector",64),e.bIt("emitCountrySelected",function(t){e.eBV(i);const l=e.XpG().$index,c=e.XpG();return e.Njj(c.onSelectCountry(t,null,l))}),e.k0s()}}function Je(r,a){if(1&r){const i=e.RV6();e.j41(0,"div",41)(1,"div",73)(2,"div",74),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"div",4),e.DNE(6,He,2,0,"button",75),e.k0s()(),e.j41(7,"div",76)(8,"div",77)(9,"div",21)(10,"div",13),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"div",24)(14,"input",78),e.mxI("ngModelChange",function(t){const l=e.eBV(i).$implicit;return e.DH7(l.name,t)||(l.name=t),e.Njj(t)}),e.k0s()()(),e.j41(15,"div",21)(16,"div",13),e.EFF(17),e.nI1(18,"translate"),e.k0s(),e.j41(19,"div",24)(20,"input",78),e.mxI("ngModelChange",function(t){const l=e.eBV(i).$implicit;return e.DH7(l.address,t)||(l.address=t),e.Njj(t)}),e.k0s()()(),e.j41(21,"div",21)(22,"div",13),e.EFF(23),e.nI1(24,"translate"),e.k0s(),e.j41(25,"div",24)(26,"input",78),e.mxI("ngModelChange",function(t){const l=e.eBV(i).$implicit;return e.DH7(l.city,t)||(l.city=t),e.Njj(t)}),e.k0s()()(),e.j41(27,"div",21)(28,"div",13),e.EFF(29),e.nI1(30,"translate"),e.k0s(),e.j41(31,"div",24)(32,"input",78),e.mxI("ngModelChange",function(t){const l=e.eBV(i).$implicit;return e.DH7(l.postalCode,t)||(l.postalCode=t),e.Njj(t)}),e.k0s()()(),e.j41(33,"div",21)(34,"div",13),e.EFF(35,"Email"),e.k0s(),e.j41(36,"div",24)(37,"input",79),e.mxI("ngModelChange",function(t){const l=e.eBV(i).$implicit;return e.DH7(l.email,t)||(l.email=t),e.Njj(t)}),e.k0s()()(),e.j41(38,"div",21)(39,"div",13),e.EFF(40),e.nI1(41,"translate"),e.k0s(),e.j41(42,"div",24),e.DNE(43,We,1,0,"app-flag-country-selector",80),e.j41(44,"input",78),e.mxI("ngModelChange",function(t){const l=e.eBV(i).$implicit;return e.DH7(l.phoneNumber,t)||(l.phoneNumber=t),e.Njj(t)}),e.k0s()()(),e.j41(45,"div",21)(46,"div",13),e.EFF(47,"Web"),e.k0s(),e.j41(48,"div",24)(49,"input",78),e.mxI("ngModelChange",function(t){const l=e.eBV(i).$implicit;return e.DH7(l.web,t)||(l.web=t),e.Njj(t)}),e.k0s()()()()()()}if(2&r){const i=a.$implicit,o=a.$index,t=e.XpG();e.R7$(3),e.Lme(" ",e.bMT(4,44,"text.office")," ",o+1," "),e.R7$(3),e.Y8G("ngIf",!t.disabled),e.R7$(3),e.Y8G("appHideIfNoData",i.name)("disabled",t.disabled),e.R7$(2),e.JRh(e.bMT(12,46,"text.name")),e.R7$(2),e.Y8G("appInputViewMode",t.disabled),e.R7$(),e.R50("ngModel",i.name),e.Y8G("ngModelOptions",e.lJ4(56,w)),e.R7$(),e.Y8G("appHideIfNoData",i.address)("disabled",t.disabled),e.R7$(2),e.JRh(e.bMT(18,48,"text.address")),e.R7$(2),e.Y8G("appInputViewMode",t.disabled),e.R7$(),e.R50("ngModel",i.address),e.Y8G("ngModelOptions",e.lJ4(57,w)),e.R7$(),e.Y8G("appHideIfNoData",i.city)("disabled",t.disabled),e.R7$(2),e.JRh(e.bMT(24,50,"text.country")),e.R7$(2),e.Y8G("appInputViewMode",t.disabled),e.R7$(),e.R50("ngModel",i.city),e.Y8G("ngModelOptions",e.lJ4(58,w)),e.R7$(),e.Y8G("appHideIfNoData",i.postalCode)("disabled",t.disabled),e.R7$(2),e.JRh(e.bMT(30,52,"text.postal_code")),e.R7$(2),e.Y8G("appInputViewMode",t.disabled),e.R7$(),e.R50("ngModel",i.postalCode),e.Y8G("ngModelOptions",e.lJ4(59,w)),e.R7$(),e.Y8G("appHideIfNoData",i.email)("disabled",t.disabled),e.R7$(3),e.Y8G("appInputViewMode",t.disabled),e.R7$(),e.R50("ngModel",i.email),e.Y8G("ngModelOptions",e.lJ4(60,w)),e.R7$(),e.Y8G("appHideIfNoData",i.phoneNumber)("disabled",t.disabled),e.R7$(2),e.JRh(e.bMT(41,54,"text.phone")),e.R7$(2),e.Y8G("appInputViewMode",t.disabled),e.R7$(),e.Y8G("ngIf",!t.disabled),e.R7$(),e.R50("ngModel",i.phoneNumber),e.Y8G("ngModelOptions",e.lJ4(61,w)),e.R7$(),e.Y8G("appHideIfNoData",i.web)("disabled",t.disabled),e.R7$(3),e.Y8G("appInputViewMode",t.disabled),e.R7$(),e.R50("ngModel",i.web),e.Y8G("ngModelOptions",e.lJ4(62,w))}}function Ke(r,a){if(1&r){const i=e.RV6();e.j41(0,"div",39)(1,"div",69)(2,"button",56),e.bIt("click",function(){e.eBV(i);const t=e.XpG();return e.Njj(t.onAddOffice())}),e.nrm(3,"i",57),e.EFF(4),e.nI1(5,"translate"),e.k0s()()()}2&r&&(e.R7$(4),e.SpI(" ",e.bMT(5,1,"text.add_office")," "))}let Ze=(()=>{var r;class a{constructor(o,t,l,c,v,M,k,I){this.fb=o,this.promoterFormService=t,this.popoverService=l,this.state=c,this.api=v,this.toastService=M,this.utils=k,this.translate=I,this.reloadData=new e.bkB,this.editing=!1,this.disabled=!0,this.promoterOffices=[{name:"Oficina Central",address:"Calle Ejemplo, 123",web:"www.ejemplo-oficina.com",email:"office@example.com",phoneNumber:"123456789"}]}ngOnInit(){this.getState(),this.promoter&&(this.promoterFormService.populateForm(this.promoter),this.promoter.languages=this.promoter.languages||[],this.promoterOffices=S.cloneDeep(this.promoter.promoterOffices)||[],this.disabled?setTimeout(()=>{this.disabled=!1,setTimeout(()=>{this.disabled=!0,this.syncFiles()})}):this.syncFiles())}syncFiles(){setTimeout(()=>{const o={multiple:!1,size:"medium",showRemove:!this.disabled,showName:!1,rounded:!0,allowUpload:!this.disabled,accept:"image/*",files:[]};var t;this.fileUploaderManager&&(this.fileUploaderManager.config=S.cloneDeep(o),this.fileUploaderManager.createProfileFilePic(this.promoter)),this.bannerFileUploaderManagerComponent&&(this.bannerFileUploaderManagerComponent.config=S.cloneDeep({...o,rounded:!1}),this.bannerFileUploaderManagerComponent.createPromoterBanner(this.promoter)),this.catalogFileUploaderManagerComponent&&(this.catalogFileUploaderManagerComponent.config=S.cloneDeep({...o,multiple:!0,showName:!0,files:(null===(t=this.promoter)||void 0===t||null===(t=t.promoterFiles)||void 0===t?void 0:t.filter(l=>"catalog"===l.category))||[],accept:"image/*,application/pdf"}))})}getState(){this.state.getState().subscribe(o=>{this.currentUser=o.user})}get promoterForm(){return this.promoterFormService.promoterForm}get phonesControls(){return this.promoterFormService.phones.controls}get emailsControls(){return this.promoterFormService.emails.controls}onEditUser(){var o,t,l;this.editing=!0,this.disabled=!1,null===(o=this.fileUploaderManager)||void 0===o||o.setEditingMode(!0),null===(t=this.bannerFileUploaderManagerComponent)||void 0===t||t.setEditingMode(!0),null===(l=this.catalogFileUploaderManagerComponent)||void 0===l||l.setEditingMode(!0)}onSaveUser(){var o=this;return(0,x.A)(function*(){try{var t,l,c,v,M;let I={...S.cloneDeep(o.promoter),...o.promoterForm.value};I=yield o.fileUploaderManager.processProfilePic(I),o.bannerFileUploaderManagerComponent&&(I=yield o.bannerFileUploaderManagerComponent.processPromoterBanner(I)),I.promoterOffices=S.cloneDeep(o.promoterOffices);const D=(null===(t=o.catalogFileUploaderManagerComponent)||void 0===t||null===(t=t.config)||void 0===t?void 0:t.files)||[];for(let h of D){if(null!=h&&h.new){var k;const R={promoterId:I.id,name:"",category:h.category,label:h.label,orderIndex:null==h?void 0:h.orderIndex},G=yield o.api.uploadFile(h.fileBlob);R.name=null==G||null===(k=G.success)||void 0===k||null===(k=k.data)||void 0===k?void 0:k.fileName,yield o.api.createPromoterFiles(R)}if(null!=h&&h.deleted&&(yield o.api.deletePromoterFilesById(null==h?void 0:h.id)),null!=h&&h.moved&&(null==h||!h.deleted)&&(null==h||!h.new)){let R=S.cloneDeep(h);delete R.moved,delete R.fileBase64,delete R.fileBlob,delete R.new,delete R.deleted,delete R.size,delete R.type,yield o.api.updatePromoterFilesById(null==R?void 0:R.id,R)}}I.phones=I.phones.map(h=>h.phoneNumber),I.emails=I.emails.map(h=>h.emailAddress),delete I.promoterFiles,delete I.promotions,delete I.users;let T=S.cloneDeep(I);T.extraHtmlWeb=null===(l=o.promoterForm.get("extraHtmlWeb"))||void 0===l?void 0:l.value,T.extraHtmlWeb=T.extraHtmlWeb?btoa(T.extraHtmlWeb):"";const U=yield o.api.updatePromoterById(I.id,T);null!=U&&U.success?o.toastService.showSuccessToast(o.translate.instant("text.promoter_update_success")):o.toastService.showErrorToast(o.translate.instant("text.promoter_update_error")),o.editing=!1,o.disabled=!0,null===(c=o.fileUploaderManager)||void 0===c||c.setEditingMode(!1),null===(v=o.bannerFileUploaderManagerComponent)||void 0===v||v.setEditingMode(!1),null===(M=o.catalogFileUploaderManagerComponent)||void 0===M||M.setEditingMode(!1),o.reloadData.emit()}catch(I){console.error(I),o.toastService.showErrorToast(o.translate.instant("text.promoter_update_error")),o.editing=!1,o.disabled=!0}})()}onAddLanguage(o){var t=this;return(0,x.A)(function*(){var l;const c={languageSelector:!0,showCountryCode:!1,selectedCodes:t.promoter.languages},v=yield t.popoverService.onShowCountrySelectorPopover(o,c);null!=v&&null!==(l=v.data)&&void 0!==l&&l.country&&t.promoter.languages.push(v.data.country.code)})()}onRemoveLanguage(o){this.promoter.languages=this.promoter.languages.filter(t=>t!==o)}getLanguageInfo(o){return this.utils.getLanguageInfo(o)}onAddNationality(o){var t=this;return(0,x.A)(function*(){var l,c;const v={languageSelector:!1,showCountryCode:!1,selectedCodes:[null===(l=t.promoterForm.get("country"))||void 0===l?void 0:l.value]},M=yield t.popoverService.onShowCountrySelectorPopover(o,v);var k;null!=M&&null!==(c=M.data)&&void 0!==c&&c.country&&(null===(k=t.promoterForm.get("country"))||void 0===k||k.setValue(M.data.country.code))})()}onRemoveNationality(){var o;null===(o=this.promoterForm.get("country"))||void 0===o||o.setValue("")}onSelectCountry(o,t,l){0===l||l?(console.log("OFFICE INDEX",o),this.promoterOffices[l].phoneNumber=(null==o?void 0:o.phoneCode)+" "):this.promoterFormService.onSelectCountry(o,t)}isControlInvalid(o){const t=this.promoterForm.get(o);return!(!t||!t.invalid||!t.dirty&&!t.touched)}isPhoneControlInvalid(o){var t;const l=null===(t=this.phonesControls[o])||void 0===t?void 0:t.get("phoneNumber");return!(!l||!l.invalid||!l.dirty&&!l.touched)}isEmailControlInvalid(o){var t;const l=null===(t=this.emailsControls[o])||void 0===t?void 0:t.get("emailAddress");return!(!l||!l.invalid||!l.dirty&&!l.touched)}onAddPhone(){this.promoterFormService.addPhone()}onRemovePhone(o){this.promoterFormService.removePhone(o)}onAddEmail(){this.promoterFormService.addEmail()}onRemoveEmail(o){this.promoterFormService.removeEmail(o)}getCountryInfo(o){return this.utils.getCountryInfo(o)}onAddOffice(){this.promoterOffices.push({name:"",address:"",web:"",email:"",phoneNumber:""})}onRemoveOffice(o){this.promoterOffices.splice(o,1)}}return(r=a).\u0275fac=function(o){return new(o||r)(e.rXU(u.ok),e.rXU(me),e.rXU(ue.m),e.rXU(O.c),e.rXU(d.i),e.rXU(b.f),e.rXU(N.T),e.rXU(m.c$))},r.\u0275cmp=e.VBU({type:r,selectors:[["app-promoter-details-info"]],viewQuery:function(o,t){if(1&o&&(e.GBs(ve,5),e.GBs(he,5),e.GBs(be,5)),2&o){let l;e.mGM(l=e.lsd())&&(t.fileUploaderManager=l.first),e.mGM(l=e.lsd())&&(t.bannerFileUploaderManagerComponent=l.first),e.mGM(l=e.lsd())&&(t.catalogFileUploaderManagerComponent=l.first)}},inputs:{promoter:"promoter"},outputs:{reloadData:"reloadData"},decls:147,vars:114,consts:[["fileUploaderManagerComponent",""],["bannerFileUploaderManagerComponent",""],["catalogFileUploaderManagerComponent",""],[1,"crm-header-modal","crm-header-modal-empty"],[1,"crm-buttons-group"],[1,"crm-boxes-user-create",3,"formGroup"],[1,"crm-box"],[1,"crm-section","size-medium-small"],[1,"crm-section-smaller-title"],["class","crm-section-smaller-title",4,"ngIf"],[1,"crm-section-title"],[1,"crm-section-inputs",3,"ngClass"],[1,"crm-input"],[1,"crm-input-label"],[1,"crm-input-input",3,"ngClass","appInputViewMode"],["type","text","formControlName","name",3,"placeholder"],["class","crm-input-error",4,"ngIf"],[1,"crm-input","crm-input-medium"],[1,"crm-section-items"],[1,"crm-item-option","crm-item-option-lang",3,"ngClass"],["type","button",1,"crm-button-secondary","crm-button-secondary-primary"],[1,"crm-input",3,"appHideIfNoData","disabled"],[1,"crm-text",2,"font-style","normal","color","black"],[1,"crm-input-input","crm-input-input-textarea",3,"appInputViewMode"],[1,"crm-input-input",3,"appInputViewMode"],["type","text","formControlName","legalName",3,"placeholder"],["type","number","formControlName","foundationYear",3,"placeholder"],["type","text","formControlName","nifCif",3,"placeholder"],["type","number","formControlName","annualSales","placeholder","{{ 'text.input_annual_sales | translate }}"],["type","number","formControlName","annualRevenue","placeholder","{{ 'text.input_annual_revenue | translate }}"],["type","number","formControlName","portfolioSize","placeholder","{{ 'text.input_portfolio_size | translate }}"],["type","text","formControlName","city","placeholder","{{ 'text.input_placeholder_city | translate }}"],["type","text","formControlName","address","placeholder","{{ 'text.input_placeholder_address | translate }}"],["type","text","formControlName","postalCode","placeholder","{{ 'text.input_placeholder_postal_code | translate }}"],["type","text","formControlName","province","placeholder","{{ 'text.input_placeholder_province | translate }}"],[1,"crm-input-textarea",3,"appInputViewMode"],["formControlName","extraHtmlWeb","placeholder","Introduce el HTML adicional"],[1,"crm-box","crm-section"],[3,"formGroup"],[1,"crm-section-buttons-right"],[1,"crm-section-inline-cards"],[1,"crm-card"],["class","crm-section-buttons-right",4,"ngIf"],[1,"crm-button"],[1,"crm-button-secondary","crm-button-secondary-primary"],[1,"crm-button",3,"click"],[1,"fa","fa-check"],[1,"crm-button-secondary","crm-button-secondary-primary",3,"click"],[1,"fa","fa-edit"],[1,"crm-input-error"],[1,"crm-item-option-left"],[1,"crm-item-option-flag"],[1,"crm-item-option-label"],[1,"crm-item-option-remove"],[1,"crm-item-option-remove",3,"click"],[1,"fas","fa-trash"],["type","button",1,"crm-button-secondary","crm-button-secondary-primary",3,"click"],[1,"fas","fa-add"],["rows","5","formControlName","aboutUs",3,"placeholder"],["rows","5","formControlName","storyAboutUs",3,"placeholder"],[1,"crm-item-option","crm-item-option-lang","edit"],[1,"crm-item-option","crm-item-option-lang"],[1,"crm-input-input-and-icon"],[1,"crm-input-input",3,"appInputViewMode","ngClass"],[3,"emitCountrySelected"],["type","text","formControlName","phoneNumber",3,"placeholder"],[1,"crm-input-input-and-icon-right"],[1,"crm-text","crm-text-underline","crm-text-underline-red"],[1,"crm-text","crm-text-underline","crm-text-underline-red",3,"click"],[1,"crm-section-buttons-group"],[1,"crm-input-input-and-icon",3,"appInputViewMode"],[1,"crm-input-input",3,"ngClass"],["type","email","formControlName","emailAddress",3,"placeholder"],[1,"crm-header-modal","crm-header-modal-no-padding",2,"margin-bottom","12px"],[1,"crm-card-title"],["class","crm-button-icon-solo red small",3,"click",4,"ngIf"],[1,"crm-card-content"],[1,"crm-section-inputs"],["type","text",3,"ngModelChange","ngModel","ngModelOptions"],["type","email",3,"ngModelChange","ngModel","ngModelOptions"],[3,"emitCountrySelected",4,"ngIf"],[1,"crm-button-icon-solo","red","small",3,"click"]],template:function(o,t){1&o&&(e.j41(0,"div",3),e.nrm(1,"div"),e.j41(2,"div",4),e.DNE(3,ye,2,1),e.k0s()(),e.j41(4,"form",5)(5,"div",6)(6,"div",7)(7,"div",8),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.nrm(10,"app-file-uploader-manager",null,0),e.DNE(12,Pe,2,0,"div",9),e.nrm(13,"app-file-uploader-manager",null,1),e.DNE(15,Me,3,3,"div",9),e.nrm(16,"app-file-uploader-manager",null,2),e.j41(18,"div",10),e.EFF(19),e.nI1(20,"translate"),e.k0s(),e.j41(21,"div",11)(22,"div",12)(23,"div",13),e.EFF(24),e.nI1(25,"translate"),e.k0s(),e.j41(26,"div",14),e.nrm(27,"input",15),e.nI1(28,"translate"),e.nI1(29,"translate"),e.k0s(),e.DNE(30,Fe,3,3,"div",16),e.k0s(),e.j41(31,"div",17)(32,"div",13),e.EFF(33),e.nI1(34,"translate"),e.k0s(),e.j41(35,"div",18),e.Z7z(36,Re,7,7,"div",19,e.fX1),e.DNE(38,Ee,4,3,"button",20),e.k0s()(),e.j41(39,"div",21)(40,"div",13),e.EFF(41),e.nI1(42,"translate"),e.k0s(),e.DNE(43,Te,2,1,"div",22)(44,je,3,4,"div",23),e.k0s(),e.j41(45,"div",21)(46,"div",13),e.EFF(47),e.nI1(48,"translate"),e.k0s(),e.DNE(49,De,2,1,"div",22)(50,$e,3,4,"div",23),e.k0s()(),e.j41(51,"div",10),e.EFF(52),e.nI1(53,"translate"),e.k0s(),e.j41(54,"div",11)(55,"div",12)(56,"div",13),e.EFF(57),e.nI1(58,"translate"),e.k0s(),e.j41(59,"div",24),e.nrm(60,"input",25),e.nI1(61,"translate"),e.k0s()(),e.j41(62,"div",12)(63,"div",13),e.EFF(64),e.nI1(65,"translate"),e.k0s(),e.j41(66,"div",24),e.nrm(67,"input",26),e.nI1(68,"translate"),e.k0s()(),e.j41(69,"div",12)(70,"div",13),e.EFF(71,"NIF/CIF"),e.k0s(),e.j41(72,"div",24),e.nrm(73,"input",27),e.nI1(74,"translate"),e.k0s()(),e.j41(75,"div",12)(76,"div",13),e.EFF(77),e.nI1(78,"translate"),e.k0s(),e.j41(79,"div",24),e.nrm(80,"input",28),e.k0s()(),e.j41(81,"div",12)(82,"div",13),e.EFF(83),e.nI1(84,"translate"),e.k0s(),e.j41(85,"div",24),e.nrm(86,"input",29),e.k0s()(),e.j41(87,"div",12)(88,"div",13),e.EFF(89),e.nI1(90,"translate"),e.k0s(),e.j41(91,"div",24),e.nrm(92,"input",30),e.k0s()(),e.j41(93,"div",12)(94,"div",13),e.EFF(95),e.nI1(96,"translate"),e.k0s(),e.j41(97,"div",18),e.DNE(98,we,2,1)(99,Ge,1,1),e.k0s()(),e.j41(100,"div",12)(101,"div",13),e.EFF(102),e.nI1(103,"translate"),e.k0s(),e.j41(104,"div",24),e.nrm(105,"input",31),e.k0s()(),e.j41(106,"div",12)(107,"div",13),e.EFF(108),e.nI1(109,"translate"),e.k0s(),e.j41(110,"div",24),e.nrm(111,"input",32),e.k0s()(),e.j41(112,"div",12)(113,"div",13),e.EFF(114),e.nI1(115,"translate"),e.k0s(),e.j41(116,"div",24),e.nrm(117,"input",33),e.k0s()(),e.j41(118,"div",12)(119,"div",13),e.EFF(120),e.nI1(121,"translate"),e.k0s(),e.j41(122,"div",24),e.nrm(123,"input",34),e.k0s()(),e.j41(124,"div",12)(125,"div",13),e.EFF(126," Html adicional para la web "),e.k0s(),e.j41(127,"div",35),e.nrm(128,"textarea",36),e.k0s()()()()(),e.j41(129,"div",37)(130,"div",10),e.EFF(131),e.nI1(132,"translate"),e.k0s(),e.j41(133,"div",11),e.Z7z(134,Be,14,21,"div",38,e.fX1),e.DNE(136,Ye,7,8,"div",39),e.Z7z(137,ze,13,21,"div",38,e.fX1),e.DNE(139,Le,7,8,"div",39),e.j41(140,"div",10),e.EFF(141),e.nI1(142,"translate"),e.k0s(),e.j41(143,"div",40),e.Z7z(144,Je,50,63,"div",41,e.fX1),e.k0s(),e.DNE(146,Ke,6,3,"div",42),e.k0s()()()),2&o&&(e.R7$(3),e.vxM("promoter"===(null==t.currentUser?null:t.currentUser.accountType)?3:-1),e.R7$(),e.Y8G("formGroup",t.promoterForm),e.R7$(4),e.SpI(" ",e.bMT(9,55,"text.profile_picture")," "),e.R7$(4),e.Y8G("ngIf",(null==t.promoter?null:t.promoter.bannerUrl)||!t.disabled),e.R7$(3),e.Y8G("ngIf",(null==t.promoter||null==t.promoter.promoterFiles?null:t.promoter.promoterFiles.length)>0||!t.disabled),e.R7$(4),e.SpI(" ",e.bMT(20,57,"text.general_info")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(104,X,t.disabled)),e.R7$(3),e.SpI(" ",e.bMT(25,59,"text.name")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(106,A,t.isControlInvalid("name")))("appInputViewMode",t.disabled),e.R7$(),e.Y8G("placeholder",e.i5U(29,63,"text.input_placeholder",e.eq3(108,z,e.bMT(28,61,"text.name")))),e.R7$(3),e.Y8G("ngIf",t.isControlInvalid("name")),e.R7$(3),e.SpI(" ",e.bMT(34,66,"text.languages")," "),e.R7$(3),e.Dyx(null==t.promoter?null:t.promoter.languages),e.R7$(2),e.vxM(t.disabled?-1:38),e.R7$(),e.Y8G("appHideIfNoData",t.promoterForm.controls.aboutUs.value)("disabled",t.disabled),e.R7$(2),e.SpI(" ",e.bMT(42,68,"text.about_us")," "),e.R7$(2),e.vxM(t.disabled?43:44),e.R7$(2),e.Y8G("appHideIfNoData",t.promoterForm.controls.storyAboutUs.value)("disabled",t.disabled),e.R7$(2),e.SpI(" ",e.bMT(48,70,"text.about_us")," "),e.R7$(2),e.vxM(t.disabled?49:50),e.R7$(3),e.SpI(" ",e.bMT(53,72,"text.additional_info")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(110,X,t.disabled)),e.R7$(3),e.JRh(e.bMT(58,74,"text.legal_name")),e.R7$(2),e.Y8G("appInputViewMode",t.disabled),e.R7$(),e.FS9("placeholder",e.bMT(61,76,"text.input_placeholder_legal_name")),e.R7$(4),e.JRh(e.bMT(65,78,"text.foundation_year")),e.R7$(2),e.Y8G("appInputViewMode",t.disabled),e.R7$(),e.FS9("placeholder",e.bMT(68,80,"text.input_placeholder_foundation_year")),e.R7$(5),e.Y8G("appInputViewMode",t.disabled),e.R7$(),e.FS9("placeholder",e.bMT(74,82,"text.input_placeholder_nif_cif")),e.R7$(4),e.JRh(e.bMT(78,84,"text.annual_sales")),e.R7$(2),e.Y8G("appInputViewMode",t.disabled),e.R7$(4),e.JRh(e.bMT(84,86,"text.annual_revenue")),e.R7$(2),e.Y8G("appInputViewMode",t.disabled),e.R7$(4),e.JRh(e.bMT(90,88,"text.portfolio_size")),e.R7$(2),e.Y8G("appInputViewMode",t.disabled),e.R7$(4),e.JRh(e.bMT(96,90,"text.country")),e.R7$(3),e.vxM(t.disabled?99:98),e.R7$(4),e.JRh(e.bMT(103,92,"text.city")),e.R7$(2),e.Y8G("appInputViewMode",t.disabled),e.R7$(4),e.JRh(e.bMT(109,94,"text.address")),e.R7$(2),e.Y8G("appInputViewMode",t.disabled),e.R7$(4),e.JRh(e.bMT(115,96,"text.postal_code")),e.R7$(2),e.Y8G("appInputViewMode",t.disabled),e.R7$(4),e.JRh(e.bMT(121,98,"text.province")),e.R7$(2),e.Y8G("appInputViewMode",t.disabled),e.R7$(5),e.Y8G("appInputViewMode",t.disabled),e.R7$(4),e.SpI(" ",e.bMT(132,100,"text.contact_info")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(112,X,t.disabled)),e.R7$(),e.Dyx(t.phonesControls),e.R7$(2),e.vxM(t.disabled?-1:136),e.R7$(),e.Dyx(t.emailsControls),e.R7$(2),e.vxM(t.disabled?-1:139),e.R7$(2),e.SpI(" ",e.bMT(142,102,"text.offices")," "),e.R7$(3),e.Dyx(t.promoterOffices),e.R7$(2),e.Y8G("ngIf",!t.disabled))},dependencies:[n.YU,n.bT,u.qT,u.me,u.Q0,u.BC,u.cb,u.vS,_e.M,u.j4,u.JD,fe.Z,oe.F,ge.S,m.D9]}),a})();function Qe(r,a){if(1&r){const i=e.RV6();e.j41(0,"div",5)(1,"app-promoter-details-presentation",7),e.bIt("reloadData",function(){e.eBV(i);const t=e.XpG(2);return e.Njj(t.ngOnInit())}),e.k0s()()}if(2&r){const i=e.XpG(2);e.R7$(),e.Y8G("promoter",i.promoter)}}function qe(r,a){if(1&r){const i=e.RV6();e.j41(0,"div",6)(1,"app-promoter-details-info",7),e.bIt("reloadData",function(){e.eBV(i);const t=e.XpG(2);return e.Njj(t.ngOnInit())}),e.k0s()()}if(2&r){const i=e.XpG(2);e.R7$(),e.Y8G("promoter",i.promoter)}}function et(r,a){if(1&r&&e.DNE(0,Qe,2,1,"div",5)(1,qe,2,1,"div",6),2&r){const i=e.XpG();e.vxM("presentation"===i.activeTab?0:-1),e.R7$(),e.vxM("info"===i.activeTab?1:-1)}}const tt=[{path:"",component:(()=>{var r;class a{constructor(o,t,l,c,v,M){this.activatedRoute=o,this.toastService=t,this.headerService=l,this.router=c,this.api=v,this.translate=M,this.promoterParameterId=null,this.promoter=null,this.activeTab="info",this.promoterTabs=[{id:"1",title:"presentation",active:!0},{id:"2",title:"info",active:!1}]}ngOnInit(){var o=this;return(0,x.A)(function*(){if(o.promoterParameterId=o.activatedRoute.snapshot.paramMap.get("id"),"mine"===o.promoterParameterId){var t;const c=yield o.api.getCurrentPromoter();if(null!=c&&null!==(t=c.success)&&void 0!==t&&t.data){var l;o.promoter=c.success.data;let M={},k=null,I={page:0,itemsPerPage:50};const D=yield o.api.getUser(M,k,I);null!=D&&null!==(l=D.success)&&void 0!==l&&l.data&&(o.promoter.users=D.success.data)}}else o.getData();o.headerService.setConfig({title:"promoter_details"})})()}getData(){var o=this;return(0,x.A)(function*(){if(o.promoter=yield o.getPromoterById(),!o.promoter)return o.toastService.showToast({text:o.translate.instant("text.no_contact_with_id"),icon:"fas fa-exclamation-triangle",theme:"red",time:3e3}),void o.router.navigate(["/promoters"])})()}getPromoterById(){var o=this;return(0,x.A)(function*(){var t,l;if(!o.promoterParameterId)return null;const c=yield o.api.getPromoter({id:{equals:o.promoterParameterId}},null,null);c.error&&o.toastService.showToast({text:o.translate.instant("text.promoter_read_error"),icon:"fas fa-exclamation-triangle",theme:"red",time:3e3});const[v]=null==c||null===(t=c.success)||void 0===t?void 0:t.data,M=yield o.api.getUsersOfAccount(v.id,"promoter");return console.log("users:",M),v.users=(null===(l=M.success)||void 0===l?void 0:l.data)||[],v})()}onTabClicked(o){this.activeTab=o}}return(r=a).\u0275fac=function(o){return new(o||r)(e.rXU(C.nX),e.rXU(b.f),e.rXU(_.d),e.rXU(C.Ix),e.rXU(d.i),e.rXU(m.c$))},r.\u0275cmp=e.VBU({type:r,selectors:[["app-promoter-details"]],decls:6,vars:2,consts:[[1,"crm-block-body"],[1,"crm-block-body-fixed"],[1,"crm-block-details-header"],[1,"crm-block-details-bottom"],[3,"tabClicked","tabs"],[1,"crm-block-body-blue-content",2,"padding","0"],[1,"crm-block-body-blue-content"],[3,"reloadData","promoter"]],template:function(o,t){1&o&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"app-tabs",4),e.bIt("tabClicked",function(c){return t.onTabClicked(c)}),e.k0s()()()(),e.DNE(5,et,2,2),e.k0s()),2&o&&(e.R7$(4),e.Y8G("tabs",t.promoterTabs),e.R7$(),e.vxM(null!=t.promoter&&t.promoter.id?5:-1))},dependencies:[y.O,ce,Ze]}),a})()}];let ot=(()=>{var r;class a{}return(r=a).\u0275fac=function(o){return new(o||r)},r.\u0275mod=e.$C({type:r}),r.\u0275inj=e.G2t({imports:[C.iI.forChild(tt),C.iI]}),a})();var nt=s(2652),rt=s(6812),ie=s(9662),it=s(3263),lt=s(7991);let at=(()=>{var r;class a{}return(r=a).\u0275fac=function(o){return new(o||r)},r.\u0275mod=e.$C({type:r}),r.\u0275inj=e.G2t({imports:[n.MD,f.bv,u.X1,it.l,ie.Y,lt.S,m.h]}),a})(),st=(()=>{var r;class a{}return(r=a).\u0275fac=function(o){return new(o||r)},r.\u0275mod=e.$C({type:r}),r.\u0275inj=e.G2t({imports:[n.MD,u.YN,f.bv,ot,y.O,m.h,nt.T,u.X1,rt.u,oe.F,ie.Y,at]}),a})()},9520:($,F,s)=>{s.d(F,{k:()=>B});var n=s(3953),u=s(6552),f=s(177),C=s(9465);const x=g=>({"user-card-active":g});function e(g,E){if(1&g){const P=n.RV6();n.j41(0,"div",3)(1,"div",20)(2,"ion-checkbox",21),n.bIt("click",function(j){n.eBV(P);const Y=n.XpG(2);return n.Njj(Y.onTogglePromotionCheckbox(j))}),n.k0s()()()}if(2&g){const P=n.XpG(2);n.R7$(2),n.Y8G("value",P.user.checked)}}function b(g,E){if(1&g&&(n.qex(0),n.nrm(1,"span",25),n.bVm()),2&g){let P;const p=n.XpG().$implicit,j=n.XpG(3);n.R7$(),n.HbH(null==(P=j.utils.getLanguageInfo(p))?null:P.flagClass)}}function _(g,E){if(1&g&&(n.qex(0),n.DNE(1,b,2,2,"ng-container",19),n.bVm()),2&g){const P=E.index;n.R7$(),n.Y8G("ngIf",P<3)}}function d(g,E){if(1&g&&(n.j41(0,"span",26),n.EFF(1),n.k0s()),2&g){const P=n.XpG(3);n.R7$(),n.SpI(" +",P.user.languages.length-3," ")}}function m(g,E){if(1&g&&(n.j41(0,"div",22),n.DNE(1,_,2,1,"ng-container",23)(2,d,2,1,"span",24),n.k0s()),2&g){const P=n.XpG(2);n.R7$(),n.Y8G("ngForOf",P.user.languages),n.R7$(),n.Y8G("ngIf",P.user.languages.length>3)}}function y(g,E){1&g&&(n.j41(0,"div",27),n.EFF(1,"Sin idiomas"),n.k0s())}function O(g,E){1&g&&(n.j41(0,"div",28),n.nrm(1,"i",29),n.EFF(2," Usuario inactivo "),n.k0s())}function N(g,E){if(1&g){const P=n.RV6();n.j41(0,"div")(1,"div",28),n.nrm(2,"i",29),n.EFF(3," Invitaci\xf3n pendiente de aprobaci\xf3n "),n.k0s(),n.j41(4,"div",30),n.bIt("click",function(){n.eBV(P);const j=n.XpG(2);return n.Njj(j.onCancelInvitation(j.user.id))}),n.EFF(5," Cancelar invitaci\xf3n "),n.k0s()()}}function V(g,E){if(1&g&&(n.j41(0,"div",2),n.DNE(1,e,3,1,"div",3),n.j41(2,"div",4)(3,"div",5),n.nrm(4,"img",6),n.k0s(),n.j41(5,"div",7)(6,"div",8),n.EFF(7),n.k0s(),n.j41(8,"div",9),n.EFF(9),n.k0s()()(),n.j41(10,"div",10)(11,"div",11),n.nrm(12,"i",12),n.j41(13,"span"),n.EFF(14),n.k0s()(),n.j41(15,"div",11),n.nrm(16,"i",13),n.j41(17,"span"),n.EFF(18),n.k0s()()(),n.j41(19,"div",14)(20,"div",15),n.nrm(21,"i",16),n.j41(22,"span"),n.EFF(23),n.k0s()(),n.DNE(24,m,3,2,"div",17)(25,y,2,0,"ng-template",null,0,n.C5r),n.k0s(),n.DNE(27,O,3,0,"div",18)(28,N,6,0,"div",19),n.k0s()),2&g){const P=n.sdS(26),p=n.XpG();n.Y8G("ngClass",n.eq3(13,x,null==p.user?null:p.user.checked)),n.R7$(),n.vxM(p.showCheckbox?1:-1),n.R7$(3),n.FS9("alt",null==p.user?null:p.user.name),n.Y8G("src",(null==p.user?null:p.user.photoUrl)||"assets/images/avatar.png",n.B4B),n.R7$(3),n.JRh(null==p.user?null:p.user.name),n.R7$(2),n.JRh(null==p.user?null:p.user.jobTitle),n.R7$(5),n.JRh(null==p.user?null:p.user.phone),n.R7$(4),n.JRh(null==p.user?null:p.user.email),n.R7$(5),n.JRh("Valencia"),n.R7$(),n.Y8G("ngIf",(null==p.user||null==p.user.languages?null:p.user.languages.length)>0)("ngIfElse",P),n.R7$(3),n.Y8G("ngIf",null==p.user?null:p.user.inactive),n.R7$(),n.Y8G("ngIf","invitation"===(null==p.options?null:p.options.type)&&!(null!=p.options&&p.options.externalUser))}}let B=(()=>{var g;class E{constructor(p){this.utils=p,this.isSkeleton=!1,this.user=null,this.options={type:"user",externalUser:!1},this.showCheckbox=!0,this.toggleUserCheckbox=new n.bkB,this.invitationCanceled=new n.bkB}ngOnInit(){}onTogglePromotionCheckbox(p){p.stopPropagation(),this.toggleUserCheckbox.emit()}onCancelInvitation(p){console.log("cancel invitation",p),this.invitationCanceled.emit(p)}}return(g=E).\u0275fac=function(p){return new(p||g)(n.rXU(u.T))},g.\u0275cmp=n.VBU({type:g,selectors:[["app-card-system-user"]],inputs:{isSkeleton:"isSkeleton",user:"user",options:"options",showCheckbox:"showCheckbox"},outputs:{toggleUserCheckbox:"toggleUserCheckbox",invitationCanceled:"invitationCanceled"},decls:1,vars:1,consts:[["noLanguages",""],["class","user-card",3,"ngClass",4,"ngIf"],[1,"user-card",3,"ngClass"],[1,"crm-card-floating-checkbox",2,"right","16px","left","inherit"],[1,"user-card-header"],[1,"user-card-image"],[3,"src","alt"],[1,"user-card-info"],[1,"user-card-name"],[1,"user-card-role"],[1,"user-card-contact"],[1,"user-card-contact-item"],[1,"fas","fa-phone"],[1,"fas","fa-envelope"],[1,"user-card-bottom"],[1,"user-card-location"],[1,"fas","fa-map-marker-alt"],["class","user-card-languages",4,"ngIf","ngIfElse"],["class","user-card-chip warning",4,"ngIf"],[4,"ngIf"],[1,"crm-input-checkbox"],[3,"click","value"],[1,"user-card-languages"],[4,"ngFor","ngForOf"],["class","user-card-lang-plus",4,"ngIf"],[1,"user-card-flag"],[1,"user-card-lang-plus"],[1,"user-card-no-langs"],[1,"user-card-chip","warning"],[1,"fas","fa-exclamation-triangle"],[1,"user-card-action",3,"click"]],template:function(p,j){1&p&&n.DNE(0,V,29,15,"div",1),2&p&&n.Y8G("ngIf",!j.isSkeleton&&j.user)},dependencies:[f.YU,f.Sq,f.bT,C.eY,C.hB],styles:[".user-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:12px;border:1px solid #eaeaea;padding:16px;width:300px;max-width:300px;position:relative;display:flex;flex-direction:column;gap:16px;cursor:pointer}.user-card-active[_ngcontent-%COMP%]{outline:2px solid var(--crm-primary-color)}.user-card-checkbox[_ngcontent-%COMP%]{position:absolute;top:12px;right:12px;z-index:1}.user-card-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.user-card-image[_ngcontent-%COMP%]{width:64px;height:64px;border-radius:50%;overflow:hidden;flex-shrink:0}.user-card-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.user-card-info[_ngcontent-%COMP%]{display:flex;flex-direction:column}.user-card-name[_ngcontent-%COMP%]{font-size:15px;font-weight:600;color:#212121}.user-card-role[_ngcontent-%COMP%]{font-size:14px;color:#666}.user-card-contact[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px}.user-card-contact-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:13px;color:#6c6c6c}.user-card-contact-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:13px;color:#9e9e9e}.user-card-bottom[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding-top:12px;border-top:1px solid #eaeaea;flex-wrap:wrap;gap:8px}.user-card-location[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;font-size:13px;color:#666}.user-card-location[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:13px;color:#999}.user-card-languages[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px}.user-card-flag[_ngcontent-%COMP%]{width:20px;height:14px;background-size:cover;border-radius:2px}.user-card-lang-plus[_ngcontent-%COMP%]{font-size:13px;color:#666}.user-card-no-langs[_ngcontent-%COMP%]{font-size:13px;color:#999}.user-card-chip[_ngcontent-%COMP%]{padding:6px 10px;font-size:13px;border-radius:6px;display:inline-flex;align-items:center;gap:6px;width:-moz-fit-content;width:fit-content}.user-card-chip.warning[_ngcontent-%COMP%]{background-color:#fff3cd;color:#856404;border:1px solid #ffeeba}.user-card-action[_ngcontent-%COMP%]{font-size:13px;color:#dc3545;text-align:center;text-decoration:underline;cursor:pointer;margin-top:8px}.user-card-action[_ngcontent-%COMP%]:hover{text-decoration:none}"]}),E})()},3263:($,F,s)=>{s.d(F,{l:()=>x});var n=s(177),u=s(9465),f=s(9417),C=s(3953);let x=(()=>{var e;class b{}return(e=b).\u0275fac=function(d){return new(d||e)},e.\u0275mod=C.$C({type:e}),e.\u0275inj=C.G2t({imports:[n.MD,f.YN,u.bv]}),b})()},4558:($,F,s)=>{s.d(F,{w:()=>u});var n=s(3953);let u=(()=>{var f;class C{transform(e,...b){if(null==e||""===e)return"";let _;return _="string"==typeof e?parseFloat(e):e,isNaN(_)?"":_.toString().replace(/\.(?=\d+$)/,",").replace(/\B(?=(\d{3})+(?!\d))/g,".")}}return(f=C).\u0275fac=function(e){return new(e||f)},f.\u0275pipe=n.EJ8({name:"thousandSeparator",type:f,pure:!0}),C})()}}]);