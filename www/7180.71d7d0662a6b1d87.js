"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7180],{2606:(R,k,s)=>{s.d(k,{O:()=>y});var n=s(3953),m=s(3955);const g=["tabElement"];function b(e,C){if(1&e){const u=n.RV6();n.j41(0,"div",3,0),n.bIt("click",function(){const f=n.eBV(u).$index,F=n.XpG();return n.Njj(F.onClickTab(f))}),n.EFF(2),n.nI1(3,"translate"),n.k0s()}if(2&e){const u=C.$implicit;n.AVh("active",u.active),n.R7$(2),n.SpI(" ",n.bMT(3,3,"text."+(null==u?null:u.title))||(null==u?null:u.title)," ")}}let y=(()=>{var e;class C{constructor(){this.tabs=[{id:"1",title:"Visi\xf3n general",active:!0},{id:"2",title:"Nuestro equipo",active:!1},{id:"3",title:"Agencias",active:!1}],this.tabClicked=new n.bkB}ngOnChanges(d){if(d.activeTab&&this.activeTab&&this.tabs.length>0){const f=this.tabs.findIndex(F=>F.title===this.activeTab);-1!==f&&this.onClickTab(f)}}ngAfterViewInit(){const d=this.tabs.findIndex(f=>f.active)||0;-1!==d&&this.onClickTab(d)}onClickTab(d){console.log("HEY",d),this.tabs.forEach((f,F)=>{f.active=F===d}),this.tabClicked.emit(this.tabs[d].title),this.updateActiveTab(d)}updateActiveTab(d){setTimeout(()=>{var f;const F=null===(f=this.tabElements.get(d))||void 0===f?void 0:f.nativeElement;if(F){const U=F.offsetLeft;document.documentElement.style.setProperty("--indicator-width",F.offsetWidth-12+"px"),document.documentElement.style.setProperty("--indicator-left",`${U}px`)}},0)}}return(e=C).\u0275fac=function(d){return new(d||e)},e.\u0275cmp=n.VBU({type:e,selectors:[["app-tabs"]],viewQuery:function(d,f){if(1&d&&n.GBs(g,5),2&d){let F;n.mGM(F=n.lsd())&&(f.tabElements=F)}},inputs:{tabs:"tabs",activeTab:"activeTab"},outputs:{tabClicked:"tabClicked"},standalone:!0,features:[n.OA$,n.aNF],decls:3,vars:0,consts:[["tabElement",""],[1,"crm-tabs"],[1,"crm-tabs-tab",3,"active"],[1,"crm-tabs-tab",3,"click"]],template:function(d,f){1&d&&(n.j41(0,"div",1),n.Z7z(1,b,4,5,"div",2,n.fX1),n.k0s()),2&d&&(n.R7$(),n.Dyx(f.tabs))},dependencies:[m.h,m.D9]}),C})()},1129:(R,k,s)=>{s.d(k,{Z:()=>y});var n=s(3953),m=s(6069),g=s(1982);function b(e,C){if(1&e){const u=n.RV6();n.j41(0,"app-country-selector-popover",4),n.bIt("countrySelected",function(f){n.eBV(u);const F=n.XpG();return n.Njj(F.selectCountry(f))})("closePopover",function(){n.eBV(u);const f=n.XpG();return n.Njj(f.dropdownOpen=!1)}),n.k0s()}2&e&&n.Y8G("showCountryCode",!0)}let y=(()=>{var e;class C{constructor(){this.emitCountrySelected=new n.bkB,this.countries=m.X,this.selectedCountry=m.X[0],this.dropdownOpen=!1}ngOnChanges(){const d=this.extractCountryPhoneCodeFromPhoneNumber(this.selectedPhoneNumber);d!==this.extractCountryPhoneCodeFromPhoneNumber(this.selectedCountry.phoneCode)&&this.selectCountryByPhoneCode(d)}toggleDropdown(d){d.stopPropagation(),this.dropdownOpen=!this.dropdownOpen}selectCountry(d){d.event.stopPropagation(),this.selectedCountry=d.country,this.emitCountrySelected.emit(d.country),this.dropdownOpen=!1}selectCountryByPhoneCode(d){const f=this.countries.find(F=>F.phoneCode===d);f&&(this.selectedCountry=f,this.emitCountrySelected.emit(f))}extractCountryPhoneCodeFromPhoneNumber(d){return null==d?void 0:d.split(" ")[0]}}return(e=C).\u0275fac=function(d){return new(d||e)},e.\u0275cmp=n.VBU({type:e,selectors:[["app-flag-country-selector"]],inputs:{selectedPhoneNumber:"selectedPhoneNumber"},outputs:{emitCountrySelected:"emitCountrySelected"},features:[n.OA$],decls:5,vars:3,consts:[["tabindex","0",1,"flag-country-selector-container",3,"click"],[1,"selected-country"],[1,"fas","fa-caret-down","dropdown-arrow"],[3,"showCountryCode"],[3,"countrySelected","closePopover","showCountryCode"]],template:function(d,f){1&d&&(n.j41(0,"div",0),n.bIt("click",function(T){return f.toggleDropdown(T)}),n.j41(1,"div",1),n.nrm(2,"span")(3,"i",2),n.k0s(),n.DNE(4,b,1,1,"app-country-selector-popover",3),n.k0s()),2&d&&(n.R7$(2),n.HbH(null==f.selectedCountry?null:f.selectedCountry.flagClass),n.R7$(2),n.vxM(f.dropdownOpen?4:-1))},dependencies:[g.u],styles:[".flag-country-selector-container[_ngcontent-%COMP%]{position:relative;width:50px;cursor:pointer;color:#000}.selected-country[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:40px;width:50px}.dropdown-arrow[_ngcontent-%COMP%]{margin-left:8px}.dropdown-options[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;width:200px;z-index:9999;background-color:#fff;border:1px solid #ccc;padding:8px 0;border-radius:12px;border:1px solid var(--crm-border-light-color);color:#000;max-height:150px;overflow-y:auto}.option[_ngcontent-%COMP%]{padding:8px;display:flex;align-items:center;cursor:pointer;font-size:14px}.option[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px;display:inline-block;margin-right:8px}.option[_ngcontent-%COMP%]:hover{background-color:#f0f0f0}.flag-country-selector-container[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]{color:#000}.selected-country[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:24px;width:18px;height:18px}"]}),C})()},6812:(R,k,s)=>{s.d(k,{u:()=>y});var n=s(177),m=s(9417),g=s(7754),b=s(3953);let y=(()=>{var e;class C{}return(e=C).\u0275fac=function(d){return new(d||e)},e.\u0275mod=b.$C({type:e}),e.\u0275inj=b.G2t({imports:[n.MD,m.YN,g.X]}),C})()},7754:(R,k,s)=>{s.d(k,{X:()=>y});var n=s(177),m=s(9417),g=s(9465),b=s(3953);let y=(()=>{var e;class C{}return(e=C).\u0275fac=function(d){return new(d||e)},e.\u0275mod=b.$C({type:e}),e.\u0275inj=b.G2t({imports:[n.MD,m.YN,g.bv]}),C})()},4821:(R,k,s)=>{s.d(k,{e:()=>m});var n=s(3953);let m=(()=>{var g;class b{constructor(e){this.renderer=e,this.text="",this.maxLength=20,this.tooltipClass="",this.tooltipElement=null}ngOnInit(){}get trimmedText(){return this.text?this.text.length>this.maxLength?this.text.slice(0,this.maxLength)+"...":this.text:""}showTooltip(e){this.text.length<=this.maxLength||(this.tooltipElement=this.renderer.createElement("div"),this.tooltipElement.innerText=this.text,this.renderer.addClass(this.tooltipElement,"custom-tooltip"),this.tooltipClass&&this.tooltipClass.split(" ").forEach(u=>{u.trim()&&this.renderer.addClass(this.tooltipElement,u.trim())}),this.renderer.setStyle(this.tooltipElement,"position","fixed"),this.renderer.setStyle(this.tooltipElement,"top",e.clientY-30+"px"),this.renderer.setStyle(this.tooltipElement,"left",`${e.clientX}px`),this.renderer.setStyle(this.tooltipElement,"z-index","9999"),this.renderer.appendChild(document.body,this.tooltipElement))}hideTooltip(){this.tooltipElement&&(this.renderer.removeChild(document.body,this.tooltipElement),this.tooltipElement=null)}}return(g=b).\u0275fac=function(e){return new(e||g)(n.rXU(n.sFG))},g.\u0275cmp=n.VBU({type:g,selectors:[["app-tooltip-text"]],inputs:{text:"text",maxLength:"maxLength",tooltipClass:"tooltipClass"},standalone:!0,features:[n.aNF],decls:2,vars:1,consts:[[1,"text",3,"mouseenter","mouseleave"]],template:function(e,C){1&e&&(n.j41(0,"span",0),n.bIt("mouseenter",function(d){return C.showTooltip(d)})("mouseleave",function(){return C.hideTooltip()}),n.EFF(1),n.k0s()),2&e&&(n.R7$(),n.SpI(" ",C.trimmedText,"\n"))}}),b})()},7141:(R,k,s)=>{s.d(k,{S:()=>m});var n=s(3953);let m=(()=>{var g;class b{constructor(e,C){this.el=e,this.renderer=C,this.disabled=!1}ngAfterViewInit(){this.updateVisibility()}ngOnChanges(e){this.updateVisibility()}updateVisibility(){if(!this.disabled)return this.renderer.setStyle(this.el.nativeElement,"display","block"),void this.renderer.removeStyle(this.el.nativeElement,"height");this.disabled&&this.isEmpty(this.value)?(this.renderer.setStyle(this.el.nativeElement,"display","none"),this.renderer.setStyle(this.el.nativeElement,"height","0")):(this.renderer.setStyle(this.el.nativeElement,"display","block"),this.renderer.removeStyle(this.el.nativeElement,"height"))}isEmpty(e){return null==e||""===e||Array.isArray(e)&&0===e.length||"object"==typeof e&&0===Object.keys(e).length}}return(g=b).\u0275fac=function(e){return new(e||g)(n.rXU(n.aKT),n.rXU(n.sFG))},g.\u0275dir=n.FsC({type:g,selectors:[["","appHideIfNoData",""]],inputs:{value:[0,"appHideIfNoData","value"],disabled:"disabled"},standalone:!0,features:[n.OA$]}),b})()},240:(R,k,s)=>{s.r(k),s.d(k,{PromoterDetailsPageModule:()=>ao});var n=s(177),m=s(9417),g=s(9465),b=s(5188),y=s(467),e=s(3953),C=s(8397),u=s(4501),d=s(6039),f=s(2606),F=s(1213),T=s(6552),U=s(9520),G=s(904),N=s(4558);const v=["scrollContainer"];function E(r,a){if(1&r&&(e.j41(0,"div",12)(1,"div",51)(2,"div",52),e.nrm(3,"span"),e.k0s()()()),2&r){let i;const t=a.$implicit,o=e.XpG();e.R7$(3),e.HbH(null==(i=o.utils.getLanguageInfo(t))?null:i.flagClass)}}function x(r,a){if(1&r){const i=e.RV6();e.j41(0,"div",53),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.goToUrl(o.promoter.instagramUrl))}),e.nrm(1,"i",54),e.k0s()}}function p(r,a){if(1&r){const i=e.RV6();e.j41(0,"div",53),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.goToUrl(o.promoter.facebookUrl))}),e.nrm(1,"i",55),e.k0s()}}function j(r,a){if(1&r){const i=e.RV6();e.j41(0,"div",53),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.goToUrl(o.promoter.linkedinUrl))}),e.nrm(1,"i",56),e.k0s()}}function V(r,a){if(1&r){const i=e.RV6();e.j41(0,"div",53),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.goToUrl(o.promoter.twitterUrl))}),e.nrm(1,"i",57),e.k0s()}}function le(r,a){if(1&r){const i=e.RV6();e.j41(0,"div",58)(1,"div",14),e.EFF(2," Descarga y desc\xfabre nuestro promotor "),e.k0s(),e.j41(3,"div",59),e.nrm(4,"img",60),e.k0s(),e.j41(5,"div",61),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.onDownloadCatalogue())}),e.EFF(6," Descargar "),e.k0s()()}}function ae(r,a){if(1&r&&e.nrm(0,"app-card-promotion",37),2&r){const i=a.$implicit;e.Y8G("hideCheckbox",!0)("promotion",i)}}function se(r,a){if(1&r&&e.nrm(0,"app-card-system-user",38),2&r){const i=a.$implicit;e.Y8G("showCheckbox",!1)("user",i)}}function de(r,a){if(1&r&&(e.j41(0,"div",62)(1,"div",63)(2,"div",64),e.EFF(3),e.k0s(),e.j41(4,"div",65),e.EFF(5),e.k0s()(),e.nrm(6,"div",66),e.j41(7,"div",67)(8,"div",68),e.nrm(9,"i",69),e.j41(10,"span"),e.EFF(11),e.k0s()(),e.j41(12,"div",68),e.nrm(13,"i",70),e.j41(14,"span"),e.EFF(15),e.k0s()(),e.j41(16,"div",68),e.nrm(17,"i",71),e.j41(18,"span"),e.EFF(19),e.k0s()()()()),2&r){const i=a.$implicit;e.R7$(3),e.SpI(" ",(null==i?null:i.city)||"Valencia"," "),e.R7$(2),e.Lme(" ",null==i?null:i.address,", ",null==i?null:i.postalCode," "),e.R7$(6),e.JRh((null==i?null:i.phoneNumber)||"+48 608 188 424"),e.R7$(4),e.JRh((null==i?null:i.email)||"office.poland@luxinmo.pl"),e.R7$(4),e.JRh((null==i?null:i.web)||"www.luxinmo.com")}}let pe=(()=>{var r;class a{constructor(t,o,l){this.byvaroState=t,this.utils=o,this.api=l,this.promoter=null,this.user=null,this.users=[],this.canEdit=!1,this.sort=null,this.pagination={page:0,itemsPerPage:50},this.promoterCountry=null}ngOnInit(){var t=this;this.byvaroState.getState().subscribe(function(){var o=(0,y.A)(function*(l){var c,h;t.user=l.user,(null==l||null===(c=l.user)||void 0===c?void 0:c.promoterId)===(null===(h=t.promoter)||void 0===h?void 0:h.id)&&(t.canEdit=!0)});return function(l){return o.apply(this,arguments)}}()),this.getData()}getData(){var t=this;return(0,y.A)(function*(){try{var o,l;let c={};t.promoterCountry=t.utils.getCountryInfo(null===(o=t.promoter)||void 0===o?void 0:o.country);const h=yield t.api.getUser(c,t.sort,t.pagination);null!=h&&null!==(l=h.success)&&void 0!==l&&l.data&&(t.users=h.success.data)}catch(c){console.error(c)}})()}goToUrl(t){window.open(t,"_blank")}scrollLeft(){this.scrollContainer.nativeElement.scrollBy({left:-550,behavior:"smooth"})}scrollRight(){this.scrollContainer.nativeElement.scrollBy({left:550,behavior:"smooth"})}onDownloadCatalogue(){var t;const o=null===(t=this.promoter)||void 0===t||null===(t=t.promoterFiles)||void 0===t?void 0:t.find(l=>"catalog"===l.category);o&&window.open(o.url,"_blank")}}return(r=a).\u0275fac=function(t){return new(t||r)(e.rXU(F.c),e.rXU(T.T),e.rXU(d.i))},r.\u0275cmp=e.VBU({type:r,selectors:[["app-promoter-details-presentation"]],viewQuery:function(t,o){if(1&t&&e.GBs(v,5),2&t){let l;e.mGM(l=e.lsd())&&(o.scrollContainer=l.first)}},inputs:{promoter:"promoter"},decls:124,vars:32,consts:[[1,"crm-section",2,"gap","16px","padding","20px"],[1,"promoter-banner"],[1,"promoter-banner-img"],["alt","",3,"src"],[1,"promoter-banner-bottom"],[1,"promoter-banner-bottom-image"],[1,"promoter-banner-bottom-info"],[2,"display","flex","flex-direction","column","gap","4px"],[1,"crm-block-photo-and-info-info-title"],[1,"crm-block-photo-and-info-info-footer"],[1,"fa-solid","fa-calendar"],[1,"crm-info-content-langs-langs",2,"overflow","hidden"],[1,"crm-item-option","crm-item-option-lang"],[1,"promoter-block"],[1,"promoter-block-title"],[1,"promoter-block-rowdata"],[1,"promoter-block-rowdata-text"],[2,"display","flex","align-items","center","gap","8px"],[1,"fa-solid","fa-location-dot"],[1,"fa-solid","fa-phone"],[1,"fa-solid","fa-envelope"],[1,"promoter-block-rowdata-text",2,"width","fit-content"],["style","cursor: pointer;",3,"click",4,"ngIf"],[1,"promoter-block","promoter-block-empty"],[1,"promoter-number-quantities"],[1,"promoter-number-quantities-block"],[1,"promoter-number-quantities-block-title"],[1,"promoter-number-quantities-block-number"],[1,"promoter-block-helper-text"],[1,"promoter-block","promoter-about-us"],[2,"display","flex","flex-direction","column","gap","16px","flex","1"],[1,"promoter-about-us-block"],[1,"promoter-block-text"],["class","promoter-about-us-catalogue",4,"ngIf"],[1,"promoter-block","promoter-block-empty",2,"gap","16px"],[1,"crm-section-inline-cards-wrapper"],[1,"crm-section-inline-cards"],[2,"border","none !important",3,"hideCheckbox","promotion"],[3,"showCheckbox","user"],[1,"promoter-block-double"],[1,"promoter-offices-list"],["class","promoter-office-card",4,"ngFor","ngForOf"],[1,"promoter-portals-grid"],["src","https://logo.clearbit.com/habitaclia.com","alt","habitaclia"],["src","https://logo.clearbit.com/tucasa.com","alt","tucasa"],["src","https://logo.clearbit.com/wallapop.com","alt","wallapop"],["src","https://logo.clearbit.com/idealista.com","alt","idealista"],["src","https://logo.clearbit.com/fotocasa.es","alt","fotocasa"],["src","https://logo.clearbit.com/enalquiler.com","alt","enalquiler"],["src","https://logo.clearbit.com/yaencontre.com","alt","yaencontre"],["src","https://logo.clearbit.com/pisos.com","alt","pisos"],[1,"crm-item-option-left"],[1,"crm-item-option-flag"],[2,"cursor","pointer",3,"click"],[1,"fa-brands","fa-instagram",2,"font-family","'Font Awesome 6 Brands' !important","font-size","18px"],[1,"fa-brands","fa-facebook",2,"font-family","'Font Awesome 6 Brands' !important","font-size","18px"],[1,"fa-brands","fa-linkedin",2,"font-family","'Font Awesome 6 Brands' !important","font-size","18px"],[1,"fa-brands","fa-twitter",2,"font-family","'Font Awesome 6 Brands' !important","font-size","18px"],[1,"promoter-about-us-catalogue"],[1,"catalogue-image"],["src","assets/images/catalogue.png","alt",""],[1,"crm-button-secondary",3,"click"],[1,"promoter-office-card"],[1,"promoter-office-header"],[1,"promoter-office-title"],[1,"promoter-office-address"],[1,"promoter-office-separator"],[1,"promoter-office-contact"],[1,"promoter-office-contact-item"],[1,"fas","fa-phone"],[1,"fas","fa-envelope"],[1,"fas","fa-globe"]],template:function(t,o){1&t&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2),e.nrm(3,"img",3),e.k0s(),e.j41(4,"div",4)(5,"div",5),e.nrm(6,"img",3),e.k0s(),e.j41(7,"div",6)(8,"div",7)(9,"div",8),e.EFF(10),e.k0s(),e.j41(11,"div",9),e.nrm(12,"i",10),e.EFF(13),e.k0s()(),e.j41(14,"div")(15,"div",11),e.Z7z(16,E,4,2,"div",12,e.fX1),e.k0s()()()()(),e.j41(18,"div",13)(19,"div",14),e.EFF(20),e.k0s(),e.j41(21,"div",15)(22,"div",16)(23,"div",17),e.nrm(24,"i",18),e.EFF(25),e.k0s(),e.j41(26,"div"),e.EFF(27),e.k0s()(),e.j41(28,"div",16)(29,"div"),e.EFF(30),e.k0s(),e.j41(31,"div"),e.EFF(32),e.k0s()(),e.j41(33,"div",16)(34,"div",17),e.nrm(35,"i",19),e.EFF(36),e.k0s(),e.j41(37,"div",17),e.nrm(38,"i",20),e.EFF(39),e.k0s()(),e.j41(40,"div",21)(41,"div",17),e.DNE(42,x,2,0,"div",22)(43,p,2,0,"div",22)(44,j,2,0,"div",22)(45,V,2,0,"div",22),e.k0s(),e.j41(46,"div"),e.EFF(47),e.k0s()()()(),e.j41(48,"div",23)(49,"div",24)(50,"div",25)(51,"div",26),e.EFF(52," Ventas anuales "),e.k0s(),e.j41(53,"div",27),e.EFF(54),e.nI1(55,"thousandSeparator"),e.k0s()(),e.j41(56,"div",25)(57,"div",26),e.EFF(58," Ingresos anuales "),e.k0s(),e.j41(59,"div",27),e.EFF(60),e.nI1(61,"thousandSeparator"),e.k0s()(),e.j41(62,"div",25)(63,"div",26),e.EFF(64," Portfolio "),e.k0s(),e.j41(65,"div",27),e.EFF(66),e.k0s()(),e.j41(67,"div",25)(68,"div",26),e.EFF(69," Agentes "),e.k0s(),e.j41(70,"div",27),e.EFF(71),e.k0s()(),e.j41(72,"div",25)(73,"div",26),e.EFF(74," Oficinas "),e.k0s(),e.j41(75,"div",27),e.EFF(76),e.k0s()()(),e.j41(77,"div",28),e.EFF(78," Informaci\xf3n proporcionada por el promotor "),e.k0s()(),e.j41(79,"div",29)(80,"div",30)(81,"div",31)(82,"div",14),e.EFF(83," Sobre nosotros "),e.k0s(),e.j41(84,"div",32),e.EFF(85),e.k0s()(),e.j41(86,"div",31)(87,"div",14),e.EFF(88," Un poco de historia "),e.k0s(),e.j41(89,"div",32),e.EFF(90),e.k0s()()(),e.DNE(91,le,7,0,"div",33),e.k0s(),e.j41(92,"div",34)(93,"div",14),e.EFF(94," Promociones destacadas "),e.k0s(),e.j41(95,"div",35)(96,"div",36),e.Z7z(97,ae,1,2,"app-card-promotion",37,e.fX1),e.k0s()()(),e.j41(99,"div",13)(100,"div",14),e.EFF(101," Equipo "),e.k0s(),e.j41(102,"div",35)(103,"div",36),e.Z7z(104,se,1,2,"app-card-system-user",38,e.fX1),e.k0s()()(),e.j41(106,"div",39)(107,"div",34)(108,"div",14),e.EFF(109,"Offices"),e.k0s(),e.j41(110,"div",40),e.DNE(111,de,20,6,"div",41),e.k0s()(),e.j41(112,"div",34)(113,"div",14),e.EFF(114,"Following real estate portals"),e.k0s(),e.j41(115,"div",42),e.nrm(116,"img",43)(117,"img",44)(118,"img",45)(119,"img",46)(120,"img",47)(121,"img",48)(122,"img",49)(123,"img",50),e.k0s()()()()),2&t&&(e.R7$(3),e.Y8G("src",(null==o.promoter?null:o.promoter.bannerUrl)||"assets/images/banner-agency-model.png",e.B4B),e.R7$(3),e.Y8G("src",(null==o.promoter?null:o.promoter.photoUrl)||"assets/images/agency-photo-model.png",e.B4B),e.R7$(4),e.SpI(" ",null==o.promoter?null:o.promoter.name," "),e.R7$(3),e.E5c(" Fundado en ",null==o.promoter?null:o.promoter.foundationYear," / ",null==o.promoter?null:o.promoter.city," / ",null==o.promoterCountry?null:o.promoterCountry.name," "),e.R7$(3),e.Dyx(null==o.promoter?null:o.promoter.languages),e.R7$(4),e.SpI(" ",(null==o.promoter?null:o.promoter.legalName)||"Luxinmo Real State SLU"," "),e.R7$(5),e.Lme(" ",(null==o.promoterCountry?null:o.promoterCountry.name)||""," / ",(null==o.promoter?null:o.promoter.city)||""," "),e.R7$(2),e.SpI(" ",(null==o.promoter?null:o.promoter.address)||""," "),e.R7$(3),e.SpI(" NIF/CIF: ",(null==o.promoter?null:o.promoter.nifCif)||""," "),e.R7$(2),e.SpI(" C\xf3digo postal: ",(null==o.promoter?null:o.promoter.postalCode)||""," "),e.R7$(4),e.SpI(" ",(null==o.promoter||null==o.promoter.phones?null:o.promoter.phones[0])||""," "),e.R7$(3),e.SpI(" ",(null==o.promoter||null==o.promoter.emails?null:o.promoter.emails[0])||""," "),e.R7$(3),e.Y8G("ngIf",null==o.promoter?null:o.promoter.instagramUrl),e.R7$(),e.Y8G("ngIf",null==o.promoter?null:o.promoter.facebookUrl),e.R7$(),e.Y8G("ngIf",null==o.promoter?null:o.promoter.linkedinUrl),e.R7$(),e.Y8G("ngIf",null==o.promoter?null:o.promoter.twitterUrl),e.R7$(2),e.SpI(" ",null==o.promoter?null:o.promoter.webUrl," "),e.R7$(7),e.SpI(" +",e.bMT(55,28,null==o.promoter?null:o.promoter.annualSales)||"-"," "),e.R7$(6),e.SpI(" +",e.bMT(61,30,null==o.promoter?null:o.promoter.annualRevenue)||"-"," "),e.R7$(6),e.SpI(" ",(null==o.promoter?null:o.promoter.portfolioSize)||"-"," "),e.R7$(5),e.SpI(" ",(null==o.users?null:o.users.length)||"-"," "),e.R7$(5),e.SpI(" ",(null==o.promoter||null==o.promoter.promoterOffices?null:o.promoter.promoterOffices.length)||"-"," "),e.R7$(9),e.SpI(" ",null==o.promoter?null:o.promoter.aboutUs," "),e.R7$(5),e.SpI(" ",null==o.promoter?null:o.promoter.storyAboutUs," "),e.R7$(),e.Y8G("ngIf",(null==o.promoter||null==o.promoter.promoterFiles?null:o.promoter.promoterFiles.length)>0),e.R7$(6),e.Dyx(null==o.promoter?null:o.promoter.promotions),e.R7$(7),e.Dyx(null==o.promoter?null:o.promoter.users),e.R7$(7),e.Y8G("ngForOf",null==o.promoter?null:o.promoter.promoterOffices))},dependencies:[n.Sq,n.bT,U.k,G.X,N.w],styles:[".promoter-block[_ngcontent-%COMP%]{padding:20px;border-radius:12px;background:#fff;max-width:1000px;border:none;gap:16px;display:flex;flex-direction:column}.promoter-block-empty[_ngcontent-%COMP%]{background:transparent;border:1px solid var(--crm-border-light-color);gap:0}.promoter-block[_ngcontent-%COMP%]   .crm-section-inline-cards[_ngcontent-%COMP%]{display:flex;gap:16px;overflow-x:auto;scroll-behavior:smooth;-ms-overflow-style:none;scrollbar-width:none;white-space:nowrap;max-width:100%;padding:8px 0;flex-wrap:nowrap}.promoter-block[_ngcontent-%COMP%]   .crm-section-inline-cards[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.promoter-block-helper-text[_ngcontent-%COMP%]{font-size:12px;font-weight:400;color:var(--crm-font-color-light);width:100%;text-align:right}.promoter-block-title[_ngcontent-%COMP%]{font-size:var(--crm-font-size);font-weight:600}.promoter-block-text[_ngcontent-%COMP%]{font-size:var(--crm-font-size);font-weight:400;color:var(--crm-font-color-light);line-height:1.5}.promoter-number-quantities[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;width:60%}.promoter-number-quantities-block[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.promoter-number-quantities-block-title[_ngcontent-%COMP%]{font-size:12px}.promoter-number-quantities-block-number[_ngcontent-%COMP%]{font-size:22px;font-weight:500}.promoter-block-rowdata[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.promoter-block-rowdata-text[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;width:25%;font-size:var(--crm-font-size);font-weight:400;color:var(--crm-font-color-light)}.promoter-block-rowdata-text[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px}.promoter-banner[_ngcontent-%COMP%]{max-width:1000px}.promoter-banner-img[_ngcontent-%COMP%]{max-width:1000px;border-top-right-radius:12px;border-top-left-radius:12px;height:220px}.promoter-banner-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-top-right-radius:12px;border-top-left-radius:12px}.promoter-banner-bottom[_ngcontent-%COMP%]{display:flex;align-items:center;background:#fff;border-bottom-right-radius:12px;border-bottom-left-radius:12px;padding-bottom:12px}.promoter-banner-bottom-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;flex:1;padding:16px}.promoter-banner-bottom-info[_ngcontent-%COMP%]   .crm-info-content-langs-langs[_ngcontent-%COMP%]{background:#ebebeb;border-radius:100px;padding:5px 8px}.promoter-banner-bottom-info[_ngcontent-%COMP%]   .crm-info-content-langs-langs[_ngcontent-%COMP%]   .crm-item-option-flag[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:1.333333em;height:auto;font-size:13px}.promoter-banner-bottom-image[_ngcontent-%COMP%]{width:110px;height:110px;border-radius:50%;border:2px solid #fff;margin-top:-50px;margin-left:24px;background:#fff}.promoter-banner-bottom-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:50%}.promoter-about-us[_ngcontent-%COMP%]{display:flex;align-items:flex-start;flex-wrap:nowrap;flex-direction:row}.promoter-about-us-block[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.promoter-about-us-catalogue[_ngcontent-%COMP%]{border:1px solid var(--crm-border-light-color);padding:12px;border-radius:8px;max-width:230px;min-width:230px;flex:1;display:flex;flex-direction:column;gap:12px}.promoter-about-us-catalogue[_ngcontent-%COMP%]   .crm-button-secondary[_ngcontent-%COMP%]{margin:auto}.catalogue-image[_ngcontent-%COMP%]{flex:1;display:flex;justify-content:center;align-items:center;border-radius:8px;overflow:hidden;position:relative}.catalogue-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:60%;object-fit:cover;max-width:180px}.promotion-card__content[_ngcontent-%COMP%]{border:none!important}.promoter-block-double[_ngcontent-%COMP%]{display:flex;gap:16px;flex-wrap:nowrap;max-width:1000px}.promoter-block-double[_ngcontent-%COMP%]   .promoter-block[_ngcontent-%COMP%]{width:50%}.promoter-offices-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.promoter-office-card[_ngcontent-%COMP%]{max-width:280px;width:100%;background:#fff;border-radius:12px;padding:16px;display:flex;flex-direction:column;gap:12px}.promoter-office-card[_ngcontent-%COMP%]   .promoter-office-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px}.promoter-office-card[_ngcontent-%COMP%]   .promoter-office-title[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:var(--crm-font-color)}.promoter-office-card[_ngcontent-%COMP%]   .promoter-office-address[_ngcontent-%COMP%]{font-size:13px;font-weight:400;color:var(--crm-font-color-light);line-height:1.4}.promoter-office-card[_ngcontent-%COMP%]   .promoter-office-separator[_ngcontent-%COMP%]{border-top:1px solid #eaeaea;margin:4px 0}.promoter-office-card[_ngcontent-%COMP%]   .promoter-office-contact[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.promoter-office-card[_ngcontent-%COMP%]   .promoter-office-contact-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:14px;color:var(--crm-font-color)}.promoter-office-card[_ngcontent-%COMP%]   .promoter-office-contact-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px;color:var(--crm-font-color-light)}.promoter-portals-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(90px,1fr));gap:12px}.promoter-portals-grid[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;max-width:90px;height:auto;object-fit:contain;border-radius:8px;background:#f9f9f9;padding:6px;box-shadow:0 0 0 1px #eee}"]}),a})();var O=s(7376);let ce=(()=>{var r;class a{constructor(t){this.fb=t,this.initForm()}initForm(){this.promoterForm=this.fb.group({name:["",m.k0.required],facebookUrl:[""],instagramUrl:[""],linkedinUrl:[""],twitterUrl:[""],webUrl:[""],aboutUs:[""],storyAboutUs:[""],legalName:[""],foundationYear:[null],nifCif:[""],annualSales:[null],annualRevenue:[null],portfolioSize:[null],country:[""],city:[""],address:[""],postalCode:[""],province:[""],phones:this.fb.array([this.createPhoneGroup()]),emails:this.fb.array([this.createEmailGroup()])})}populateForm(t){var o,l,c,h,I,P,S,D,_,M,w,A,z,L,H,W,K,J,Z,Q,q;this.promoterForm.patchValue({name:null!==(o=t.name)&&void 0!==o?o:"",facebookUrl:null!==(l=t.facebookUrl)&&void 0!==l?l:"",instagramUrl:null!==(c=t.instagramUrl)&&void 0!==c?c:"",linkedinUrl:null!==(h=t.linkedinUrl)&&void 0!==h?h:"",twitterUrl:null!==(I=t.twitterUrl)&&void 0!==I?I:"",webUrl:null!==(P=t.webUrl)&&void 0!==P?P:"",aboutUs:null!==(S=t.aboutUs)&&void 0!==S?S:"",storyAboutUs:null!==(D=t.storyAboutUs)&&void 0!==D?D:"",legalName:null!==(_=t.legalName)&&void 0!==_?_:"",foundationYear:null!==(M=t.foundationYear)&&void 0!==M?M:null,nifCif:null!==(w=t.nifCif)&&void 0!==w?w:"",annualSales:null!==(A=t.annualSales)&&void 0!==A?A:null,annualRevenue:null!==(z=t.annualRevenue)&&void 0!==z?z:null,portfolioSize:null!==(L=t.portfolioSize)&&void 0!==L?L:null,country:null!==(H=t.country)&&void 0!==H?H:"",city:null!==(W=t.city)&&void 0!==W?W:"",address:null!==(K=t.address)&&void 0!==K?K:"",postalCode:null!==(J=t.postalCode)&&void 0!==J?J:"",province:null!==(Z=t.province)&&void 0!==Z?Z:""}),this.phones.clear(),null===(Q=t.phones)||void 0===Q||Q.forEach(ee=>{this.phones.push(this.fb.group({phoneNumber:[ee,[m.k0.pattern(/^\d+$/)]]}))}),this.emails.clear(),null===(q=t.emails)||void 0===q||q.forEach(ee=>{this.emails.push(this.fb.group({emailAddress:[ee,[m.k0.email]]}))})}createPhoneGroup(){return this.fb.group({phoneNumber:["",[m.k0.pattern(/^\d+$/)]]})}createEmailGroup(){return this.fb.group({emailAddress:["",[m.k0.email]]})}get phones(){return this.promoterForm.get("phones")}get emails(){return this.promoterForm.get("emails")}addPhone(){this.phones.push(this.createPhoneGroup())}removePhone(t){this.phones.removeAt(t)}addEmail(){this.emails.push(this.createEmailGroup())}removeEmail(t){this.emails.removeAt(t)}onSelectCountry(t,o){var l;null===(l=this.phones.at(o).get("country"))||void 0===l||l.setValue(t)}}return(r=a).\u0275fac=function(t){return new(t||r)(e.KVO(m.ok))},r.\u0275prov=e.jDH({token:r,factory:r.\u0275fac,providedIn:"root"}),a})();var me=s(5970),ue=s(1792),fe=s(1129),oe=s(6279),_e=s(7141),te=s(3955);const ge=["fileUploaderManagerComponent"],ve=["bannerFileUploaderManagerComponent"],he=["catalogFileUploaderManagerComponent"],B=r=>({"crm-section-disabled-inputs":r}),Y=r=>({"crm-input-input-error":r}),X=r=>({field:r}),Ce=r=>({edit:r}),ne=r=>({number:r}),re=r=>({item:r}),$=()=>({standalone:!0});function be(r,a){if(1&r){const i=e.RV6();e.j41(0,"button",43),e.bIt("click",function(){e.eBV(i);const o=e.XpG(2);return e.Njj(o.onSaveUser())}),e.nrm(1,"i",44),e.EFF(2),e.nI1(3,"translate"),e.k0s()}2&r&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"text.save")," "))}function Pe(r,a){if(1&r){const i=e.RV6();e.j41(0,"button",45),e.bIt("click",function(){e.eBV(i);const o=e.XpG(2);return e.Njj(o.onEditUser())}),e.nrm(1,"i",46),e.EFF(2),e.nI1(3,"translate"),e.k0s()}2&r&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"text.edit")," "))}function ye(r,a){if(1&r&&e.DNE(0,be,4,3,"button",41)(1,Pe,4,3,"button",42),2&r){const i=e.XpG();e.vxM(i.editing?0:1)}}function Fe(r,a){1&r&&(e.j41(0,"div",8),e.EFF(1," Banner "),e.k0s())}function xe(r,a){1&r&&(e.j41(0,"div",8),e.EFF(1," Cat\xe1logo "),e.k0s())}function Ie(r,a){1&r&&(e.j41(0,"div",47),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"errors.required")," "))}function ke(r,a){if(1&r){const i=e.RV6();e.j41(0,"div",52),e.bIt("click",function(){e.eBV(i);const o=e.XpG().$implicit,l=e.XpG();return e.Njj(l.onRemoveLanguage(o))}),e.nrm(1,"i",53),e.k0s()}}function Me(r,a){if(1&r&&(e.j41(0,"div",19)(1,"div",48)(2,"div",49),e.nrm(3,"span"),e.k0s(),e.j41(4,"div",50),e.EFF(5),e.k0s()(),e.DNE(6,ke,2,0,"div",51),e.k0s()),2&r){let i,t;const o=a.$implicit,l=e.XpG();e.Y8G("ngClass",e.eq3(5,Ce,!l.disabled)),e.R7$(3),e.HbH(null==(i=l.getLanguageInfo(o))?null:i.flagClass),e.R7$(2),e.SpI(" ",null==(t=l.getLanguageInfo(o))?null:t.name," "),e.R7$(),e.vxM(l.disabled?-1:6)}}function Ee(r,a){if(1&r){const i=e.RV6();e.j41(0,"button",54),e.bIt("click",function(o){e.eBV(i);const l=e.XpG();return e.Njj(l.onAddLanguage(o))}),e.nrm(1,"i",55),e.EFF(2," A\xf1adir idioma "),e.k0s()}}function De(r,a){if(1&r&&(e.j41(0,"div",22),e.EFF(1),e.k0s()),2&r){const i=e.XpG();e.R7$(),e.SpI(" ",i.promoterForm.controls.aboutUs.value," ")}}function je(r,a){if(1&r&&(e.j41(0,"div",23),e.nrm(1,"textarea",56),e.k0s()),2&r){const i=e.XpG();e.Y8G("appInputViewMode",i.disabled)}}function Re(r,a){if(1&r&&(e.j41(0,"div",22),e.EFF(1),e.k0s()),2&r){const i=e.XpG();e.R7$(),e.SpI(" ",i.promoterForm.controls.storyAboutUs.value," ")}}function Te(r,a){if(1&r&&(e.j41(0,"div",23),e.nrm(1,"textarea",57),e.k0s()),2&r){const i=e.XpG();e.Y8G("appInputViewMode",i.disabled)}}function Oe(r,a){if(1&r){const i=e.RV6();e.j41(0,"div",58)(1,"div",48)(2,"div",49),e.nrm(3,"span"),e.k0s(),e.j41(4,"div",50),e.EFF(5),e.k0s()(),e.j41(6,"div",52),e.bIt("click",function(){e.eBV(i);const o=e.XpG(2);return e.Njj(o.onRemoveNationality())}),e.nrm(7,"i",53),e.k0s()()}if(2&r){let i,t;const o=e.XpG(2);e.R7$(3),e.HbH(null==(i=o.getCountryInfo(null==(i=o.promoterForm.get("country"))?null:i.value))?null:i.flagClass),e.R7$(2),e.SpI(" ",null==(t=o.getCountryInfo(null==(t=o.promoterForm.get("country"))?null:t.value))?null:t.name," ")}}function $e(r,a){if(1&r){const i=e.RV6();e.j41(0,"button",54),e.bIt("click",function(o){e.eBV(i);const l=e.XpG(2);return e.Njj(l.onAddNationality(o))}),e.nrm(1,"i",55),e.EFF(2," Seleccionar pa\xeds "),e.k0s()}}function Se(r,a){if(1&r&&e.DNE(0,Oe,8,3,"div",58)(1,$e,3,0,"button",20),2&r){let i;const t=e.XpG();e.vxM(null!=(i=t.promoterForm.get("country"))&&i.value?0:1)}}function we(r,a){if(1&r&&(e.j41(0,"div",59)(1,"div",48)(2,"div",49),e.nrm(3,"span"),e.k0s(),e.j41(4,"div",50),e.EFF(5),e.k0s()()()),2&r){let i,t;const o=e.XpG(2);e.R7$(3),e.HbH(null==(i=o.getCountryInfo(null==(i=o.promoterForm.get("country"))?null:i.value))?null:i.flagClass),e.R7$(2),e.SpI(" ",null==(t=o.getCountryInfo(null==(t=o.promoterForm.get("country"))?null:t.value))?null:t.name," ")}}function Ue(r,a){if(1&r&&e.DNE(0,we,6,3,"div",59),2&r){let i;const t=e.XpG();e.vxM(null!=(i=t.promoterForm.get("country"))&&i.value?0:-1)}}function Ge(r,a){if(1&r){const i=e.RV6();e.j41(0,"div",66),e.bIt("click",function(){e.eBV(i);const o=e.XpG().$index,l=e.XpG();return e.Njj(l.onRemovePhone(o))}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}2&r&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"text.delete")," "))}function Ne(r,a){1&r&&(e.j41(0,"div",47),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"errors.required")," "))}function Ve(r,a){if(1&r){const i=e.RV6();e.j41(0,"div",36)(1,"div",12)(2,"div",13),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"div",60)(6,"div",61)(7,"app-flag-country-selector",62),e.bIt("emitCountrySelected",function(o){const l=e.eBV(i).$index,c=e.XpG();return e.Njj(c.onSelectCountry(o,l))}),e.k0s(),e.nrm(8,"input",63),e.nI1(9,"translate"),e.nI1(10,"translate"),e.k0s(),e.j41(11,"div",64),e.DNE(12,Ge,3,3,"div",65),e.k0s()(),e.DNE(13,Ne,3,3,"div",16),e.k0s()()}if(2&r){const i=a.$implicit,t=a.$index,o=e.XpG();e.Y8G("formGroup",i),e.R7$(3),e.SpI(" ",e.i5U(4,7,"text.phone_loop_label",e.eq3(15,ne,t+1))," "),e.R7$(3),e.Y8G("appInputViewMode",o.disabled)("ngClass",e.eq3(17,Y,o.isPhoneControlInvalid(t))),e.R7$(2),e.Y8G("placeholder",e.i5U(10,12,"text.input_placeholder",e.eq3(19,X,e.bMT(9,10,"text.phone")))),e.R7$(4),e.vxM(t>0?12:-1),e.R7$(),e.Y8G("ngIf",o.isPhoneControlInvalid(t))}}function Be(r,a){if(1&r){const i=e.RV6();e.j41(0,"div",37)(1,"div",67)(2,"button",54),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.onAddPhone())}),e.nrm(3,"i",55),e.EFF(4),e.nI1(5,"translate"),e.nI1(6,"translate"),e.k0s()()()}2&r&&(e.R7$(4),e.SpI(" ",e.i5U(6,3,"text.add_item",e.eq3(6,re,e.bMT(5,1,"text.phone")))," "))}function Ye(r,a){if(1&r){const i=e.RV6();e.j41(0,"div",66),e.bIt("click",function(){e.eBV(i);const o=e.XpG().$index,l=e.XpG();return e.Njj(l.onRemoveEmail(o))}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}2&r&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"text.delete")," "))}function Xe(r,a){1&r&&(e.j41(0,"div",47),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"errors.required")," "))}function Ae(r,a){if(1&r&&(e.j41(0,"div",36)(1,"div",12)(2,"div",13),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"div",68)(6,"div",69),e.nrm(7,"input",70),e.nI1(8,"translate"),e.nI1(9,"translate"),e.k0s(),e.j41(10,"div",64),e.DNE(11,Ye,3,3,"div",65),e.k0s()(),e.DNE(12,Xe,3,3,"div",16),e.k0s()()),2&r){const i=a.$implicit,t=a.$index,o=e.XpG();e.Y8G("formGroup",i),e.R7$(3),e.SpI(" ",e.i5U(4,7,"text.email_loop_label",e.eq3(15,ne,t+1))," "),e.R7$(2),e.Y8G("appInputViewMode",o.disabled),e.R7$(),e.Y8G("ngClass",e.eq3(17,Y,o.isEmailControlInvalid(t))),e.R7$(),e.Y8G("placeholder",e.i5U(9,12,"text.input_placeholder",e.eq3(19,X,e.bMT(8,10,"text.email")))),e.R7$(4),e.vxM(t>0?11:-1),e.R7$(),e.Y8G("ngIf",o.isEmailControlInvalid(t))}}function ze(r,a){if(1&r){const i=e.RV6();e.j41(0,"div",37)(1,"div",67)(2,"button",54),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.onAddEmail())}),e.nrm(3,"i",55),e.EFF(4),e.nI1(5,"translate"),e.nI1(6,"translate"),e.k0s()()()}2&r&&(e.R7$(4),e.SpI(" ",e.i5U(6,3,"text.add_item",e.eq3(6,re,e.bMT(5,1,"text.email")))," "))}function Le(r,a){if(1&r){const i=e.RV6();e.j41(0,"button",79),e.bIt("click",function(){e.eBV(i);const o=e.XpG().$index,l=e.XpG();return e.Njj(l.onRemoveOffice(o))}),e.nrm(1,"i",53),e.k0s()}}function He(r,a){if(1&r){const i=e.RV6();e.j41(0,"app-flag-country-selector",62),e.bIt("emitCountrySelected",function(o){e.eBV(i);const l=e.XpG().$index,c=e.XpG();return e.Njj(c.onSelectCountry(o,null,l))}),e.k0s()}}function We(r,a){if(1&r){const i=e.RV6();e.j41(0,"div",39)(1,"div",71)(2,"div",72),e.EFF(3),e.k0s(),e.j41(4,"div",4),e.DNE(5,Le,2,0,"button",73),e.k0s()(),e.j41(6,"div",74)(7,"div",75)(8,"div",21)(9,"div",13),e.EFF(10,"Nombre"),e.k0s(),e.j41(11,"div",24)(12,"input",76),e.mxI("ngModelChange",function(o){const l=e.eBV(i).$implicit;return e.DH7(l.name,o)||(l.name=o),e.Njj(o)}),e.k0s()()(),e.j41(13,"div",21)(14,"div",13),e.EFF(15,"Direcci\xf3n"),e.k0s(),e.j41(16,"div",24)(17,"input",76),e.mxI("ngModelChange",function(o){const l=e.eBV(i).$implicit;return e.DH7(l.address,o)||(l.address=o),e.Njj(o)}),e.k0s()()(),e.j41(18,"div",21)(19,"div",13),e.EFF(20,"Ciudad"),e.k0s(),e.j41(21,"div",24)(22,"input",76),e.mxI("ngModelChange",function(o){const l=e.eBV(i).$implicit;return e.DH7(l.city,o)||(l.city=o),e.Njj(o)}),e.k0s()()(),e.j41(23,"div",21)(24,"div",13),e.EFF(25,"C\xf3digo Postal"),e.k0s(),e.j41(26,"div",24)(27,"input",76),e.mxI("ngModelChange",function(o){const l=e.eBV(i).$implicit;return e.DH7(l.postalCode,o)||(l.postalCode=o),e.Njj(o)}),e.k0s()()(),e.j41(28,"div",21)(29,"div",13),e.EFF(30,"Email"),e.k0s(),e.j41(31,"div",24)(32,"input",77),e.mxI("ngModelChange",function(o){const l=e.eBV(i).$implicit;return e.DH7(l.email,o)||(l.email=o),e.Njj(o)}),e.k0s()()(),e.j41(33,"div",21)(34,"div",13),e.EFF(35,"Tel\xe9fono"),e.k0s(),e.j41(36,"div",24),e.DNE(37,He,1,0,"app-flag-country-selector",78),e.j41(38,"input",76),e.mxI("ngModelChange",function(o){const l=e.eBV(i).$implicit;return e.DH7(l.phoneNumber,o)||(l.phoneNumber=o),e.Njj(o)}),e.k0s()()(),e.j41(39,"div",21)(40,"div",13),e.EFF(41,"Web"),e.k0s(),e.j41(42,"div",24)(43,"input",76),e.mxI("ngModelChange",function(o){const l=e.eBV(i).$implicit;return e.DH7(l.web,o)||(l.web=o),e.Njj(o)}),e.k0s()()()()()()}if(2&r){const i=a.$implicit,t=a.$index,o=e.XpG();e.R7$(3),e.SpI(" Oficina ",t+1," "),e.R7$(2),e.Y8G("ngIf",!o.disabled),e.R7$(3),e.Y8G("appHideIfNoData",i.name)("disabled",o.disabled),e.R7$(3),e.Y8G("appInputViewMode",o.disabled),e.R7$(),e.R50("ngModel",i.name),e.Y8G("ngModelOptions",e.lJ4(38,$)),e.R7$(),e.Y8G("appHideIfNoData",i.address)("disabled",o.disabled),e.R7$(3),e.Y8G("appInputViewMode",o.disabled),e.R7$(),e.R50("ngModel",i.address),e.Y8G("ngModelOptions",e.lJ4(39,$)),e.R7$(),e.Y8G("appHideIfNoData",i.city)("disabled",o.disabled),e.R7$(3),e.Y8G("appInputViewMode",o.disabled),e.R7$(),e.R50("ngModel",i.city),e.Y8G("ngModelOptions",e.lJ4(40,$)),e.R7$(),e.Y8G("appHideIfNoData",i.postalCode)("disabled",o.disabled),e.R7$(3),e.Y8G("appInputViewMode",o.disabled),e.R7$(),e.R50("ngModel",i.postalCode),e.Y8G("ngModelOptions",e.lJ4(41,$)),e.R7$(),e.Y8G("appHideIfNoData",i.email)("disabled",o.disabled),e.R7$(3),e.Y8G("appInputViewMode",o.disabled),e.R7$(),e.R50("ngModel",i.email),e.Y8G("ngModelOptions",e.lJ4(42,$)),e.R7$(),e.Y8G("appHideIfNoData",i.phoneNumber)("disabled",o.disabled),e.R7$(3),e.Y8G("appInputViewMode",o.disabled),e.R7$(),e.Y8G("ngIf",!o.disabled),e.R7$(),e.R50("ngModel",i.phoneNumber),e.Y8G("ngModelOptions",e.lJ4(43,$)),e.R7$(),e.Y8G("appHideIfNoData",i.web)("disabled",o.disabled),e.R7$(3),e.Y8G("appInputViewMode",o.disabled),e.R7$(),e.R50("ngModel",i.web),e.Y8G("ngModelOptions",e.lJ4(44,$))}}function Ke(r,a){if(1&r){const i=e.RV6();e.j41(0,"div",37)(1,"div",67)(2,"button",54),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.onAddOffice())}),e.nrm(3,"i",55),e.EFF(4," A\xf1adir oficina "),e.k0s()()()}}let Je=(()=>{var r;class a{constructor(t,o,l,c,h,I,P){this.fb=t,this.promoterFormService=o,this.popoverService=l,this.state=c,this.api=h,this.toastService=I,this.utils=P,this.reloadData=new e.bkB,this.editing=!1,this.disabled=!0,this.promoterOffices=[{name:"Oficina Central",address:"Calle Ejemplo, 123",web:"www.ejemplo-oficina.com",email:"office@example.com",phoneNumber:"123456789"}]}ngOnInit(){this.getState(),this.promoter&&(this.promoterFormService.populateForm(this.promoter),this.promoter.languages=this.promoter.languages||[],this.promoterOffices=O.cloneDeep(this.promoter.promoterOffices)||[],this.disabled?setTimeout(()=>{this.disabled=!1,setTimeout(()=>{this.disabled=!0,this.syncFiles()})}):this.syncFiles())}syncFiles(){setTimeout(()=>{const t={multiple:!1,size:"medium",showRemove:!this.disabled,showName:!1,rounded:!0,allowUpload:!this.disabled,accept:"image/*",files:[]};var o;this.fileUploaderManager&&(this.fileUploaderManager.config=O.cloneDeep(t),this.fileUploaderManager.createProfileFilePic(this.promoter)),this.bannerFileUploaderManagerComponent&&(this.bannerFileUploaderManagerComponent.config=O.cloneDeep({...t,rounded:!1}),this.bannerFileUploaderManagerComponent.createPromoterBanner(this.promoter)),this.catalogFileUploaderManagerComponent&&(this.catalogFileUploaderManagerComponent.config=O.cloneDeep({...t,multiple:!0,showName:!0,files:(null===(o=this.promoter)||void 0===o||null===(o=o.promoterFiles)||void 0===o?void 0:o.filter(l=>"catalog"===l.category))||[],accept:"image/*,application/pdf"}))})}getState(){this.state.getState().subscribe(t=>{this.currentUser=t.user})}get promoterForm(){return this.promoterFormService.promoterForm}get phonesControls(){return this.promoterFormService.phones.controls}get emailsControls(){return this.promoterFormService.emails.controls}onEditUser(){var t,o,l;this.editing=!0,this.disabled=!1,null===(t=this.fileUploaderManager)||void 0===t||t.setEditingMode(!0),null===(o=this.bannerFileUploaderManagerComponent)||void 0===o||o.setEditingMode(!0),null===(l=this.catalogFileUploaderManagerComponent)||void 0===l||l.setEditingMode(!0)}onSaveUser(){var t=this;return(0,y.A)(function*(){try{var o,l,c,h;let P={...O.cloneDeep(t.promoter),...t.promoterForm.value};P=yield t.fileUploaderManager.processProfilePic(P),t.bannerFileUploaderManagerComponent&&(P=yield t.bannerFileUploaderManagerComponent.processPromoterBanner(P)),P.promoterOffices=O.cloneDeep(t.promoterOffices);const S=(null===(o=t.catalogFileUploaderManagerComponent)||void 0===o||null===(o=o.config)||void 0===o?void 0:o.files)||[];for(let _ of S){if(null!=_&&_.new){var I;const M={promoterId:P.id,name:"",category:_.category,label:_.label,orderIndex:null==_?void 0:_.orderIndex},w=yield t.api.uploadFile(_.fileBlob);M.name=null==w||null===(I=w.success)||void 0===I||null===(I=I.data)||void 0===I?void 0:I.fileName,yield t.api.createPromoterFiles(M)}if(null!=_&&_.deleted&&(yield t.api.deletePromoterFilesById(null==_?void 0:_.id)),null!=_&&_.moved&&(null==_||!_.deleted)&&(null==_||!_.new)){let M=O.cloneDeep(_);delete M.moved,delete M.fileBase64,delete M.fileBlob,delete M.new,delete M.deleted,delete M.size,delete M.type,yield t.api.updatePromoterFilesById(null==M?void 0:M.id,M)}}P.phones=P.phones.map(_=>_.phoneNumber),P.emails=P.emails.map(_=>_.emailAddress),delete P.promoterFiles,delete P.promotions,delete P.users;const D=yield t.api.updatePromoterById(P.id,P);null!=D&&D.success?t.toastService.showSuccessToast("El promotor ha sido actualizado correctamente"):t.toastService.showErrorToast("Ha ocurrido un error al actualizar el promotor"),t.editing=!1,t.disabled=!0,null===(l=t.fileUploaderManager)||void 0===l||l.setEditingMode(!1),null===(c=t.bannerFileUploaderManagerComponent)||void 0===c||c.setEditingMode(!1),null===(h=t.catalogFileUploaderManagerComponent)||void 0===h||h.setEditingMode(!1),t.reloadData.emit()}catch(P){console.error(P),t.toastService.showErrorToast("Ha ocurrido un error al actualizar el promotor"),t.editing=!1,t.disabled=!0}})()}onAddLanguage(t){var o=this;return(0,y.A)(function*(){var l;const c={languageSelector:!0,showCountryCode:!1,selectedCodes:o.promoter.languages},h=yield o.popoverService.onShowCountrySelectorPopover(t,c);null!=h&&null!==(l=h.data)&&void 0!==l&&l.country&&o.promoter.languages.push(h.data.country.code)})()}onRemoveLanguage(t){this.promoter.languages=this.promoter.languages.filter(o=>o!==t)}getLanguageInfo(t){return this.utils.getLanguageInfo(t)}onAddNationality(t){var o=this;return(0,y.A)(function*(){var l,c;const h={languageSelector:!1,showCountryCode:!1,selectedCodes:[null===(l=o.promoterForm.get("country"))||void 0===l?void 0:l.value]},I=yield o.popoverService.onShowCountrySelectorPopover(t,h);var P;null!=I&&null!==(c=I.data)&&void 0!==c&&c.country&&(null===(P=o.promoterForm.get("country"))||void 0===P||P.setValue(I.data.country.code))})()}onRemoveNationality(){var t;null===(t=this.promoterForm.get("country"))||void 0===t||t.setValue("")}onSelectCountry(t,o,l){0===l||l?(console.log("OFFICE INDEX",t),this.promoterOffices[l].phoneNumber=(null==t?void 0:t.phoneCode)+" "):this.promoterFormService.onSelectCountry(t,o)}isControlInvalid(t){const o=this.promoterForm.get(t);return!(!o||!o.invalid||!o.dirty&&!o.touched)}isPhoneControlInvalid(t){var o;const l=null===(o=this.phonesControls[t])||void 0===o?void 0:o.get("phoneNumber");return!(!l||!l.invalid||!l.dirty&&!l.touched)}isEmailControlInvalid(t){var o;const l=null===(o=this.emailsControls[t])||void 0===o?void 0:o.get("emailAddress");return!(!l||!l.invalid||!l.dirty&&!l.touched)}onAddPhone(){this.promoterFormService.addPhone()}onRemovePhone(t){this.promoterFormService.removePhone(t)}onAddEmail(){this.promoterFormService.addEmail()}onRemoveEmail(t){this.promoterFormService.removeEmail(t)}getCountryInfo(t){return this.utils.getCountryInfo(t)}onAddOffice(){this.promoterOffices.push({name:"",address:"",web:"",email:"",phoneNumber:""})}onRemoveOffice(t){this.promoterOffices.splice(t,1)}}return(r=a).\u0275fac=function(t){return new(t||r)(e.rXU(m.ok),e.rXU(ce),e.rXU(me.m),e.rXU(F.c),e.rXU(d.i),e.rXU(C.f),e.rXU(T.T))},r.\u0275cmp=e.VBU({type:r,selectors:[["app-promoter-details-info"]],viewQuery:function(t,o){if(1&t&&(e.GBs(ge,5),e.GBs(ve,5),e.GBs(he,5)),2&t){let l;e.mGM(l=e.lsd())&&(o.fileUploaderManager=l.first),e.mGM(l=e.lsd())&&(o.bannerFileUploaderManagerComponent=l.first),e.mGM(l=e.lsd())&&(o.catalogFileUploaderManagerComponent=l.first)}},inputs:{promoter:"promoter"},outputs:{reloadData:"reloadData"},decls:123,vars:56,consts:[["fileUploaderManagerComponent",""],["bannerFileUploaderManagerComponent",""],["catalogFileUploaderManagerComponent",""],[1,"crm-header-modal","crm-header-modal-empty"],[1,"crm-buttons-group"],[1,"crm-boxes-user-create",3,"formGroup"],[1,"crm-box"],[1,"crm-section","size-medium-small"],[1,"crm-section-smaller-title"],["class","crm-section-smaller-title",4,"ngIf"],[1,"crm-section-title"],[1,"crm-section-inputs",3,"ngClass"],[1,"crm-input"],[1,"crm-input-label"],[1,"crm-input-input",3,"ngClass","appInputViewMode"],["type","text","formControlName","name",3,"placeholder"],["class","crm-input-error",4,"ngIf"],[1,"crm-input","crm-input-medium"],[1,"crm-section-items"],[1,"crm-item-option","crm-item-option-lang",3,"ngClass"],["type","button",1,"crm-button-secondary","crm-button-secondary-primary"],[1,"crm-input",3,"appHideIfNoData","disabled"],[1,"crm-text",2,"font-style","normal","color","black"],[1,"crm-input-input","crm-input-input-textarea",3,"appInputViewMode"],[1,"crm-input-input",3,"appInputViewMode"],["type","text","formControlName","legalName","placeholder","Introduce el nombre legal"],["type","number","formControlName","foundationYear","placeholder","Ejemplo: 1999"],["type","text","formControlName","nifCif","placeholder","Introduce el NIF/CIF"],["type","number","formControlName","annualSales","placeholder","Ej. '42+'"],["type","number","formControlName","annualRevenue","placeholder","Ej. '\u20ac1.8M+'"],["type","number","formControlName","portfolioSize","placeholder","Introduce el tama\xf1o del portfolio"],["type","text","formControlName","city","placeholder","Introduce la ciudad"],["type","text","formControlName","address","placeholder","Introduce la direcci\xf3n"],["type","text","formControlName","postalCode","placeholder","Introduce el c\xf3digo postal"],["type","text","formControlName","province","placeholder","Introduce la provincia"],[1,"crm-box","crm-section"],[3,"formGroup"],[1,"crm-section-buttons-right"],[1,"crm-section-inline-cards"],[1,"crm-card"],["class","crm-section-buttons-right",4,"ngIf"],[1,"crm-button"],[1,"crm-button-secondary","crm-button-secondary-primary"],[1,"crm-button",3,"click"],[1,"fa","fa-check"],[1,"crm-button-secondary","crm-button-secondary-primary",3,"click"],[1,"fa","fa-edit"],[1,"crm-input-error"],[1,"crm-item-option-left"],[1,"crm-item-option-flag"],[1,"crm-item-option-label"],[1,"crm-item-option-remove"],[1,"crm-item-option-remove",3,"click"],[1,"fas","fa-trash"],["type","button",1,"crm-button-secondary","crm-button-secondary-primary",3,"click"],[1,"fas","fa-add"],["rows","5","placeholder","Introduce la descripci\xf3n","formControlName","aboutUs"],["rows","5","placeholder","Introduce la historia","formControlName","storyAboutUs"],[1,"crm-item-option","crm-item-option-lang","edit"],[1,"crm-item-option","crm-item-option-lang"],[1,"crm-input-input-and-icon"],[1,"crm-input-input",3,"appInputViewMode","ngClass"],[3,"emitCountrySelected"],["type","text","formControlName","phoneNumber",3,"placeholder"],[1,"crm-input-input-and-icon-right"],[1,"crm-text","crm-text-underline","crm-text-underline-red"],[1,"crm-text","crm-text-underline","crm-text-underline-red",3,"click"],[1,"crm-section-buttons-group"],[1,"crm-input-input-and-icon",3,"appInputViewMode"],[1,"crm-input-input",3,"ngClass"],["type","email","formControlName","emailAddress",3,"placeholder"],[1,"crm-header-modal","crm-header-modal-no-padding",2,"margin-bottom","12px"],[1,"crm-card-title"],["class","crm-button-icon-solo red small",3,"click",4,"ngIf"],[1,"crm-card-content"],[1,"crm-section-inputs"],["type","text",3,"ngModelChange","ngModel","ngModelOptions"],["type","email",3,"ngModelChange","ngModel","ngModelOptions"],[3,"emitCountrySelected",4,"ngIf"],[1,"crm-button-icon-solo","red","small",3,"click"]],template:function(t,o){1&t&&(e.j41(0,"div",3),e.nrm(1,"div"),e.j41(2,"div",4),e.DNE(3,ye,2,1),e.k0s()(),e.j41(4,"form",5)(5,"div",6)(6,"div",7)(7,"div",8),e.EFF(8," Foto de perfil "),e.k0s(),e.nrm(9,"app-file-uploader-manager",null,0),e.DNE(11,Fe,2,0,"div",9),e.nrm(12,"app-file-uploader-manager",null,1),e.DNE(14,xe,2,0,"div",9),e.nrm(15,"app-file-uploader-manager",null,2),e.j41(17,"div",10),e.EFF(18),e.nI1(19,"translate"),e.k0s(),e.j41(20,"div",11)(21,"div",12)(22,"div",13),e.EFF(23),e.nI1(24,"translate"),e.k0s(),e.j41(25,"div",14),e.nrm(26,"input",15),e.nI1(27,"translate"),e.nI1(28,"translate"),e.k0s(),e.DNE(29,Ie,3,3,"div",16),e.k0s(),e.j41(30,"div",17)(31,"div",13),e.EFF(32," Idiomas "),e.k0s(),e.j41(33,"div",18),e.Z7z(34,Me,7,7,"div",19,e.fX1),e.DNE(36,Ee,3,0,"button",20),e.k0s()(),e.j41(37,"div",21)(38,"div",13),e.EFF(39," Sobre nosotros "),e.k0s(),e.DNE(40,De,2,1,"div",22)(41,je,2,1,"div",23),e.k0s(),e.j41(42,"div",21)(43,"div",13),e.EFF(44," Nuestra historia "),e.k0s(),e.DNE(45,Re,2,1,"div",22)(46,Te,2,1,"div",23),e.k0s()(),e.j41(47,"div",10),e.EFF(48," Informaci\xf3n adicional "),e.k0s(),e.j41(49,"div",11)(50,"div",12)(51,"div",13),e.EFF(52,"Nombre Legal"),e.k0s(),e.j41(53,"div",24),e.nrm(54,"input",25),e.k0s()(),e.j41(55,"div",12)(56,"div",13),e.EFF(57,"A\xf1o de Fundaci\xf3n"),e.k0s(),e.j41(58,"div",24),e.nrm(59,"input",26),e.k0s()(),e.j41(60,"div",12)(61,"div",13),e.EFF(62,"NIF/CIF"),e.k0s(),e.j41(63,"div",24),e.nrm(64,"input",27),e.k0s()(),e.j41(65,"div",12)(66,"div",13),e.EFF(67,"Ventas Anuales"),e.k0s(),e.j41(68,"div",24),e.nrm(69,"input",28),e.k0s()(),e.j41(70,"div",12)(71,"div",13),e.EFF(72,"Ingresos Anuales"),e.k0s(),e.j41(73,"div",24),e.nrm(74,"input",29),e.k0s()(),e.j41(75,"div",12)(76,"div",13),e.EFF(77,"Portfolio"),e.k0s(),e.j41(78,"div",24),e.nrm(79,"input",30),e.k0s()(),e.j41(80,"div",12)(81,"div",13),e.EFF(82,"Pa\xeds"),e.k0s(),e.j41(83,"div",18),e.DNE(84,Se,2,1)(85,Ue,1,1),e.k0s()(),e.j41(86,"div",12)(87,"div",13),e.EFF(88,"Ciudad"),e.k0s(),e.j41(89,"div",24),e.nrm(90,"input",31),e.k0s()(),e.j41(91,"div",12)(92,"div",13),e.EFF(93,"Direcci\xf3n"),e.k0s(),e.j41(94,"div",24),e.nrm(95,"input",32),e.k0s()(),e.j41(96,"div",12)(97,"div",13),e.EFF(98,"C\xf3digo Postal"),e.k0s(),e.j41(99,"div",24),e.nrm(100,"input",33),e.k0s()(),e.j41(101,"div",12)(102,"div",13),e.EFF(103,"Provincia"),e.k0s(),e.j41(104,"div",24),e.nrm(105,"input",34),e.k0s()()()()(),e.j41(106,"div",35)(107,"div",10),e.EFF(108),e.nI1(109,"translate"),e.k0s(),e.j41(110,"div",11),e.Z7z(111,Ve,14,21,"div",36,e.fX1),e.DNE(113,Be,7,8,"div",37),e.Z7z(114,Ae,13,21,"div",36,e.fX1),e.DNE(116,ze,7,8,"div",37),e.j41(117,"div",10),e.EFF(118," Oficinas "),e.k0s(),e.j41(119,"div",38),e.Z7z(120,We,44,45,"div",39,e.fX1),e.k0s(),e.DNE(122,Ke,5,0,"div",40),e.k0s()()()),2&t&&(e.R7$(3),e.vxM("promoter"===(null==o.currentUser?null:o.currentUser.accountType)?3:-1),e.R7$(),e.Y8G("formGroup",o.promoterForm),e.R7$(7),e.Y8G("ngIf",(null==o.promoter?null:o.promoter.bannerUrl)||!o.disabled),e.R7$(3),e.Y8G("ngIf",(null==o.promoter||null==o.promoter.promoterFiles?null:o.promoter.promoterFiles.length)>0||!o.disabled),e.R7$(4),e.SpI(" ",e.bMT(19,35,"text.general_info")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(46,B,o.disabled)),e.R7$(3),e.SpI(" ",e.bMT(24,37,"text.name")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(48,Y,o.isControlInvalid("name")))("appInputViewMode",o.disabled),e.R7$(),e.Y8G("placeholder",e.i5U(28,41,"text.input_placeholder",e.eq3(50,X,e.bMT(27,39,"text.name")))),e.R7$(3),e.Y8G("ngIf",o.isControlInvalid("name")),e.R7$(5),e.Dyx(null==o.promoter?null:o.promoter.languages),e.R7$(2),e.vxM(o.disabled?-1:36),e.R7$(),e.Y8G("appHideIfNoData",o.promoterForm.controls.aboutUs.value)("disabled",o.disabled),e.R7$(3),e.vxM(o.disabled?40:41),e.R7$(2),e.Y8G("appHideIfNoData",o.promoterForm.controls.storyAboutUs.value)("disabled",o.disabled),e.R7$(3),e.vxM(o.disabled?45:46),e.R7$(4),e.Y8G("ngClass",e.eq3(52,B,o.disabled)),e.R7$(4),e.Y8G("appInputViewMode",o.disabled),e.R7$(5),e.Y8G("appInputViewMode",o.disabled),e.R7$(5),e.Y8G("appInputViewMode",o.disabled),e.R7$(5),e.Y8G("appInputViewMode",o.disabled),e.R7$(5),e.Y8G("appInputViewMode",o.disabled),e.R7$(5),e.Y8G("appInputViewMode",o.disabled),e.R7$(6),e.vxM(o.disabled?85:84),e.R7$(5),e.Y8G("appInputViewMode",o.disabled),e.R7$(5),e.Y8G("appInputViewMode",o.disabled),e.R7$(5),e.Y8G("appInputViewMode",o.disabled),e.R7$(5),e.Y8G("appInputViewMode",o.disabled),e.R7$(4),e.SpI(" ",e.bMT(109,44,"text.contact_info")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(54,B,o.disabled)),e.R7$(),e.Dyx(o.phonesControls),e.R7$(2),e.vxM(o.disabled?-1:113),e.R7$(),e.Dyx(o.emailsControls),e.R7$(2),e.vxM(o.disabled?-1:116),e.R7$(4),e.Dyx(o.promoterOffices),e.R7$(2),e.Y8G("ngIf",!o.disabled))},dependencies:[n.YU,n.bT,m.qT,m.me,m.Q0,m.BC,m.cb,m.vS,ue.M,m.j4,m.JD,fe.Z,oe.F,_e.S,te.D9]}),a})();function Ze(r,a){if(1&r){const i=e.RV6();e.j41(0,"div",5)(1,"app-promoter-details-presentation",7),e.bIt("reloadData",function(){e.eBV(i);const o=e.XpG(2);return e.Njj(o.ngOnInit())}),e.k0s()()}if(2&r){const i=e.XpG(2);e.R7$(),e.Y8G("promoter",i.promoter)}}function Qe(r,a){if(1&r){const i=e.RV6();e.j41(0,"div",6)(1,"app-promoter-details-info",7),e.bIt("reloadData",function(){e.eBV(i);const o=e.XpG(2);return e.Njj(o.ngOnInit())}),e.k0s()()}if(2&r){const i=e.XpG(2);e.R7$(),e.Y8G("promoter",i.promoter)}}function qe(r,a){if(1&r&&e.DNE(0,Ze,2,1,"div",5)(1,Qe,2,1,"div",6),2&r){const i=e.XpG();e.vxM("presentation"===i.activeTab?0:-1),e.R7$(),e.vxM("info"===i.activeTab?1:-1)}}const eo=[{path:"",component:(()=>{var r;class a{constructor(t,o,l,c,h){this.activatedRoute=t,this.toastService=o,this.headerService=l,this.router=c,this.api=h,this.promoterParameterId=null,this.promoter=null,this.activeTab="info",this.promoterTabs=[{id:"1",title:"presentation",active:!0},{id:"2",title:"info",active:!1}]}ngOnInit(){var t=this;return(0,y.A)(function*(){if(t.promoterParameterId=t.activatedRoute.snapshot.paramMap.get("id"),"mine"===t.promoterParameterId){var o;const c=yield t.api.getCurrentPromoter();if(null!=c&&null!==(o=c.success)&&void 0!==o&&o.data){var l;t.promoter=c.success.data;let I={},P=null,S={page:0,itemsPerPage:50};const D=yield t.api.getUser(I,P,S);null!=D&&null!==(l=D.success)&&void 0!==l&&l.data&&(t.promoter.users=D.success.data)}}else t.getData();t.headerService.setConfig({title:"promoter_details"})})()}getData(){var t=this;return(0,y.A)(function*(){if(t.promoter=yield t.getPromoterById(),!t.promoter)return t.toastService.showToast({text:"No existe ning\xfan contacto con ese ID",icon:"fas fa-exclamation-triangle",theme:"red",time:3e3}),void t.router.navigate(["/promoters"])})()}getPromoterById(){var t=this;return(0,y.A)(function*(){var o,l;if(!t.promoterParameterId)return null;const c=yield t.api.getPromoter({id:{equals:t.promoterParameterId}},null,null);c.error&&t.toastService.showToast({text:"Error al leer este Promotor",icon:"fas fa-exclamation-triangle",theme:"red",time:3e3});const[h]=null==c||null===(o=c.success)||void 0===o?void 0:o.data,I=yield t.api.getUsersOfAccount(h.id,"promoter");return console.log("users:",I),h.users=(null===(l=I.success)||void 0===l?void 0:l.data)||[],h})()}onTabClicked(t){this.activeTab=t}}return(r=a).\u0275fac=function(t){return new(t||r)(e.rXU(b.nX),e.rXU(C.f),e.rXU(u.d),e.rXU(b.Ix),e.rXU(d.i))},r.\u0275cmp=e.VBU({type:r,selectors:[["app-promoter-details"]],decls:6,vars:2,consts:[[1,"crm-block-body"],[1,"crm-block-body-fixed"],[1,"crm-block-details-header"],[1,"crm-block-details-bottom"],[3,"tabClicked","tabs"],[1,"crm-block-body-blue-content",2,"padding","0"],[1,"crm-block-body-blue-content"],[3,"reloadData","promoter"]],template:function(t,o){1&t&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"app-tabs",4),e.bIt("tabClicked",function(c){return o.onTabClicked(c)}),e.k0s()()()(),e.DNE(5,qe,2,2),e.k0s()),2&t&&(e.R7$(4),e.Y8G("tabs",o.promoterTabs),e.R7$(),e.vxM(null!=o.promoter&&o.promoter.id?5:-1))},dependencies:[f.O,pe,Je]}),a})()}];let oo=(()=>{var r;class a{}return(r=a).\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.$C({type:r}),r.\u0275inj=e.G2t({imports:[b.iI.forChild(eo),b.iI]}),a})();var to=s(2652),no=s(6812),ie=s(9662),ro=s(3263),io=s(7991);let lo=(()=>{var r;class a{}return(r=a).\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.$C({type:r}),r.\u0275inj=e.G2t({imports:[n.MD,g.bv,m.X1,ro.l,ie.Y,io.S]}),a})(),ao=(()=>{var r;class a{}return(r=a).\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.$C({type:r}),r.\u0275inj=e.G2t({imports:[n.MD,m.YN,g.bv,oo,f.O,te.h,to.T,m.X1,no.u,oe.F,ie.Y,lo]}),a})()},9520:(R,k,s)=>{s.d(k,{k:()=>N});var n=s(3953),m=s(6552),g=s(177),b=s(9465);const y=v=>({"user-card-active":v});function e(v,E){if(1&v){const x=n.RV6();n.j41(0,"div",3)(1,"div",20)(2,"ion-checkbox",21),n.bIt("click",function(j){n.eBV(x);const V=n.XpG(2);return n.Njj(V.onTogglePromotionCheckbox(j))}),n.k0s()()()}if(2&v){const x=n.XpG(2);n.R7$(2),n.Y8G("value",x.user.checked)}}function C(v,E){if(1&v&&(n.qex(0),n.nrm(1,"span",25),n.bVm()),2&v){let x;const p=n.XpG().$implicit,j=n.XpG(3);n.R7$(),n.HbH(null==(x=j.utils.getLanguageInfo(p))?null:x.flagClass)}}function u(v,E){if(1&v&&(n.qex(0),n.DNE(1,C,2,2,"ng-container",19),n.bVm()),2&v){const x=E.index;n.R7$(),n.Y8G("ngIf",x<3)}}function d(v,E){if(1&v&&(n.j41(0,"span",26),n.EFF(1),n.k0s()),2&v){const x=n.XpG(3);n.R7$(),n.SpI(" +",x.user.languages.length-3," ")}}function f(v,E){if(1&v&&(n.j41(0,"div",22),n.DNE(1,u,2,1,"ng-container",23)(2,d,2,1,"span",24),n.k0s()),2&v){const x=n.XpG(2);n.R7$(),n.Y8G("ngForOf",x.user.languages),n.R7$(),n.Y8G("ngIf",x.user.languages.length>3)}}function F(v,E){1&v&&(n.j41(0,"div",27),n.EFF(1,"Sin idiomas"),n.k0s())}function T(v,E){1&v&&(n.j41(0,"div",28),n.nrm(1,"i",29),n.EFF(2," Usuario inactivo "),n.k0s())}function U(v,E){if(1&v){const x=n.RV6();n.j41(0,"div")(1,"div",28),n.nrm(2,"i",29),n.EFF(3," Invitaci\xf3n pendiente de aprobaci\xf3n "),n.k0s(),n.j41(4,"div",30),n.bIt("click",function(){n.eBV(x);const j=n.XpG(2);return n.Njj(j.onCancelInvitation(j.user.id))}),n.EFF(5," Cancelar invitaci\xf3n "),n.k0s()()}}function G(v,E){if(1&v&&(n.j41(0,"div",2),n.DNE(1,e,3,1,"div",3),n.j41(2,"div",4)(3,"div",5),n.nrm(4,"img",6),n.k0s(),n.j41(5,"div",7)(6,"div",8),n.EFF(7),n.k0s(),n.j41(8,"div",9),n.EFF(9),n.k0s()()(),n.j41(10,"div",10)(11,"div",11),n.nrm(12,"i",12),n.j41(13,"span"),n.EFF(14),n.k0s()(),n.j41(15,"div",11),n.nrm(16,"i",13),n.j41(17,"span"),n.EFF(18),n.k0s()()(),n.j41(19,"div",14)(20,"div",15),n.nrm(21,"i",16),n.j41(22,"span"),n.EFF(23),n.k0s()(),n.DNE(24,f,3,2,"div",17)(25,F,2,0,"ng-template",null,0,n.C5r),n.k0s(),n.DNE(27,T,3,0,"div",18)(28,U,6,0,"div",19),n.k0s()),2&v){const x=n.sdS(26),p=n.XpG();n.Y8G("ngClass",n.eq3(13,y,null==p.user?null:p.user.checked)),n.R7$(),n.vxM(p.showCheckbox?1:-1),n.R7$(3),n.FS9("alt",null==p.user?null:p.user.name),n.Y8G("src",(null==p.user?null:p.user.photoUrl)||"assets/images/avatar.png",n.B4B),n.R7$(3),n.JRh(null==p.user?null:p.user.name),n.R7$(2),n.JRh(null==p.user?null:p.user.jobTitle),n.R7$(5),n.JRh(null==p.user?null:p.user.phone),n.R7$(4),n.JRh(null==p.user?null:p.user.email),n.R7$(5),n.JRh("Valencia"),n.R7$(),n.Y8G("ngIf",(null==p.user||null==p.user.languages?null:p.user.languages.length)>0)("ngIfElse",x),n.R7$(3),n.Y8G("ngIf",null==p.user?null:p.user.inactive),n.R7$(),n.Y8G("ngIf","invitation"===(null==p.options?null:p.options.type)&&!(null!=p.options&&p.options.externalUser))}}let N=(()=>{var v;class E{constructor(p){this.utils=p,this.isSkeleton=!1,this.user=null,this.options={type:"user",externalUser:!1},this.showCheckbox=!0,this.toggleUserCheckbox=new n.bkB,this.invitationCanceled=new n.bkB}ngOnInit(){}onTogglePromotionCheckbox(p){p.stopPropagation(),this.toggleUserCheckbox.emit()}onCancelInvitation(p){console.log("cancel invitation",p),this.invitationCanceled.emit(p)}}return(v=E).\u0275fac=function(p){return new(p||v)(n.rXU(m.T))},v.\u0275cmp=n.VBU({type:v,selectors:[["app-card-system-user"]],inputs:{isSkeleton:"isSkeleton",user:"user",options:"options",showCheckbox:"showCheckbox"},outputs:{toggleUserCheckbox:"toggleUserCheckbox",invitationCanceled:"invitationCanceled"},decls:1,vars:1,consts:[["noLanguages",""],["class","user-card",3,"ngClass",4,"ngIf"],[1,"user-card",3,"ngClass"],[1,"crm-card-floating-checkbox",2,"right","16px","left","inherit"],[1,"user-card-header"],[1,"user-card-image"],[3,"src","alt"],[1,"user-card-info"],[1,"user-card-name"],[1,"user-card-role"],[1,"user-card-contact"],[1,"user-card-contact-item"],[1,"fas","fa-phone"],[1,"fas","fa-envelope"],[1,"user-card-bottom"],[1,"user-card-location"],[1,"fas","fa-map-marker-alt"],["class","user-card-languages",4,"ngIf","ngIfElse"],["class","user-card-chip warning",4,"ngIf"],[4,"ngIf"],[1,"crm-input-checkbox"],[3,"click","value"],[1,"user-card-languages"],[4,"ngFor","ngForOf"],["class","user-card-lang-plus",4,"ngIf"],[1,"user-card-flag"],[1,"user-card-lang-plus"],[1,"user-card-no-langs"],[1,"user-card-chip","warning"],[1,"fas","fa-exclamation-triangle"],[1,"user-card-action",3,"click"]],template:function(p,j){1&p&&n.DNE(0,G,29,15,"div",1),2&p&&n.Y8G("ngIf",!j.isSkeleton&&j.user)},dependencies:[g.YU,g.Sq,g.bT,b.eY,b.hB],styles:[".user-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:12px;border:1px solid #eaeaea;padding:16px;width:300px;max-width:300px;position:relative;display:flex;flex-direction:column;gap:16px;cursor:pointer}.user-card-active[_ngcontent-%COMP%]{outline:2px solid var(--crm-primary-color)}.user-card-checkbox[_ngcontent-%COMP%]{position:absolute;top:12px;right:12px;z-index:1}.user-card-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.user-card-image[_ngcontent-%COMP%]{width:64px;height:64px;border-radius:50%;overflow:hidden;flex-shrink:0}.user-card-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.user-card-info[_ngcontent-%COMP%]{display:flex;flex-direction:column}.user-card-name[_ngcontent-%COMP%]{font-size:15px;font-weight:600;color:#212121}.user-card-role[_ngcontent-%COMP%]{font-size:14px;color:#666}.user-card-contact[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px}.user-card-contact-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:13px;color:#6c6c6c}.user-card-contact-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:13px;color:#9e9e9e}.user-card-bottom[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding-top:12px;border-top:1px solid #eaeaea;flex-wrap:wrap;gap:8px}.user-card-location[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;font-size:13px;color:#666}.user-card-location[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:13px;color:#999}.user-card-languages[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px}.user-card-flag[_ngcontent-%COMP%]{width:20px;height:14px;background-size:cover;border-radius:2px}.user-card-lang-plus[_ngcontent-%COMP%]{font-size:13px;color:#666}.user-card-no-langs[_ngcontent-%COMP%]{font-size:13px;color:#999}.user-card-chip[_ngcontent-%COMP%]{padding:6px 10px;font-size:13px;border-radius:6px;display:inline-flex;align-items:center;gap:6px;width:-moz-fit-content;width:fit-content}.user-card-chip.warning[_ngcontent-%COMP%]{background-color:#fff3cd;color:#856404;border:1px solid #ffeeba}.user-card-action[_ngcontent-%COMP%]{font-size:13px;color:#dc3545;text-align:center;text-decoration:underline;cursor:pointer;margin-top:8px}.user-card-action[_ngcontent-%COMP%]:hover{text-decoration:none}"]}),E})()},3263:(R,k,s)=>{s.d(k,{l:()=>y});var n=s(177),m=s(9465),g=s(9417),b=s(3953);let y=(()=>{var e;class C{}return(e=C).\u0275fac=function(d){return new(d||e)},e.\u0275mod=b.$C({type:e}),e.\u0275inj=b.G2t({imports:[n.MD,g.YN,m.bv]}),C})()},4558:(R,k,s)=>{s.d(k,{w:()=>m});var n=s(3953);let m=(()=>{var g;class b{transform(e,...C){if(null==e||""===e)return"";let u;return u="string"==typeof e?parseFloat(e):e,isNaN(u)?"":u.toString().replace(/\.(?=\d+$)/,",").replace(/\B(?=(\d{3})+(?!\d))/g,".")}}return(g=b).\u0275fac=function(e){return new(e||g)},g.\u0275pipe=n.EJ8({name:"thousandSeparator",type:g,pure:!0}),b})()}}]);