"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3620,3666,8812],{3274:(g,p,o)=>{o.d(p,{K:()=>u});var t=o(177),d=o(3953);let u=(()=>{var l;class i{}return(l=i).\u0275fac=function(n){return new(n||l)},l.\u0275mod=d.$C({type:l}),l.\u0275inj=d.G2t({imports:[t.MD]}),i})()},179:(g,p,o)=>{o.d(p,{Y:()=>a});var t=o(177),d=o(9417),u=o(9465),l=o(4842),i=o(3953);let a=(()=>{var n;class r{}return(n=r).\u0275fac=function(s){return new(s||n)},n.\u0275mod=i.$C({type:n}),n.\u0275inj=i.G2t({imports:[t.MD,d.YN,u.bv,l.h]}),r})()},6580:(g,p,o)=>{o.d(p,{k:()=>l});var t=o(3953);function d(i,a){if(1&i&&(t.j41(0,"div",15),t.EFF(1),t.k0s()),2&i){const n=t.XpG(2);t.R7$(),t.SpI(" ",null==n.listPaginationConfig?null:n.listPaginationConfig.checkedItems," seleccionado ")}}function u(i,a){if(1&i&&(t.j41(0,"div",14),t.DNE(1,d,2,1,"div",15),t.k0s()),2&i){const n=t.XpG();t.R7$(),t.vxM(null!=n.listPaginationConfig&&n.listPaginationConfig.checkedItems||0===(null==n.listPaginationConfig?null:n.listPaginationConfig.checkedItems)?1:-1)}}let l=(()=>{var i;class a{constructor(){this.listPaginationConfig={},this.goPreviousPage=new t.bkB,this.goNextPage=new t.bkB,this.sort=new t.bkB}ngOnInit(){}onGoPreviousPage(r){this.goPreviousPage.emit(r)}onGoNextPage(r){this.goNextPage.emit(r)}onSort(r){this.sort.emit(r)}}return(i=a).\u0275fac=function(r){return new(r||i)},i.\u0275cmp=t.VBU({type:i,selectors:[["app-list-pagination-selectors"]],inputs:{listPaginationConfig:"listPaginationConfig"},outputs:{goPreviousPage:"goPreviousPage",goNextPage:"goNextPage",sort:"sort"},decls:21,vars:6,consts:[[1,"crm-block-pagination-selectors"],[1,"crm-button-pagination"],[1,"crm-button-pagination-text"],[1,"crm-button-pagination-buttons"],[1,"crm-button-pagination-arrow","crm-button-icon-solo",3,"click"],[1,"fas","fa-arrow-left"],[1,"crm-button-pagination-number"],[1,"fas","fa-arrow-right"],[1,"crm-dropdown",3,"click"],[1,"crm-dropdown-text"],[1,"crm-dropdown-right"],[1,"crm-dropdown-value"],[1,"crm-dropdown-arrow"],[1,"fas","fa-chevron-down"],[1,"crm-input-checkbox"],[1,"crm-input-checkbox-pre-label"]],template:function(r,e){1&r&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2),t.EFF(3),t.k0s(),t.j41(4,"div",3)(5,"button",4),t.bIt("click",function(m){return e.onGoPreviousPage(m)}),t.nrm(6,"i",5),t.k0s(),t.j41(7,"div",6),t.EFF(8),t.k0s(),t.j41(9,"button",4),t.bIt("click",function(m){return e.onGoNextPage(m)}),t.nrm(10,"i",7),t.k0s()(),t.j41(11,"div",8),t.bIt("click",function(m){return e.onSort(m)}),t.j41(12,"div",9),t.EFF(13," Ordenar por "),t.k0s(),t.j41(14,"div",10)(15,"div",11),t.EFF(16),t.k0s(),t.j41(17,"div",12),t.nrm(18,"i",13),t.k0s()()()(),t.j41(19,"div"),t.DNE(20,u,2,1,"div",14),t.k0s()()),2&r&&(t.R7$(3),t.E5c(" ",null==e.listPaginationConfig?null:e.listPaginationConfig.pageStartIndex," - ",null==e.listPaginationConfig?null:e.listPaginationConfig.pageEndIndex," de ",null==e.listPaginationConfig?null:e.listPaginationConfig.totalCount," "),t.R7$(5),t.SpI(" P\xe1g ",null==e.listPaginationConfig?null:e.listPaginationConfig.paginationPage," "),t.R7$(8),t.SpI(" ",null==e.listPaginationConfig?null:e.listPaginationConfig.sortField," "),t.R7$(4),t.vxM(null!=e.listPaginationConfig&&e.listPaginationConfig.showSelectItems?20:-1))}}),a})()},5603:(g,p,o)=>{o.d(p,{P:()=>l});var t=o(177),d=o(9417),u=o(3953);let l=(()=>{var i;class a{}return(i=a).\u0275fac=function(r){return new(r||i)},i.\u0275mod=u.$C({type:i}),i.\u0275inj=u.G2t({imports:[t.MD,d.YN]}),a})()},3675:(g,p,o)=>{o.d(p,{S:()=>i});var t=o(177),d=o(9465),u=o(9417),l=o(3953);let i=(()=>{var a;class n{}return(a=n).\u0275fac=function(e){return new(e||a)},a.\u0275mod=l.$C({type:a}),a.\u0275inj=l.G2t({imports:[t.MD,d.bv,u.YN]}),n})()},3895:(g,p,o)=>{o.d(p,{b:()=>a});var t=o(177),d=o(9417),u=o(9465),l=o(4842),i=o(3953);let a=(()=>{var n;class r{}return(n=r).\u0275fac=function(s){return new(s||n)},n.\u0275mod=i.$C({type:n}),n.\u0275inj=i.G2t({imports:[t.MD,d.YN,u.bv,l.h]}),r})()},2606:(g,p,o)=>{o.d(p,{O:()=>i});var t=o(3953),d=o(4842);const u=["tabElement"];function l(a,n){if(1&a){const r=t.RV6();t.j41(0,"div",3,0),t.bIt("click",function(){const s=t.eBV(r).$index,m=t.XpG();return t.Njj(m.onClickTab(s))}),t.EFF(2),t.nI1(3,"translate"),t.k0s()}if(2&a){const r=n.$implicit;t.AVh("active",r.active),t.R7$(2),t.SpI(" ",t.bMT(3,3,"text."+(null==r?null:r.title))||(null==r?null:r.title)," ")}}let i=(()=>{var a;class n{constructor(){this.tabs=[{id:"1",title:"Visi\xf3n general",active:!0},{id:"2",title:"Nuestro equipo",active:!1},{id:"3",title:"Agencias",active:!1}],this.tabClicked=new t.bkB}ngAfterViewInit(){const e=this.tabs.findIndex(s=>s.active)||0;-1!==e&&this.onClickTab(e)}onClickTab(e){console.log("HEY",e),this.tabs.forEach((s,m)=>{s.active=m===e}),this.tabClicked.emit(this.tabs[e].title),this.updateActiveTab(e)}updateActiveTab(e){setTimeout(()=>{var s;const m=null===(s=this.tabElements.get(e))||void 0===s?void 0:s.nativeElement;if(m){const O=m.offsetLeft;document.documentElement.style.setProperty("--indicator-width",m.offsetWidth-12+"px"),document.documentElement.style.setProperty("--indicator-left",`${O}px`)}},0)}}return(a=n).\u0275fac=function(e){return new(e||a)},a.\u0275cmp=t.VBU({type:a,selectors:[["app-tabs"]],viewQuery:function(e,s){if(1&e&&t.GBs(u,5),2&e){let m;t.mGM(m=t.lsd())&&(s.tabElements=m)}},inputs:{tabs:"tabs"},outputs:{tabClicked:"tabClicked"},standalone:!0,features:[t.aNF],decls:3,vars:0,consts:[["tabElement",""],[1,"crm-tabs"],[1,"crm-tabs-tab",3,"active"],[1,"crm-tabs-tab",3,"click"]],template:function(e,s){1&e&&(t.j41(0,"div",1),t.Z7z(1,l,4,5,"div",2,t.fX1),t.k0s()),2&e&&(t.R7$(),t.Dyx(s.tabs))},dependencies:[d.h,d.D9]}),n})()},1129:(g,p,o)=>{o.d(p,{Z:()=>i});var t=o(3953),d=o(6069),u=o(1982);function l(a,n){if(1&a){const r=t.RV6();t.j41(0,"app-country-selector-popover",4),t.bIt("countrySelected",function(s){t.eBV(r);const m=t.XpG();return t.Njj(m.selectCountry(s))})("closePopover",function(){t.eBV(r);const s=t.XpG();return t.Njj(s.dropdownOpen=!1)}),t.k0s()}2&a&&t.Y8G("showCountryCode",!0)}let i=(()=>{var a;class n{constructor(){this.emitCountrySelected=new t.bkB,this.countries=d.X,this.selectedCountry=d.X[0],this.dropdownOpen=!1}ngOnChanges(){const e=this.extractCountryPhoneCodeFromPhoneNumber(this.selectedPhoneNumber);e!==this.extractCountryPhoneCodeFromPhoneNumber(this.selectedCountry.phoneCode)&&this.selectCountryByPhoneCode(e)}toggleDropdown(e){e.stopPropagation(),this.dropdownOpen=!this.dropdownOpen}selectCountry(e){e.event.stopPropagation(),this.selectedCountry=e.country,this.emitCountrySelected.emit(e.country),this.dropdownOpen=!1}selectCountryByPhoneCode(e){const s=this.countries.find(m=>m.phoneCode===e);s&&(this.selectedCountry=s,this.emitCountrySelected.emit(s))}extractCountryPhoneCodeFromPhoneNumber(e){return null==e?void 0:e.split(" ")[0]}}return(a=n).\u0275fac=function(e){return new(e||a)},a.\u0275cmp=t.VBU({type:a,selectors:[["app-flag-country-selector"]],inputs:{selectedPhoneNumber:"selectedPhoneNumber"},outputs:{emitCountrySelected:"emitCountrySelected"},features:[t.OA$],decls:5,vars:3,consts:[["tabindex","0",1,"flag-country-selector-container",3,"click"],[1,"selected-country"],[1,"fas","fa-caret-down","dropdown-arrow"],[3,"showCountryCode"],[3,"countrySelected","closePopover","showCountryCode"]],template:function(e,s){1&e&&(t.j41(0,"div",0),t.bIt("click",function(E){return s.toggleDropdown(E)}),t.j41(1,"div",1),t.nrm(2,"span")(3,"i",2),t.k0s(),t.DNE(4,l,1,1,"app-country-selector-popover",3),t.k0s()),2&e&&(t.R7$(2),t.HbH(null==s.selectedCountry?null:s.selectedCountry.flagClass),t.R7$(2),t.vxM(s.dropdownOpen?4:-1))},dependencies:[u.u],styles:[".flag-country-selector-container[_ngcontent-%COMP%]{position:relative;width:50px;cursor:pointer;color:#000}.selected-country[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:40px;width:50px}.dropdown-arrow[_ngcontent-%COMP%]{margin-left:8px}.dropdown-options[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;width:200px;z-index:9999;background-color:#fff;border:1px solid #ccc;padding:8px 0;border-radius:12px;border:1px solid var(--crm-border-light-color);color:#000;max-height:150px;overflow-y:auto}.option[_ngcontent-%COMP%]{padding:8px;display:flex;align-items:center;cursor:pointer;font-size:14px}.option[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px;display:inline-block;margin-right:8px}.option[_ngcontent-%COMP%]:hover{background-color:#f0f0f0}.flag-country-selector-container[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]{color:#000}.selected-country[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:24px;width:18px;height:18px}"]}),n})()},6812:(g,p,o)=>{o.d(p,{u:()=>i});var t=o(177),d=o(9417),u=o(7754),l=o(3953);let i=(()=>{var a;class n{}return(a=n).\u0275fac=function(e){return new(e||a)},a.\u0275mod=l.$C({type:a}),a.\u0275inj=l.G2t({imports:[t.MD,d.YN,u.X]}),n})()},68:(g,p,o)=>{o.d(p,{k:()=>l});var t=o(177),d=o(9417),u=o(3953);let l=(()=>{var i;class a{}return(i=a).\u0275fac=function(r){return new(r||i)},i.\u0275mod=u.$C({type:i}),i.\u0275inj=u.G2t({imports:[t.MD,d.YN]}),a})()},2306:(g,p,o)=>{o.d(p,{T:()=>l});var t=o(177),d=o(9417),u=o(3953);let l=(()=>{var i;class a{}return(i=a).\u0275fac=function(r){return new(r||i)},i.\u0275mod=u.$C({type:i}),i.\u0275inj=u.G2t({imports:[t.MD,d.YN]}),a})()},8433:(g,p,o)=>{o.d(p,{x:()=>I});var t=o(467),d=o(177),u=o(9417),l=o(9465),i=o(3895),a=o(5603),n=o(3953),r=o(5970),e=o(6039),s=o(1296),m=o(4501),E=o(8397),O=o(345),h=o(8374),D=o(517),y=o(6580),T=o(1880);const b=(v,M,f,_,c)=>({pageStartIndex:v,pageEndIndex:M,totalCount:f,paginationPage:_,sortField:c});let I=(()=>{var v;class M{constructor(_,c,C,P,A,B,L,R,U){this.popoversService=_,this.api=c,this.tableService=C,this.headerService=P,this.toastService=A,this.sanitizer=B,this.modalsService=L,this.router=R,this.activatedRoute=U,this.documents=[],this.allSystemOperationsCount=0,this.filters=null,this.sort={field:"createdAt",order:"desc"},this.pagination={page:0,itemsPerPage:50},this.agencyId=null,this.promotionId=null,this.documentsTableConfig={uniqueId:"table-1",showSelectors:!0,columns:[{key:"createdAt",label:"A\xf1adido en",size:"medium",type:"date"},{key:"title",label:"T\xedtulo",size:"large",type:"text"},{key:"fileName",label:"Nombre del archivo",size:"large",type:"text"},{key:"documentType",label:"Tipo de documento",size:"medium",type:"text"}],rows:[]}}ngOnInit(){this.getData()}ionViewWillEnter(){var _=this;return(0,t.A)(function*(){_.getData()})()}getData(){var _=this;return(0,t.A)(function*(){var c;let C;if(C="operation"===_.options.father?yield _.api.getOperationDocuments(_.options.operationId):yield _.api.getContactOperationDocuments({contactId:_.options.contactId}),_.documents=null===(c=C)||void 0===c||null===(c=c.success)||void 0===c?void 0:c.data,_.documents){let P=_.tableService.convertDataToTableRows(_.documents,_.documentsTableConfig);_.documentsTableConfig.rows=P}})()}openCreateDocumentModal(){var _=this;return(0,t.A)(function*(){yield _.modalsService.onShowCreateOperationDocumentModal(_.options.operationId),_.getData()})()}onGoNextPage(){(this.pagination.page+1)*this.pagination.itemsPerPage<this.allSystemOperationsCount&&(this.pagination.page++,this.getData())}onGoPreviousPage(){this.pagination.page>0&&(this.pagination.page--,this.getData())}updatePagination(){return{startIndex:this.pagination.page*this.pagination.itemsPerPage+1,endIndex:Math.min((this.pagination.page+1)*this.pagination.itemsPerPage,this.allSystemOperationsCount)}}onSort(_){}onRowClicked(_){return(0,t.A)(function*(){})()}onTableButtonClick(_){return(0,t.A)(function*(){})()}}return(v=M).\u0275fac=function(_){return new(_||v)(n.rXU(r.m),n.rXU(e.i),n.rXU(s.a),n.rXU(m.d),n.rXU(E.f),n.rXU(O.up),n.rXU(h.M),n.rXU(D.Ix),n.rXU(D.nX))},v.\u0275cmp=n.VBU({type:v,selectors:[["app-operation-documents"]],inputs:{options:"options"},standalone:!0,features:[n.aNF],decls:15,vars:8,consts:[[1,"crm-block-content"],[1,"crm-block-body",2,"padding","20px"],[1,"crm-header-modal"],[1,"crm-input"],[1,"crm-input-input","crm-input-input-searchbar"],[1,"fas","fa-search"],["type","text","placeholder","Buscar documento"],[1,"crm-buttons-group"],[1,"crm-button",3,"click"],[1,"fa","fa-plus"],[3,"goPreviousPage","goNextPage","sort","listPaginationConfig"],[1,"crm-section"],[3,"actionButtonClick","rowClicked","table"]],template:function(_,c){1&_&&(n.j41(0,"div")(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4),n.nrm(6,"i",5)(7,"input",6),n.k0s()(),n.j41(8,"div",7)(9,"button",8),n.bIt("click",function(){return c.openCreateDocumentModal()}),n.nrm(10,"i",9),n.EFF(11," A\xf1adir Documento "),n.k0s()()(),n.j41(12,"app-list-pagination-selectors",10),n.bIt("goPreviousPage",function(){return c.onGoPreviousPage()})("goNextPage",function(){return c.onGoNextPage()})("sort",function(P){return c.onSort(P)}),n.k0s(),n.j41(13,"div",11)(14,"app-table",12),n.bIt("actionButtonClick",function(P){return c.onTableButtonClick(P)})("rowClicked",function(P){return c.onRowClicked(P)}),n.k0s()()()()()),2&_&&(n.R7$(12),n.Y8G("listPaginationConfig",n.s1E(2,b,c.updatePagination().startIndex,c.updatePagination().endIndex,c.allSystemOperationsCount,c.pagination.page+1,null!=c.sort&&c.sort.field?(null==c.sort?null:c.sort.field)+" "+(null==c.sort?null:c.sort.order):"Fecha de creaci\xf3n")),n.R7$(2),n.Y8G("table",c.documentsTableConfig))},dependencies:[d.MD,l.bv,u.YN,u.X1,a.P,y.k,i.b,T.O]}),M})()},7754:(g,p,o)=>{o.d(p,{X:()=>i});var t=o(177),d=o(9417),u=o(9465),l=o(3953);let i=(()=>{var a;class n{}return(a=n).\u0275fac=function(e){return new(e||a)},a.\u0275mod=l.$C({type:a}),a.\u0275inj=l.G2t({imports:[t.MD,d.YN,u.bv]}),n})()}}]);